"use strict";(self.webpackChunkcortex_react_components=self.webpackChunkcortex_react_components||[]).push([[8665],{"./src/components/CRM/DealCard.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{T:()=>DealCard});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_components_ui_card__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./src/components/ui/card.tsx")),_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ui/badge.tsx"),_barrel_optimize_names_CalendarIcon_UserIcon_lucide_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/user.js"),_barrel_optimize_names_CalendarIcon_UserIcon_lucide_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/calendar.js");function DealCard({deal,customer,categories,onClick}){const propositionCategory=categories.find((c=>{var _deal_categories;return"proposition"===c.type&&(null!==(_deal_categories=deal.categories)&&void 0!==_deal_categories?_deal_categories:[]).includes(c.id)}));return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Zp,{className:"mb-4 cursor-pointer hover:shadow-md transition-shadow border-l-4 border-l-accent",onClick,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.aR,{className:"pb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex justify-between items-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.ZB,{className:"text-lg font-semibold text-foreground",children:null==customer?void 0:customer.name})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:deal.description})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Wu,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center text-sm text-accent",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_CalendarIcon_UserIcon_lucide_react__WEBPACK_IMPORTED_MODULE_3__.A,{className:"w-4 h-4 mr-1 text-xs"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:deal.assignee.name})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex items-center text-sm font-bold text-green-600",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{children:["£",deal.value.toLocaleString()]})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex justify-between items-left mb-3",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_CalendarIcon_UserIcon_lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,{className:"w-3 h-3 mr-1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:new Date(deal.updatedAt).toLocaleDateString()})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex justify-between items-left",children:propositionCategory&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_5__.E,{variant:"secondary",className:"bg-blue-100 text-blue-800 text-xs",children:propositionCategory.name})})]})]})}DealCard.__docgenInfo={description:"",methods:[],displayName:"DealCard",props:{deal:{required:!0,tsType:{name:"Deal"},description:""},customer:{required:!0,tsType:{name:"union",raw:"Partial<Customer> | undefined",elements:[{name:"Partial",elements:[{name:"Customer"}],raw:"Partial<Customer>"},{name:"undefined"}]},description:""},categories:{required:!0,tsType:{name:"Array",elements:[{name:"DealCategory"}],raw:"DealCategory[]"},description:""},onClick:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}}},"./src/components/CRM/KanbanColumn.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>KanbanColumn});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_components_ui_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/button.tsx"),_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/dialog.tsx"),_barrel_optimize_names_PlusCircle_lucide_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/circle-plus.js"),_DealCard__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/CRM/DealCard.tsx"),_atlaskit_pragmatic_drag_and_drop_react_beautiful_dnd_migration__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@atlaskit+pragmatic-drag-and-drop-react-beautiful-dnd-migration@1.3.1_@types+react@19.0_fa0a46fbc9e35eb04bc27e0f9d454020/node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/droppable/index.js"),_atlaskit_pragmatic_drag_and_drop_react_beautiful_dnd_migration__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@atlaskit+pragmatic-drag-and-drop-react-beautiful-dnd-migration@1.3.1_@types+react@19.0_fa0a46fbc9e35eb04bc27e0f9d454020/node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-migration/dist/esm/draggable/index.js"),_NewDealForm__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/CRM/NewDealForm.tsx");function KanbanColumn({status,deals,users,customers,categories,onDealClick,calculateColumnValue,calculateWeightedValue,addNewDeal,onAddCustomer}){const[isDialogOpen,setIsDialogOpen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex flex-col w-80",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{className:"text-xl font-semibold mb-4",children:status}),addNewDeal&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.lG,{open:isDialogOpen,onOpenChange:setIsDialogOpen,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.zM,{asChild:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{className:"mb-4 w-full",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_PlusCircle_lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,{className:"mr-2 h-4 w-4"}),"Add New Deal"]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.Cf,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.c7,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.L3,{children:"Add New Deal"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_NewDealForm__WEBPACK_IMPORTED_MODULE_5__.H,{customers,users,categories,onSubmit:addNewDeal,onAddCustomer,onClose:()=>setIsDialogOpen(!1)})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atlaskit_pragmatic_drag_and_drop_react_beautiful_dnd_migration__WEBPACK_IMPORTED_MODULE_6__.g,{droppableId:status,isDropDisabled:!1,children:provided=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{ref:provided.innerRef,...provided.droppableProps,className:"bg-background/90 p-4 rounded-lg flex-grow min-h-[200px] shadow-inner",children:[deals.map(((deal,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_atlaskit_pragmatic_drag_and_drop_react_beautiful_dnd_migration__WEBPACK_IMPORTED_MODULE_7__.s,{draggableId:deal.id.toString(),index:deal.id,children:provided=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:provided.innerRef,...provided.draggableProps,...provided.dragHandleProps,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_DealCard__WEBPACK_IMPORTED_MODULE_8__.T,{deal,customer:deal.customer,categories,onClick:()=>onDealClick(deal)})})},deal.id.toString()))),provided.placeholder]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mt-4 text-sm p-3 rounded-lg shadow",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"font-semibold",children:["Total:"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"text-green-600",children:["£",calculateColumnValue(deals).toLocaleString()]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"font-semibold",children:["Weighted:"," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"text-blue-600",children:["£",calculateWeightedValue(deals,status).toLocaleString()]})]})]})]})}KanbanColumn.__docgenInfo={description:"",methods:[],displayName:"KanbanColumn",props:{status:{required:!0,tsType:{name:"union",raw:'"Cold" | "Qualified" | "Proposal Made" | "SoW Submitted" | "Won" | "Lost"',elements:[{name:"literal",value:'"Cold"'},{name:"literal",value:'"Qualified"'},{name:"literal",value:'"Proposal Made"'},{name:"literal",value:'"SoW Submitted"'},{name:"literal",value:'"Won"'},{name:"literal",value:'"Lost"'}]},description:""},deals:{required:!0,tsType:{name:"Array",elements:[{name:"Deal"}],raw:"Deal[]"},description:""},users:{required:!1,tsType:{name:"Array",elements:[{name:"User"}],raw:"User[]"},description:""},customers:{required:!0,tsType:{name:"Array",elements:[{name:"Customer"}],raw:"Customer[]"},description:""},categories:{required:!0,tsType:{name:"Array",elements:[{name:"DealCategory"}],raw:"DealCategory[]"},description:""},onDealClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(deal: Deal) => void",signature:{arguments:[{type:{name:"Deal"},name:"deal"}],return:{name:"void"}}},description:""},calculateColumnValue:{required:!0,tsType:{name:"signature",type:"function",raw:"(deals: Deal[]) => number",signature:{arguments:[{type:{name:"Array",elements:[{name:"Deal"}],raw:"Deal[]"},name:"deals"}],return:{name:"number"}}},description:""},calculateWeightedValue:{required:!0,tsType:{name:"signature",type:"function",raw:"(deals: Deal[], status: CRMStatus) => number",signature:{arguments:[{type:{name:"Array",elements:[{name:"Deal"}],raw:"Deal[]"},name:"deals"},{type:{name:"union",raw:'"Cold" | "Qualified" | "Proposal Made" | "SoW Submitted" | "Won" | "Lost"',elements:[{name:"literal",value:'"Cold"'},{name:"literal",value:'"Qualified"'},{name:"literal",value:'"Proposal Made"'},{name:"literal",value:'"SoW Submitted"'},{name:"literal",value:'"Won"'},{name:"literal",value:'"Lost"'}]},name:"status"}],return:{name:"number"}}},description:""},addNewDeal:{required:!1,tsType:{name:"signature",type:"function",raw:"(deal: Deal) => Promise<{ success: boolean; errors?: Record<string, string> }>",signature:{arguments:[{type:{name:"Deal"},name:"deal"}],return:{name:"Promise",elements:[{name:"signature",type:"object",raw:"{ success: boolean; errors?: Record<string, string> }",signature:{properties:[{key:"success",value:{name:"boolean",required:!0}},{key:"errors",value:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>",required:!1}}]}}],raw:"Promise<{ success: boolean; errors?: Record<string, string> }>"}}},description:""},onAddCustomer:{required:!0,tsType:{name:"signature",type:"function",raw:"(customer: Partial<Customer>) => Promise<{ success: boolean; errors?: Record<string, string> }>",signature:{arguments:[{type:{name:"Partial",elements:[{name:"Customer"}],raw:"Partial<Customer>"},name:"customer"}],return:{name:"Promise",elements:[{name:"signature",type:"object",raw:"{ success: boolean; errors?: Record<string, string> }",signature:{properties:[{key:"success",value:{name:"boolean",required:!0}},{key:"errors",value:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>",required:!1}}]}}],raw:"Promise<{ success: boolean; errors?: Record<string, string> }>"}}},description:""}}}},"./src/components/ui/card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BT:()=>CardDescription,Wu:()=>CardContent,ZB:()=>CardTitle,Zp:()=>Card,aR:()=>CardHeader,wL:()=>CardFooter});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/cn.ts");const Card=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("rounded-xl border bg-card text-card-foreground shadow",className),...props})));Card.displayName="Card";const CardHeader=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-col space-y-1.5 p-6",className),...props})));CardHeader.displayName="CardHeader";const CardTitle=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("font-semibold leading-none tracking-tight",className),...props})));CardTitle.displayName="CardTitle";const CardDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-sm text-muted-foreground",className),...props})));CardDescription.displayName="CardDescription";const CardContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("p-6 pt-0",className),...props})));CardContent.displayName="CardContent";const CardFooter=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex items-center p-6 pt-0",className),...props})));CardFooter.displayName="CardFooter",Card.__docgenInfo={description:"",methods:[],displayName:"Card"},CardHeader.__docgenInfo={description:"",methods:[],displayName:"CardHeader"},CardFooter.__docgenInfo={description:"",methods:[],displayName:"CardFooter"},CardTitle.__docgenInfo={description:"",methods:[],displayName:"CardTitle"},CardDescription.__docgenInfo={description:"",methods:[],displayName:"CardDescription"},CardContent.__docgenInfo={description:"",methods:[],displayName:"CardContent"}}}]);