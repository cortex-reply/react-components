"use strict";(self.webpackChunkcortex_react_components=self.webpackChunkcortex_react_components||[]).push([[61968],{"./src/components/AdvancedComponents/CommentSection.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{b:()=>CommentSection});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_components_ui_badge__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ui/badge.tsx"),_components_ui_avatar__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ui/avatar.tsx"),_components_ui_textarea__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/ui/textarea.tsx"),_components_ui_button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/ui/button.tsx"),_components_ui_label__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/label.tsx"),_barrel_optimize_names_MessageSquare_Send_lucide_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/message-square.js"),_barrel_optimize_names_MessageSquare_Send_lucide_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/send.js");const CommentSection=({comments,onAddComment})=>{const[newComment,setNewComment]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_MessageSquare_Send_lucide_react__WEBPACK_IMPORTED_MODULE_2__.A,{className:"h-5 w-5"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_3__.J,{className:"text-lg font-medium",children:"Comments"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_4__.E,{variant:"secondary",children:comments.length})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"space-y-4 max-h-60 overflow-y-auto",children:comments.map((comment=>{return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex gap-3 p-3 bg-muted/50 rounded-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_5__.eu,{className:"h-8 w-8 mt-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_5__.q5,{className:"text-xs bg-muted text-muted-foreground",children:(name=comment.author,name.split(" ").map((n=>n[0])).join("").toUpperCase())})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-medium text-sm",children:comment.author}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"text-xs text-muted-foreground",children:[comment.createdAt.toLocaleDateString()," at ",comment.createdAt.toLocaleTimeString()]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-muted-foreground",children:comment.text})]})]},comment.id);var name}))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_6__.T,{value:newComment,onChange:e=>setNewComment(e.target.value),placeholder:"Add a comment...",rows:2,className:"flex-1 resize-none"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.$,{onClick:()=>{newComment.trim()&&(onAddComment(newComment),setNewComment(""))},disabled:!newComment.trim(),size:"sm",className:"self-end",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_MessageSquare_Send_lucide_react__WEBPACK_IMPORTED_MODULE_8__.A,{className:"h-4 w-4"})})]})]})};CommentSection.__docgenInfo={description:"",methods:[],displayName:"CommentSection",props:{comments:{required:!0,tsType:{name:"Array",elements:[{name:"Comment"}],raw:"Comment[]"},description:""},onAddComment:{required:!0,tsType:{name:"signature",type:"function",raw:"(text: string) => void",signature:{arguments:[{type:{name:"string"},name:"text"}],return:{name:"void"}}},description:""}}}},"./src/components/Projects/AddFileModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{J:()=>AddFileModal});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/dialog.tsx"),_components_ui_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/button.tsx");const AddFileModal=({isOpen,onClose,onAddFile})=>{const[selectedFile,setSelectedFile]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[fileName,setFileName]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[description,setDescription]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[tags,setTags]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),handleSubmit=async e=>{if(e.preventDefault(),!selectedFile)return;const formData=new FormData;formData.append("file",selectedFile),formData.append("name",fileName),description&&formData.append("description",description),tags&&formData.append("tags",tags),null==onAddFile||onAddFile(formData),onClose(),setSelectedFile(null),setFileName(""),setDescription(""),setTags("")};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.lG,{open:isOpen,onOpenChange:onClose,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.Cf,{className:"sm:max-w-md",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.c7,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.L3,{children:"Add New File"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:handleSubmit,className:"grid gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(UploadIcon,{className:"w-10 h-10 text-gray-400"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{id:"dropzone-file",type:"file",className:"hidden",onChange:e=>{var _e_target_files;const file=null===(_e_target_files=e.target.files)||void 0===_e_target_files?void 0:_e_target_files[0];file&&(setSelectedFile(file),fileName||setFileName(file.name))}})]})}),selectedFile&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"font-medium",children:selectedFile.name}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-sm text-muted-foreground",children:[((selectedFile.size||0)/1024).toFixed(2)," KB"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{type:"submit",onClick:handleSubmit,children:"Upload"})]})]})]})})};function UploadIcon(props){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg",{...props,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]})}AddFileModal.__docgenInfo={description:"",methods:[],displayName:"AddFileModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onAddFile:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: FormData) => void",signature:{arguments:[{type:{name:"FormData"},name:"file"}],return:{name:"void"}}},description:""}}}},"./src/components/Projects/TaskDetailsModal.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{H:()=>TaskDetailsModal});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_components_ui_dialog__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ui/dialog.tsx"),_AdvancedComponents_EditableField__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/AdvancedComponents/EditableField.tsx"),_AdvancedComponents_CommentSection__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/AdvancedComponents/CommentSection.tsx"),_TaskSidebar__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/components/Projects/TaskSidebar.tsx"),_file_list__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/Projects/file-list.tsx"),_AddFileModal__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/components/Projects/AddFileModal.tsx"),_components_ui_button__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/ui/button.tsx"),_barrel_optimize_names_Check_File_Loader2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/loader-circle.js"),_barrel_optimize_names_Check_File_Loader2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/check.js"),_barrel_optimize_names_Check_File_Loader2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/x.js"),_barrel_optimize_names_Check_File_Loader2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/file.js"),_barrel_optimize_names_Check_File_Loader2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/upload.js"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const TaskDetailsModal=({isOpen,onClose,initialTask,epics,sprints,onUpdateTask,onDeleteTask,onAddComment,colleagues,onUploadFile,onDeleteFile,onFileUpdate})=>{const[task,setTask]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialTask),[lastUpdated,setLastUpdated]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(new Date),[updateState,setUpdateState]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("idle"),[deleteState,setDeleteState]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("idle"),[isUploadModalOpen,setIsUploadModalOpen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[comments,setComments]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[members,setMembers]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(colleagues);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setTask(initialTask)}),[initialTask]);const handleFieldUpdate=async(fieldName,value)=>{if(value!==task[fieldName]){setUpdateState("loading");try{await onUpdateTask(task.id.toString(),{[fieldName]:value}),setLastUpdated(new Date),setUpdateState("success"),setTimeout((()=>setUpdateState("idle")),1500)}catch(error){console.log("error",error),setUpdateState("error"),setTimeout((()=>setUpdateState("idle")),3e3)}}},taskFiles=(task.files||[]).map((file=>"number"==typeof file?null:file)).filter((file=>null!==file)),canClose="loading"!==updateState&&"loading"!==deleteState,handleClose=()=>{canClose&&onClose()};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_5__.lG,{open:isOpen,onOpenChange:handleClose,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_5__.Cf,{className:"max-w-3xl max-h-[80vh] overflow-y-auto p-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_5__.c7,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_5__.L3,{className:"sr-only",children:null==task?void 0:task.name}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex-1",children:"loading"===updateState?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_File_Loader2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_2__.A,{className:"h-4 w-4 animate-spin"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Updating..."})]}):"success"===updateState?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2 text-sm text-success",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_File_Loader2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__.A,{className:"h-4 w-4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Updated successfully"})]}):"error"===updateState?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2 text-sm text-destructive",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_File_Loader2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,{className:"h-4 w-4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:"Update failed"})]}):null}),!canClose&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-xs text-muted-foreground",children:"Please wait..."})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"lg:col-span-2 space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_AdvancedComponents_EditableField__WEBPACK_IMPORTED_MODULE_6__.B,{fieldName:"name",value:task.name||"",label:"",onSave:handleFieldUpdate,className:"border-b border-border pb-3",disabled:"loading"===updateState}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_AdvancedComponents_EditableField__WEBPACK_IMPORTED_MODULE_6__.B,{fieldName:"description",value:task.description||"",label:"Description",multiline:!0,onSave:handleFieldUpdate,disabled:"loading"===updateState}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_File_Loader2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__.A,{className:"h-4 w-4 text-muted-foreground"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-sm font-medium",children:"Files"})]}),onUploadFile&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_8__.$,{variant:"outline",size:"sm",onClick:()=>setIsUploadModalOpen(!0),disabled:"loading"===updateState,className:"gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_File_Loader2_Upload_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__.A,{className:"h-4 w-4"}),"Upload"]})]}),taskFiles.length>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_file_list__WEBPACK_IMPORTED_MODULE_10__.$,{files:taskFiles,onFileDelete:onDeleteFile?async file=>{if(onDeleteFile){setUpdateState("loading");try{await onDeleteFile(task.id.toString(),file.id.toString()),setLastUpdated(new Date),setUpdateState("success"),setTimeout((()=>setUpdateState("idle")),1500)}catch(error){console.error("Error deleting file:",error),setUpdateState("error"),setTimeout((()=>setUpdateState("idle")),3e3)}}}:void 0,onFileUpdate,showHeader:!1,className:"border rounded-lg",viewMode:"card"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-sm text-muted-foreground py-4 text-center border border-dashed rounded-lg",children:"No files attached"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_AdvancedComponents_CommentSection__WEBPACK_IMPORTED_MODULE_11__.b,{comments:((null==task?void 0:task.comments)||[]).map((el=>{var _el_author;return{author:(null===(_el_author=el.author)||void 0===_el_author?void 0:_el_author.value.name)||"",createdAt:new Date(el.timestamp),text:el.text,id:el.id||""}})),onAddComment:async text=>{if(onAddComment){setUpdateState("loading");try{await(null==onAddComment?void 0:onAddComment({content:text,taskId:task.id.toString()})),setLastUpdated(new Date),setUpdateState("success"),setTimeout((()=>setUpdateState("idle")),1500)}catch(error){setUpdateState("error"),setTimeout((()=>setUpdateState("idle")),3e3)}}}})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_TaskSidebar__WEBPACK_IMPORTED_MODULE_12__.Q,{task,epics,sprints,lastUpdated,onUpdateTask:async(fieldName,value)=>{if(value!==task[fieldName]){setUpdateState("loading");try{await onUpdateTask(task.id.toString(),{[fieldName]:value}),setLastUpdated(new Date),setUpdateState("success"),setTimeout((()=>setUpdateState("idle")),1500)}catch(error){console.log("error",error),setUpdateState("error"),setTimeout((()=>setUpdateState("idle")),3e3)}}},onClose:handleClose,onDelete:async()=>{setDeleteState("loading");try{await onDeleteTask(task.id.toString()),setDeleteState("success"),setTimeout((()=>{onClose(),setDeleteState("idle")}),1e3)}catch(error){setDeleteState("error"),setTimeout((()=>setDeleteState("idle")),3e3)}},isUpdating:"loading"===updateState,isDeleting:"loading"===deleteState,deleteState,teamMembers:members})]})]}),onUploadFile&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_AddFileModal__WEBPACK_IMPORTED_MODULE_13__.J,{isOpen:isUploadModalOpen,onClose:()=>setIsUploadModalOpen(!1),onAddFile:async formData=>{if(onUploadFile){setUpdateState("loading");try{await onUploadFile(task.id.toString(),formData),setLastUpdated(new Date),setUpdateState("success"),setIsUploadModalOpen(!1),setTimeout((()=>setUpdateState("idle")),1500)}catch(error){console.error("Error uploading file:",error),setUpdateState("error"),setTimeout((()=>setUpdateState("idle")),3e3)}}}})]})};TaskDetailsModal.__docgenInfo={description:"",methods:[],displayName:"TaskDetailsModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},initialTask:{required:!0,tsType:{name:"Task"},description:""},epics:{required:!0,tsType:{name:"Array",elements:[{name:"Epic"}],raw:"Epic[]"},description:""},sprints:{required:!0,tsType:{name:"Array",elements:[{name:"Sprint"}],raw:"Sprint[]"},description:""},onUpdateTask:{required:!0,tsType:{name:"signature",type:"function",raw:"(taskId: string, updates: Partial<Task>) => void",signature:{arguments:[{type:{name:"string"},name:"taskId"},{type:{name:"Partial",elements:[{name:"Task"}],raw:"Partial<Task>"},name:"updates"}],return:{name:"void"}}},description:""},onDeleteTask:{required:!0,tsType:{name:"signature",type:"function",raw:"(taskId: string) => Promise<void>",signature:{arguments:[{type:{name:"string"},name:"taskId"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onAddComment:{required:!1,tsType:{name:"signature",type:"function",raw:"({ content, taskId }: { taskId: string; content: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ taskId: string; content: string }",signature:{properties:[{key:"taskId",value:{name:"string",required:!0}},{key:"content",value:{name:"string",required:!0}}]}},name:""}],return:{name:"void"}}},description:""},colleagues:{required:!0,tsType:{name:"Array",elements:[{name:"union",raw:"HumanColleague | TypedDigitalColleague",elements:[{name:"intersection",raw:"User & { type: 'human' }",elements:[{name:"User"},{name:"signature",type:"object",raw:"{ type: 'human' }",signature:{properties:[{key:"type",value:{name:"literal",value:"'human'",required:!0}}]}}]},{name:"intersection",raw:"DigitalColleague & { type: 'digital' }",elements:[{name:"DigitalColleague"},{name:"signature",type:"object",raw:"{ type: 'digital' }",signature:{properties:[{key:"type",value:{name:"literal",value:"'digital'",required:!0}}]}}]}]}],raw:"Colleague[]"},description:""},onUploadFile:{required:!1,tsType:{name:"signature",type:"function",raw:"(taskId: string, file: FormData) => Promise<void>",signature:{arguments:[{type:{name:"string"},name:"taskId"},{type:{name:"FormData"},name:"file"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onDeleteFile:{required:!1,tsType:{name:"signature",type:"function",raw:"(taskId: string, fileId: string) => Promise<void>",signature:{arguments:[{type:{name:"string"},name:"taskId"},{type:{name:"string"},name:"fileId"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},onFileUpdate:{required:!1,tsType:{name:"signature",type:"function",raw:"(fileId: string, content: string) => void",signature:{arguments:[{type:{name:"string"},name:"fileId"},{type:{name:"string"},name:"content"}],return:{name:"void"}}},description:""}}}}}]);