"use strict";(self.webpackChunkcortex_react_components=self.webpackChunkcortex_react_components||[]).push([[721],{"./src/client/ui/popover.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>popover_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/@radix-ui/primitive/dist/index.mjs"),react_compose_refs_dist=__webpack_require__("./node_modules/@radix-ui/react-compose-refs/dist/index.mjs"),react_context_dist=__webpack_require__("./node_modules/@radix-ui/react-context/dist/index.mjs"),react_dismissable_layer_dist=__webpack_require__("./node_modules/@radix-ui/react-dismissable-layer/dist/index.mjs"),react_focus_guards_dist=__webpack_require__("./node_modules/@radix-ui/react-focus-guards/dist/index.mjs"),react_focus_scope_dist=__webpack_require__("./node_modules/@radix-ui/react-focus-scope/dist/index.mjs"),react_id_dist=__webpack_require__("./node_modules/@radix-ui/react-id/dist/index.mjs"),react_popper_dist=__webpack_require__("./node_modules/@radix-ui/react-popper/dist/index.mjs"),react_portal_dist=__webpack_require__("./node_modules/@radix-ui/react-portal/dist/index.mjs"),react_presence_dist=__webpack_require__("./node_modules/@radix-ui/react-presence/dist/index.mjs"),react_primitive_dist=__webpack_require__("./node_modules/@radix-ui/react-primitive/dist/index.mjs"),react_slot_dist=__webpack_require__("./node_modules/@radix-ui/react-slot/dist/index.mjs"),react_use_controllable_state_dist=__webpack_require__("./node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs"),es2015=__webpack_require__("./node_modules/aria-hidden/dist/es2015/index.js"),Combination=__webpack_require__("./node_modules/react-remove-scroll/dist/es2015/Combination.js"),[createPopoverContext,createPopoverScope]=(0,react_context_dist.A)("Popover",[react_popper_dist.Bk]),usePopperScope=(0,react_popper_dist.Bk)(),[PopoverProvider,usePopoverContext]=createPopoverContext("Popover"),Popover=props=>{const{__scopePopover,children,open:openProp,defaultOpen,onOpenChange,modal=!1}=props,popperScope=usePopperScope(__scopePopover),triggerRef=react.useRef(null),[hasCustomAnchor,setHasCustomAnchor]=react.useState(!1),[open=!1,setOpen]=(0,react_use_controllable_state_dist.i)({prop:openProp,defaultProp:defaultOpen,onChange:onOpenChange});return(0,jsx_runtime.jsx)(react_popper_dist.bL,{...popperScope,children:(0,jsx_runtime.jsx)(PopoverProvider,{scope:__scopePopover,contentId:(0,react_id_dist.B)(),triggerRef,open,onOpenChange:setOpen,onOpenToggle:react.useCallback((()=>setOpen((prevOpen=>!prevOpen))),[setOpen]),hasCustomAnchor,onCustomAnchorAdd:react.useCallback((()=>setHasCustomAnchor(!0)),[]),onCustomAnchorRemove:react.useCallback((()=>setHasCustomAnchor(!1)),[]),modal,children})})};Popover.displayName="Popover";var PopoverAnchor=react.forwardRef(((props,forwardedRef)=>{const{__scopePopover,...anchorProps}=props,context=usePopoverContext("PopoverAnchor",__scopePopover),popperScope=usePopperScope(__scopePopover),{onCustomAnchorAdd,onCustomAnchorRemove}=context;return react.useEffect((()=>(onCustomAnchorAdd(),()=>onCustomAnchorRemove())),[onCustomAnchorAdd,onCustomAnchorRemove]),(0,jsx_runtime.jsx)(react_popper_dist.Mz,{...popperScope,...anchorProps,ref:forwardedRef})}));PopoverAnchor.displayName="PopoverAnchor";var PopoverTrigger=react.forwardRef(((props,forwardedRef)=>{const{__scopePopover,...triggerProps}=props,context=usePopoverContext("PopoverTrigger",__scopePopover),popperScope=usePopperScope(__scopePopover),composedTriggerRef=(0,react_compose_refs_dist.s)(forwardedRef,context.triggerRef),trigger=(0,jsx_runtime.jsx)(react_primitive_dist.sG.button,{type:"button","aria-haspopup":"dialog","aria-expanded":context.open,"aria-controls":context.contentId,"data-state":getState(context.open),...triggerProps,ref:composedTriggerRef,onClick:(0,dist.m)(props.onClick,context.onOpenToggle)});return context.hasCustomAnchor?trigger:(0,jsx_runtime.jsx)(react_popper_dist.Mz,{asChild:!0,...popperScope,children:trigger})}));PopoverTrigger.displayName="PopoverTrigger";var[PortalProvider,usePortalContext]=createPopoverContext("PopoverPortal",{forceMount:void 0}),PopoverPortal=props=>{const{__scopePopover,forceMount,children,container}=props,context=usePopoverContext("PopoverPortal",__scopePopover);return(0,jsx_runtime.jsx)(PortalProvider,{scope:__scopePopover,forceMount,children:(0,jsx_runtime.jsx)(react_presence_dist.C,{present:forceMount||context.open,children:(0,jsx_runtime.jsx)(react_portal_dist.Z,{asChild:!0,container,children})})})};PopoverPortal.displayName="PopoverPortal";var PopoverContent=react.forwardRef(((props,forwardedRef)=>{const portalContext=usePortalContext("PopoverContent",props.__scopePopover),{forceMount=portalContext.forceMount,...contentProps}=props,context=usePopoverContext("PopoverContent",props.__scopePopover);return(0,jsx_runtime.jsx)(react_presence_dist.C,{present:forceMount||context.open,children:context.modal?(0,jsx_runtime.jsx)(PopoverContentModal,{...contentProps,ref:forwardedRef}):(0,jsx_runtime.jsx)(PopoverContentNonModal,{...contentProps,ref:forwardedRef})})}));PopoverContent.displayName="PopoverContent";var PopoverContentModal=react.forwardRef(((props,forwardedRef)=>{const context=usePopoverContext("PopoverContent",props.__scopePopover),contentRef=react.useRef(null),composedRefs=(0,react_compose_refs_dist.s)(forwardedRef,contentRef),isRightClickOutsideRef=react.useRef(!1);return react.useEffect((()=>{const content=contentRef.current;if(content)return(0,es2015.Eq)(content)}),[]),(0,jsx_runtime.jsx)(Combination.A,{as:react_slot_dist.DX,allowPinchZoom:!0,children:(0,jsx_runtime.jsx)(PopoverContentImpl,{...props,ref:composedRefs,trapFocus:context.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,dist.m)(props.onCloseAutoFocus,(event=>{event.preventDefault(),isRightClickOutsideRef.current||context.triggerRef.current?.focus()})),onPointerDownOutside:(0,dist.m)(props.onPointerDownOutside,(event=>{const originalEvent=event.detail.originalEvent,ctrlLeftClick=0===originalEvent.button&&!0===originalEvent.ctrlKey,isRightClick=2===originalEvent.button||ctrlLeftClick;isRightClickOutsideRef.current=isRightClick}),{checkForDefaultPrevented:!1}),onFocusOutside:(0,dist.m)(props.onFocusOutside,(event=>event.preventDefault()),{checkForDefaultPrevented:!1})})})})),PopoverContentNonModal=react.forwardRef(((props,forwardedRef)=>{const context=usePopoverContext("PopoverContent",props.__scopePopover),hasInteractedOutsideRef=react.useRef(!1),hasPointerDownOutsideRef=react.useRef(!1);return(0,jsx_runtime.jsx)(PopoverContentImpl,{...props,ref:forwardedRef,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:event=>{props.onCloseAutoFocus?.(event),event.defaultPrevented||(hasInteractedOutsideRef.current||context.triggerRef.current?.focus(),event.preventDefault()),hasInteractedOutsideRef.current=!1,hasPointerDownOutsideRef.current=!1},onInteractOutside:event=>{props.onInteractOutside?.(event),event.defaultPrevented||(hasInteractedOutsideRef.current=!0,"pointerdown"===event.detail.originalEvent.type&&(hasPointerDownOutsideRef.current=!0));const target=event.target,targetIsTrigger=context.triggerRef.current?.contains(target);targetIsTrigger&&event.preventDefault(),"focusin"===event.detail.originalEvent.type&&hasPointerDownOutsideRef.current&&event.preventDefault()}})})),PopoverContentImpl=react.forwardRef(((props,forwardedRef)=>{const{__scopePopover,trapFocus,onOpenAutoFocus,onCloseAutoFocus,disableOutsidePointerEvents,onEscapeKeyDown,onPointerDownOutside,onFocusOutside,onInteractOutside,...contentProps}=props,context=usePopoverContext("PopoverContent",__scopePopover),popperScope=usePopperScope(__scopePopover);return(0,react_focus_guards_dist.Oh)(),(0,jsx_runtime.jsx)(react_focus_scope_dist.n,{asChild:!0,loop:!0,trapped:trapFocus,onMountAutoFocus:onOpenAutoFocus,onUnmountAutoFocus:onCloseAutoFocus,children:(0,jsx_runtime.jsx)(react_dismissable_layer_dist.qW,{asChild:!0,disableOutsidePointerEvents,onInteractOutside,onEscapeKeyDown,onPointerDownOutside,onFocusOutside,onDismiss:()=>context.onOpenChange(!1),children:(0,jsx_runtime.jsx)(react_popper_dist.UC,{"data-state":getState(context.open),role:"dialog",id:context.contentId,...popperScope,...contentProps,ref:forwardedRef,style:{...contentProps.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})})),PopoverClose=react.forwardRef(((props,forwardedRef)=>{const{__scopePopover,...closeProps}=props,context=usePopoverContext("PopoverClose",__scopePopover);return(0,jsx_runtime.jsx)(react_primitive_dist.sG.button,{type:"button",...closeProps,ref:forwardedRef,onClick:(0,dist.m)(props.onClick,(()=>context.onOpenChange(!1)))})}));PopoverClose.displayName="PopoverClose";var PopoverArrow=react.forwardRef(((props,forwardedRef)=>{const{__scopePopover,...arrowProps}=props,popperScope=usePopperScope(__scopePopover);return(0,jsx_runtime.jsx)(react_popper_dist.i3,{...popperScope,...arrowProps,ref:forwardedRef})}));function getState(open){return open?"open":"closed"}PopoverArrow.displayName="PopoverArrow";var Root2=Popover,Trigger=PopoverTrigger,Portal=PopoverPortal,Content2=PopoverContent,cn=__webpack_require__("./src/utils/cn.ts");const popover_Popover=Root2,popover_PopoverTrigger=Trigger,popover_PopoverContent=react.forwardRef((({className,align="center",sideOffset=4,...props},ref)=>(0,jsx_runtime.jsx)(Portal,{children:(0,jsx_runtime.jsx)(Content2,{ref,align,sideOffset,className:(0,cn.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",className),...props})})));popover_PopoverContent.displayName=Content2.displayName,popover_PopoverContent.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:"'center'",computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}};const popover_stories={title:"Base/Popover",component:popover_Popover,tags:["autodocs"],argTypes:{},render:args=>(0,jsx_runtime.jsxs)(popover_Popover,{...args,children:[(0,jsx_runtime.jsx)(popover_PopoverTrigger,{children:"Open"}),(0,jsx_runtime.jsx)(popover_PopoverContent,{children:"Place content for the popover here."})]}),parameters:{layout:"centered",docs:{description:{component:"Displays rich content in a portal, triggered by a button."}}}},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source},description:{story:"The default form of the popover.",...Default.parameters?.docs?.description}}}},"./src/utils/cn.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(...inputs){return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.$)(inputs))}}}]);