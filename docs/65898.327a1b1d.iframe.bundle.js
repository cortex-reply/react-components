"use strict";(self.webpackChunkcortex_react_components=self.webpackChunkcortex_react_components||[]).push([[65898],{"./src/components/Foundary/colleague-form.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>ColleagueForm});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_barrel_optimize_names_Bot_Edit_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/plus.js"),_barrel_optimize_names_Bot_Edit_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/x.js"),_barrel_optimize_names_Bot_Edit_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/bot.js"),_barrel_optimize_names_Bot_Edit_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/square-pen.js"),_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/ui/badge.tsx"),_components_ui_button__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ui/button.tsx"),_components_ui_card__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/ui/card.tsx"),_components_ui_input__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/input.tsx"),_components_ui_label__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/label.tsx"),_components_ui_textarea__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/ui/textarea.tsx"),_knowledge_search__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/components/Foundary/knowledge-search.tsx"),_components_ui_select__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/ui/select.tsx");function ColleagueForm({colleague,onSave,onCancel,isLoading=!1,title,submitLabel,cancelLabel="Cancel",readOnly=!1,availableKnowledgeDocuments=[],availableCapabilities=[],availableModels=[]}){var _formData_capabilities,_formData_coreKnowledge_id,_formData_coreKnowledge,_formData_coreKnowledge1,_formData_coreKnowledge2,_formData_coreKnowledge3,_formData_coreKnowledge4,_formData_coreKnowledge5,_formData_coreKnowledge6;const[formData,setFormData]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((()=>{var _colleague_metadata;const model=(null==colleague?void 0:colleague.model)||(null==colleague||null===(_colleague_metadata=colleague.metadata)||void 0===_colleague_metadata?void 0:_colleague_metadata.model)||null;return{type:"digital",name:"",description:"",jobDescription:"",workInstructions:"",capabilities:[],capabilityLevel:0,coreKnowledge:null,...colleague,model}})),[newSkill,setNewSkill]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[newCapability,setNewCapability]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[selectedCapability,setSelectedCapability]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[editMode,setEditMode]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!readOnly),currentModel=formData.model,currentModelId=currentModel?"number"==typeof currentModel?`${currentModel}`:"object"==typeof currentModel&&null!==currentModel&&"id"in currentModel?`${currentModel.id}`:"":"";(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{if(colleague){var _colleague_metadata;const model=(null==colleague?void 0:colleague.model)||(null==colleague||null===(_colleague_metadata=colleague.metadata)||void 0===_colleague_metadata?void 0:_colleague_metadata.model)||null;setFormData({...colleague,model})}}),[colleague]);const formTitle=title||(editMode?colleague?"Edit Colleague":"Add New Colleague":"View Colleague"),buttonLabel=submitLabel||(colleague?"Update Colleague":"Add Colleague");return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.Zp,{className:"m-8 w-full max-w-4xl mx-auto overflow-y-scroll no-scrollbar",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.aR,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.ZB,{className:"flex items-center gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Bot_Edit_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_9__.A,{className:"h-5 w-5"}),formTitle]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_8__.Wu,{className:"overflow-y-scroll no-scrollbar",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("form",{onSubmit:e=>{e.preventDefault();const digitalData={id:formData.id||parseInt(Date.now().toString()),name:null==formData?void 0:formData.name,type:"digital",description:formData.description,jobDescription:formData.jobDescription||"",workInstructions:formData.workInstructions||"",capabilities:formData.capabilities||[],capabilityLevel:formData.capabilityLevel||0,coreKnowledge:formData.coreKnowledge||null,model:formData.model||null,metadata:formData.metadata||{}};onSave(digitalData)},className:"space-y-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_2__.J,{htmlFor:"name",children:"Name *"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_3__.p,{id:"name",value:(null==formData?void 0:formData.name)||"",onChange:e=>setFormData({...formData,name:e.target.value}),required:!0,disabled:isLoading||!editMode})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_2__.J,{htmlFor:"description",children:"Description"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_10__.T,{id:"description",value:formData.description||"",onChange:e=>setFormData({...formData,description:e.target.value}),rows:3,placeholder:"Brief description of this digital colleague...",disabled:isLoading||!editMode})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-semibold",children:"Digital Colleague Details"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_2__.J,{htmlFor:"jobDescription",children:"Job Description *"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_10__.T,{id:"jobDescription",value:formData.jobDescription||"",onChange:e=>setFormData({...formData,jobDescription:e.target.value}),rows:4,required:"digital"===formData.type,disabled:isLoading||!editMode})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_2__.J,{htmlFor:"workInstructions",children:"Work Instructions"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_10__.T,{id:"workInstructions",value:formData.workInstructions||"",onChange:e=>setFormData({...formData,workInstructions:e.target.value}),rows:4,placeholder:"Enter detailed work instructions for this digital colleague...",disabled:isLoading||!editMode})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_2__.J,{children:"Capabilities"}),editMode&&availableCapabilities.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.l6,{value:selectedCapability,onValueChange:setSelectedCapability,disabled:isLoading,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.bq,{className:"flex-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.yv,{placeholder:"Select a capability"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.gC,{children:availableCapabilities.filter((cap=>{const currentCapabilities=formData.capabilities||[],capValue="object"==typeof cap.value?cap.value.id:cap.value;return!currentCapabilities.some((existingCap=>{const existingValue="object"==typeof existingCap.value?existingCap.value.id:existingCap.value;return existingCap.relationTo===cap.relationTo&&existingValue===capValue}))})).map(((cap,index)=>{const capValue="object"==typeof cap.value?cap.value.id:cap.value,capName="object"==typeof cap.value?cap.value.name:void 0,key=`${cap.relationTo}:${capValue}`,label=capName?`${cap.relationTo}: ${capName}`:`${cap.relationTo} (ID: ${capValue})`;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.eb,{value:key,children:label},key)}))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.$,{type:"button",variant:"outline",size:"icon",onClick:()=>{if(!selectedCapability)return;const[relationTo,valueStr]=selectedCapability.split(":");if(!relationTo)return;const availableCap=availableCapabilities.find((cap=>`${cap.relationTo}:${"number"==typeof cap.value?cap.value:cap.value.id}`===selectedCapability));if(!availableCap)return;const currentCapabilities=formData.capabilities||[],newCapability={relationTo,value:availableCap.value};currentCapabilities.some((cap=>{const capValue="object"==typeof cap.value?cap.value.id:cap.value,newCapValue="object"==typeof newCapability.value?newCapability.value.id:newCapability.value;return cap.relationTo===newCapability.relationTo&&capValue===newCapValue}))||(setFormData({...formData,capabilities:[...currentCapabilities,newCapability]}),setSelectedCapability(""))},disabled:isLoading||!selectedCapability,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Bot_Edit_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_5__.A,{className:"h-4 w-4"})})]}),editMode&&0===availableCapabilities.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-sm text-muted-foreground",children:"No capabilities available. Please provide availableCapabilities prop."}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex flex-wrap gap-2",children:null===(_formData_capabilities=formData.capabilities)||void 0===_formData_capabilities?void 0:_formData_capabilities.map(((cap,index)=>{let displayLabel;if("string"==typeof cap)displayLabel=cap;else{const capValue="object"==typeof cap.value?cap.value.id:cap.value,capName="object"==typeof cap.value?cap.value.name:void 0;displayLabel=capName?`${cap.relationTo}: ${capName}`:`${cap.relationTo} (ID: ${capValue})`}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.E,{className:"gap-1",children:[displayLabel,editMode&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.$,{type:"button",variant:"ghost",size:"icon",className:"h-4 w-4 p-0 hover:bg-accent hover:text-accent-foreground",onClick:()=>(index=>{const currentCapabilities=formData.capabilities||[];setFormData({...formData,capabilities:currentCapabilities.filter(((_,i)=>i!==index))})})(index),disabled:isLoading,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Bot_Edit_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__.A,{className:"h-3 w-3"})})]},`capability-${index}`)}))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_2__.J,{children:"Model"}),editMode&&availableModels.length>0?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.l6,{value:currentModelId||"__none__",onValueChange:modelId=>{if(!modelId||"__none__"===modelId)return void setFormData({...formData,model:null});const model=availableModels.find((m=>`${m.id}`===modelId));if(model){const modelIdNum="string"==typeof model.id?parseInt(model.id,10):model.id;setFormData({...formData,model:isNaN(modelIdNum)?null:modelIdNum})}},disabled:isLoading,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.bq,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.yv,{placeholder:"Select a model"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.gC,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.eb,{value:"__none__",children:"None"}),availableModels.map((model=>{const key=`${model.id}`;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_11__.eb,{value:key,children:model.name},key)}))]})]}):editMode&&0===availableModels.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-sm text-muted-foreground",children:"No models available. Please provide availableModels prop."}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-sm",children:formData.model?"number"==typeof formData.model?`Model ${formData.model}`:"object"==typeof formData.model&&null!==formData.model&&"name"in formData.model?formData.model.name||`Model ${formData.model.id}`:`Model ${formData.model}`:"No model selected"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_knowledge_search__WEBPACK_IMPORTED_MODULE_12__.h,{selectedDocuments:formData.coreKnowledge?[{id:null===(_formData_coreKnowledge=formData.coreKnowledge)||void 0===_formData_coreKnowledge||null===(_formData_coreKnowledge_id=_formData_coreKnowledge.id)||void 0===_formData_coreKnowledge_id?void 0:_formData_coreKnowledge_id.toString(),title:null===(_formData_coreKnowledge1=formData.coreKnowledge)||void 0===_formData_coreKnowledge1?void 0:_formData_coreKnowledge1.name,format:"markdown",content:(null===(_formData_coreKnowledge2=formData.coreKnowledge)||void 0===_formData_coreKnowledge2?void 0:_formData_coreKnowledge2.content)||"",createdAt:new Date(null===(_formData_coreKnowledge3=formData.coreKnowledge)||void 0===_formData_coreKnowledge3?void 0:_formData_coreKnowledge3.createdAt),description:(null===(_formData_coreKnowledge4=formData.coreKnowledge)||void 0===_formData_coreKnowledge4?void 0:_formData_coreKnowledge4.description)||"",metadata:(null===(_formData_coreKnowledge5=formData.coreKnowledge)||void 0===_formData_coreKnowledge5?void 0:_formData_coreKnowledge5.metadata)||{},updatedAt:new Date(null===(_formData_coreKnowledge6=formData.coreKnowledge)||void 0===_formData_coreKnowledge6?void 0:_formData_coreKnowledge6.updatedAt)}]:[],onDocumentsChange:documents=>{var _documents_,_documents_1,_documents_2,_documents_3;const coreKnowledge={createdAt:null===(_documents_=documents[0])||void 0===_documents_?void 0:_documents_.createdAt.toISOString(),id:parseInt(null===(_documents_1=documents[0])||void 0===_documents_1?void 0:_documents_1.id),name:null===(_documents_2=documents[0])||void 0===_documents_2?void 0:_documents_2.title,source:"payload",updatedAt:((null===(_documents_3=documents[0])||void 0===_documents_3?void 0:_documents_3.updatedAt)||new Date).toISOString()};setFormData({...formData,coreKnowledge:documents&&documents.length>0?coreKnowledge:void 0})},label:"Core Knowledge",placeholder:"Search for core knowledge documents...",maxSelections:1,disabled:isLoading||!editMode,availableDocuments:availableKnowledgeDocuments.map((doc=>({id:doc.id.toString(),title:null==doc?void 0:doc.name,name:null==doc?void 0:doc.name,format:"markdown",content:doc.content||"",createdAt:new Date(doc.createdAt),source:doc.source,description:doc.description||"",metadata:doc.metadata||{},updatedAt:new Date(doc.updatedAt)})))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex justify-end gap-2 pt-4 border-t",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.$,{type:"button",variant:"outline",onClick:onCancel,disabled:isLoading,children:editMode?cancelLabel:"Close"}),editMode?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.$,{type:"submit",disabled:isLoading,children:isLoading?"Saving...":buttonLabel}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_4__.$,{type:"button",onClick:e=>{e.preventDefault(),setEditMode(!editMode)},disabled:isLoading,className:"gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Bot_Edit_Plus_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__.A,{className:"h-4 w-4"}),"Edit"]})]})]})})]})}ColleagueForm.__docgenInfo={description:"",methods:[],displayName:"ColleagueForm",props:{colleague:{required:!1,tsType:{name:"DigitalColleague"},description:""},onSave:{required:!0,tsType:{name:"signature",type:"function",raw:"(colleague: TypedDigitalColleague) => void",signature:{arguments:[{type:{name:"intersection",raw:"DigitalColleague & { type: 'digital' }",elements:[{name:"DigitalColleague"},{name:"signature",type:"object",raw:"{ type: 'digital' }",signature:{properties:[{key:"type",value:{name:"literal",value:"'digital'",required:!0}}]}}]},name:"colleague"}],return:{name:"void"}}},description:""},onCancel:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},isLoading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},title:{required:!1,tsType:{name:"string"},description:""},submitLabel:{required:!1,tsType:{name:"string"},description:""},cancelLabel:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Cancel'",computed:!1}},readOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},availableKnowledgeDocuments:{required:!1,tsType:{name:"Array",elements:[{name:"Knowledge"}],raw:"Knowledge[]"},description:"",defaultValue:{value:"[]",computed:!1}},availableCapabilities:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  relationTo: 'mcpTools' | 'capabilities' | 'internalTools' | 'digital-colleagues'\n  value: number | { id: number; name: string }\n}",signature:{properties:[{key:"relationTo",value:{name:"union",raw:"'mcpTools' | 'capabilities' | 'internalTools' | 'digital-colleagues'",elements:[{name:"literal",value:"'mcpTools'"},{name:"literal",value:"'capabilities'"},{name:"literal",value:"'internalTools'"},{name:"literal",value:"'digital-colleagues'"}],required:!0}},{key:"value",value:{name:"union",raw:"number | { id: number; name: string }",elements:[{name:"number"},{name:"signature",type:"object",raw:"{ id: number; name: string }",signature:{properties:[{key:"id",value:{name:"number",required:!0}},{key:"name",value:{name:"string",required:!0}}]}}],required:!0}}]}}],raw:"Array<{\n  relationTo: 'mcpTools' | 'capabilities' | 'internalTools' | 'digital-colleagues'\n  value: number | { id: number; name: string }\n}>"},description:"",defaultValue:{value:"[]",computed:!1}},availableModels:{required:!1,tsType:{name:"Array",elements:[{name:"signature",type:"object",raw:"{\n  id: number | string\n  name: string\n}",signature:{properties:[{key:"id",value:{name:"union",raw:"number | string",elements:[{name:"number"},{name:"string"}],required:!0}},{key:"name",value:{name:"string",required:!0}}]}}],raw:"Array<{\n  id: number | string\n  name: string\n}>"},description:"",defaultValue:{value:"[]",computed:!1}}}}},"./src/components/Foundary/knowledge-search.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{h:()=>KnowledgeSearch});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_barrel_optimize_names_FileText_Search_Tag_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/search.js"),_barrel_optimize_names_FileText_Search_Tag_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/file-text.js"),_barrel_optimize_names_FileText_Search_Tag_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/tag.js"),_barrel_optimize_names_FileText_Search_Tag_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/x.js"),_components_ui_badge__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/ui/badge.tsx"),_components_ui_button__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/ui/button.tsx"),_components_ui_card__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ui/card.tsx"),_components_ui_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ui/input.tsx"),_components_ui_label__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/label.tsx"),_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/ui/scroll-area.tsx");function KnowledgeSearch({selectedDocuments,onDocumentsChange,availableDocuments,label,placeholder="Search knowledge documents...",maxSelections,disabled=!1}){const[searchTerm,setSearchTerm]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[filteredDocuments,setFilteredDocuments]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[showResults,setShowResults]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{if(!searchTerm.trim())return setFilteredDocuments([]),void setShowResults(!1);const filtered=availableDocuments.filter((doc=>{var _doc_description,_doc_tags;if(selectedDocuments.map((d=>d.id)).includes(doc.id))return!1;const searchLower=searchTerm.toLowerCase();return doc.title.toLowerCase().includes(searchLower)||(null===(_doc_description=doc.description)||void 0===_doc_description?void 0:_doc_description.toLowerCase().includes(searchLower))||(null===(_doc_tags=doc.tags)||void 0===_doc_tags?void 0:_doc_tags.some((tag=>tag.toLowerCase().includes(searchLower))))||Object.values(doc.metadata||{}).some((value=>String(value).toLowerCase().includes(searchLower)))}));setFilteredDocuments(filtered),setShowResults(!0)}),[searchTerm,selectedDocuments,availableDocuments]);const canAddMore=!maxSelections||selectedDocuments.length<maxSelections;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_2__.J,{children:label}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"relative",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_FileText_Search_Tag_X_lucide_react__WEBPACK_IMPORTED_MODULE_3__.A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_4__.p,{value:searchTerm,onChange:e=>setSearchTerm(e.target.value),placeholder:canAddMore?placeholder:`Maximum ${maxSelections} documents selected`,className:"pl-9",disabled:disabled||!canAddMore,onFocus:()=>searchTerm&&setShowResults(!0)})]}),showResults&&filteredDocuments.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Zp,{className:"absolute top-full left-0 right-0 z-10 mt-1 max-h-60 overflow-y-scroll no-scrollbar",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_6__.F,{className:"h-full",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Wu,{className:"p-2",children:filteredDocuments.map((doc=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.$,{variant:"ghost",className:"w-full justify-start h-auto p-3 mb-1",onClick:()=>{return document=doc,maxSelections&&selectedDocuments.length>=maxSelections&&selectedDocuments.pop(),onDocumentsChange([...selectedDocuments,document]),setSearchTerm(""),void setShowResults(!1);var document},disabled,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-start gap-3 w-full",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_FileText_Search_Tag_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__.A,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-left flex-1 min-w-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"font-medium text-sm truncate",children:doc.title}),doc.description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:doc.description}),doc.tags&&doc.tags.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex flex-wrap gap-1 mt-2",children:[doc.tags.slice(0,3).map((tag=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_9__.E,{variant:"outline",className:"text-xs",children:tag},tag))),doc.tags.length>3&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_9__.E,{variant:"outline",className:"text-xs",children:["+",doc.tags.length-3," more"]})]})]})]})},doc.id)))})})}),showResults&&searchTerm&&0===filteredDocuments.length&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Zp,{className:"absolute top-full left-0 right-0 z-10 mt-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Wu,{className:"p-4 text-center text-sm text-muted-foreground",children:['No knowledge documents found for "',searchTerm,'"']})})]}),selectedDocuments.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"space-y-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"space-y-2",children:selectedDocuments.map((doc=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_5__.Zp,{className:"p-3",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-start gap-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_FileText_Search_Tag_X_lucide_react__WEBPACK_IMPORTED_MODULE_8__.A,{className:"h-4 w-4 mt-0.5 text-muted-foreground flex-shrink-0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"font-medium text-sm",children:doc.title}),doc.description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"text-xs text-muted-foreground mt-1",children:doc.description}),doc.tags&&doc.tags.length>0&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex flex-wrap gap-1 mt-2",children:doc.tags.map((tag=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_9__.E,{variant:"outline",className:"text-xs",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_FileText_Search_Tag_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__.A,{className:"h-3 w-3 mr-1"}),tag]},tag)))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_7__.$,{type:"button",variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:()=>{return documentId=doc.id,void onDocumentsChange(selectedDocuments.filter((doc=>doc.id!==documentId)));var documentId},disabled,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_FileText_Search_Tag_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__.A,{className:"h-3 w-3"})})]})},doc.id)))})}),showResults&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"fixed inset-0 z-0",onClick:()=>setShowResults(!1)})]})}KnowledgeSearch.__docgenInfo={description:"",methods:[],displayName:"KnowledgeSearch",props:{selectedDocuments:{required:!0,tsType:{name:"Array",elements:[{name:"KnowledgeDocument"}],raw:"KnowledgeDocument[]"},description:""},onDocumentsChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(documents: KnowledgeDocument[]) => void",signature:{arguments:[{type:{name:"Array",elements:[{name:"KnowledgeDocument"}],raw:"KnowledgeDocument[]"},name:"documents"}],return:{name:"void"}}},description:""},availableDocuments:{required:!0,tsType:{name:"Array",elements:[{name:"KnowledgeDocument"}],raw:"KnowledgeDocument[]"},description:""},label:{required:!0,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Search knowledge documents...'",computed:!1}},maxSelections:{required:!1,tsType:{name:"number"},description:""},disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}}},"./src/components/ui/card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BT:()=>CardDescription,Wu:()=>CardContent,ZB:()=>CardTitle,Zp:()=>Card,aR:()=>CardHeader,wL:()=>CardFooter});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/cn.ts");const Card=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("rounded-xl border bg-card text-card-foreground shadow",className),...props})));Card.displayName="Card";const CardHeader=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-col space-y-1.5 p-6",className),...props})));CardHeader.displayName="CardHeader";const CardTitle=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("font-semibold leading-none tracking-tight",className),...props})));CardTitle.displayName="CardTitle";const CardDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-sm text-muted-foreground",className),...props})));CardDescription.displayName="CardDescription";const CardContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("p-6 pt-0",className),...props})));CardContent.displayName="CardContent";const CardFooter=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex items-center p-6 pt-0",className),...props})));CardFooter.displayName="CardFooter",Card.__docgenInfo={description:"",methods:[],displayName:"Card"},CardHeader.__docgenInfo={description:"",methods:[],displayName:"CardHeader"},CardFooter.__docgenInfo={description:"",methods:[],displayName:"CardFooter"},CardTitle.__docgenInfo={description:"",methods:[],displayName:"CardTitle"},CardDescription.__docgenInfo={description:"",methods:[],displayName:"CardDescription"},CardContent.__docgenInfo={description:"",methods:[],displayName:"CardContent"}}}]);