/*! For license information please see 85546.2860a296.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkcortex_react_components=self.webpackChunkcortex_react_components||[]).push([[85546],{"./node_modules/.pnpm/@braintree+sanitize-url@7.1.1/node_modules/@braintree/sanitize-url/dist/constants.js":(__unused_webpack_module,exports)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BLANK_URL=exports.relativeFirstCharacters=exports.whitespaceEscapeCharsRegex=exports.urlSchemeRegex=exports.ctrlCharactersRegex=exports.htmlCtrlEntityRegex=exports.htmlEntitiesRegex=exports.invalidProtocolRegex=void 0,exports.invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,exports.htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,exports.htmlCtrlEntityRegex=/&(newline|tab);/gi,exports.ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,exports.urlSchemeRegex=/^.+(:|&colon;)/gim,exports.whitespaceEscapeCharsRegex=/(\\|%5[cC])((%(6[eE]|72|74))|[nrt])/g,exports.relativeFirstCharacters=[".","/"],exports.BLANK_URL="about:blank"},"./node_modules/.pnpm/@braintree+sanitize-url@7.1.1/node_modules/@braintree/sanitize-url/dist/index.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";exports.J=void 0;var constants_1=__webpack_require__("./node_modules/.pnpm/@braintree+sanitize-url@7.1.1/node_modules/@braintree/sanitize-url/dist/constants.js");function decodeURI(uri){try{return decodeURIComponent(uri)}catch(e){return uri}}exports.J=function sanitizeUrl(url){if(!url)return constants_1.BLANK_URL;var charsToDecode,str,decodedUrl=decodeURI(url.trim());do{charsToDecode=(decodedUrl=decodeURI(decodedUrl=(str=decodedUrl,str.replace(constants_1.ctrlCharactersRegex,"").replace(constants_1.htmlEntitiesRegex,(function(match,dec){return String.fromCharCode(dec)}))).replace(constants_1.htmlCtrlEntityRegex,"").replace(constants_1.ctrlCharactersRegex,"").replace(constants_1.whitespaceEscapeCharsRegex,"").trim())).match(constants_1.ctrlCharactersRegex)||decodedUrl.match(constants_1.htmlEntitiesRegex)||decodedUrl.match(constants_1.htmlCtrlEntityRegex)||decodedUrl.match(constants_1.whitespaceEscapeCharsRegex)}while(charsToDecode&&charsToDecode.length>0);var sanitizedUrl=decodedUrl;if(!sanitizedUrl)return constants_1.BLANK_URL;if(function isRelativeUrlWithoutProtocol(url){return constants_1.relativeFirstCharacters.indexOf(url[0])>-1}(sanitizedUrl))return sanitizedUrl;var trimmedUrl=sanitizedUrl.trimStart(),urlSchemeParseResults=trimmedUrl.match(constants_1.urlSchemeRegex);if(!urlSchemeParseResults)return sanitizedUrl;var urlScheme=urlSchemeParseResults[0].toLowerCase().trim();if(constants_1.invalidProtocolRegex.test(urlScheme))return constants_1.BLANK_URL;var backSanitized=trimmedUrl.replace(/\\/g,"/");if("mailto:"===urlScheme||urlScheme.includes("://"))return backSanitized;if("http:"===urlScheme||"https:"===urlScheme){if(!function isValidUrl(url){return URL.canParse(url)}(backSanitized))return constants_1.BLANK_URL;var url_1=new URL(backSanitized);return url_1.protocol=url_1.protocol.toLowerCase(),url_1.hostname=url_1.hostname.toLowerCase(),url_1.toString()}return backSanitized}},"./node_modules/.pnpm/d3@7.9.0/node_modules/d3/src/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function max(values,valueof){let max;if(void 0===valueof)for(const value of values)null!=value&&(max<value||void 0===max&&value>=value)&&(max=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(max<value||void 0===max&&value>=value)&&(max=value)}return max}function min(values,valueof){let min;if(void 0===valueof)for(const value of values)null!=value&&(min>value||void 0===min&&value>=value)&&(min=value);else{let index=-1;for(let value of values)null!=(value=valueof(value,++index,values))&&(min>value||void 0===min&&value>=value)&&(min=value)}return min}function src_identity(x){return x}__webpack_require__.d(__webpack_exports__,{JLW:()=>arc,l78:()=>axisBottom,tlR:()=>axisTop,qrM:()=>curve_basis,Yu4:()=>curve_basisClosed,IA3:()=>basisOpen,Wi0:()=>bumpX,PGM:()=>bumpY,OEq:()=>bundle,y8u:()=>cardinal,olC:()=>cardinalClosed,IrU:()=>cardinalOpen,oDi:()=>catmullRom,Q7f:()=>catmullRomClosed,cVp:()=>catmullRomOpen,lUB:()=>curve_linear,Lx9:()=>linearClosed,nVG:()=>monotoneX,uxU:()=>monotoneY,Xf2:()=>natural,GZz:()=>step,UPb:()=>stepAfter,dyv:()=>stepBefore,GPZ:()=>format,Sk5:()=>hierarchy,bEH:()=>src_hcl,n8j:()=>line,T9B:()=>max,jkA:()=>min,rLf:()=>pie,WH:()=>band,m4Y:()=>linear_linear,UMr:()=>ordinal,w7C:()=>time,zt:()=>Tableau10,Ltv:()=>src_select,UAC:()=>timeDay,DCK:()=>timeFormat,TUC:()=>timeFriday,Agd:()=>timeHour,t6C:()=>millisecond,wXd:()=>timeMinute,ABi:()=>timeMonday,Ui6:()=>timeMonth,rGn:()=>timeSaturday,ucG:()=>second,YPH:()=>timeSunday,Mol:()=>timeThursday,PGu:()=>timeTuesday,GuW:()=>timeWednesday,hkb:()=>treemap});var axis_top=1,right=2,bottom=3,left=4,epsilon=1e-6;function translateX(x){return"translate("+x+",0)"}function translateY(y){return"translate(0,"+y+")"}function number(scale){return d=>+scale(d)}function center(scale,offset){return offset=Math.max(0,scale.bandwidth()-2*offset)/2,scale.round()&&(offset=Math.round(offset)),d=>+scale(d)+offset}function entering(){return!this.__axis}function axis(orient,scale){var tickArguments=[],tickValues=null,tickFormat=null,tickSizeInner=6,tickSizeOuter=6,tickPadding=3,offset="undefined"!=typeof window&&window.devicePixelRatio>1?0:.5,k=orient===axis_top||orient===left?-1:1,x=orient===left||orient===right?"x":"y",transform=orient===axis_top||orient===bottom?translateX:translateY;function axis(context){var values=null==tickValues?scale.ticks?scale.ticks.apply(scale,tickArguments):scale.domain():tickValues,format=null==tickFormat?scale.tickFormat?scale.tickFormat.apply(scale,tickArguments):src_identity:tickFormat,spacing=Math.max(tickSizeInner,0)+tickPadding,range=scale.range(),range0=+range[0]+offset,range1=+range[range.length-1]+offset,position=(scale.bandwidth?center:number)(scale.copy(),offset),selection=context.selection?context.selection():context,path=selection.selectAll(".domain").data([null]),tick=selection.selectAll(".tick").data(values,scale).order(),tickExit=tick.exit(),tickEnter=tick.enter().append("g").attr("class","tick"),line=tick.select("line"),text=tick.select("text");path=path.merge(path.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),tick=tick.merge(tickEnter),line=line.merge(tickEnter.append("line").attr("stroke","currentColor").attr(x+"2",k*tickSizeInner)),text=text.merge(tickEnter.append("text").attr("fill","currentColor").attr(x,k*spacing).attr("dy",orient===axis_top?"0em":orient===bottom?"0.71em":"0.32em")),context!==selection&&(path=path.transition(context),tick=tick.transition(context),line=line.transition(context),text=text.transition(context),tickExit=tickExit.transition(context).attr("opacity",epsilon).attr("transform",(function(d){return isFinite(d=position(d))?transform(d+offset):this.getAttribute("transform")})),tickEnter.attr("opacity",epsilon).attr("transform",(function(d){var p=this.parentNode.__axis;return transform((p&&isFinite(p=p(d))?p:position(d))+offset)}))),tickExit.remove(),path.attr("d",orient===left||orient===right?tickSizeOuter?"M"+k*tickSizeOuter+","+range0+"H"+offset+"V"+range1+"H"+k*tickSizeOuter:"M"+offset+","+range0+"V"+range1:tickSizeOuter?"M"+range0+","+k*tickSizeOuter+"V"+offset+"H"+range1+"V"+k*tickSizeOuter:"M"+range0+","+offset+"H"+range1),tick.attr("opacity",1).attr("transform",(function(d){return transform(position(d)+offset)})),line.attr(x+"2",k*tickSizeInner),text.attr(x,k*spacing).text(format),selection.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",orient===right?"start":orient===left?"end":"middle"),selection.each((function(){this.__axis=position}))}return axis.scale=function(_){return arguments.length?(scale=_,axis):scale},axis.ticks=function(){return tickArguments=Array.from(arguments),axis},axis.tickArguments=function(_){return arguments.length?(tickArguments=null==_?[]:Array.from(_),axis):tickArguments.slice()},axis.tickValues=function(_){return arguments.length?(tickValues=null==_?null:Array.from(_),axis):tickValues&&tickValues.slice()},axis.tickFormat=function(_){return arguments.length?(tickFormat=_,axis):tickFormat},axis.tickSize=function(_){return arguments.length?(tickSizeInner=tickSizeOuter=+_,axis):tickSizeInner},axis.tickSizeInner=function(_){return arguments.length?(tickSizeInner=+_,axis):tickSizeInner},axis.tickSizeOuter=function(_){return arguments.length?(tickSizeOuter=+_,axis):tickSizeOuter},axis.tickPadding=function(_){return arguments.length?(tickPadding=+_,axis):tickPadding},axis.offset=function(_){return arguments.length?(offset=+_,axis):offset},axis}function axisTop(scale){return axis(axis_top,scale)}function axisBottom(scale){return axis(bottom,scale)}function none(){}function selector(selector){return null==selector?none:function(){return this.querySelector(selector)}}function empty(){return[]}function selectorAll(selector){return null==selector?empty:function(){return this.querySelectorAll(selector)}}function arrayAll(select){return function(){return function array(x){return null==x?[]:Array.isArray(x)?x:Array.from(x)}(select.apply(this,arguments))}}function matcher(selector){return function(){return this.matches(selector)}}function childMatcher(selector){return function(node){return node.matches(selector)}}var find=Array.prototype.find;function childFirst(){return this.firstElementChild}var filter=Array.prototype.filter;function children(){return Array.from(this.children)}function sparse(update){return new Array(update.length)}function EnterNode(parent,datum){this.ownerDocument=parent.ownerDocument,this.namespaceURI=parent.namespaceURI,this._next=null,this._parent=parent,this.__data__=datum}function bindIndex(parent,group,enter,update,exit,data){for(var node,i=0,groupLength=group.length,dataLength=data.length;i<dataLength;++i)(node=group[i])?(node.__data__=data[i],update[i]=node):enter[i]=new EnterNode(parent,data[i]);for(;i<groupLength;++i)(node=group[i])&&(exit[i]=node)}function bindKey(parent,group,enter,update,exit,data,key){var i,node,keyValue,nodeByKeyValue=new Map,groupLength=group.length,dataLength=data.length,keyValues=new Array(groupLength);for(i=0;i<groupLength;++i)(node=group[i])&&(keyValues[i]=keyValue=key.call(node,node.__data__,i,group)+"",nodeByKeyValue.has(keyValue)?exit[i]=node:nodeByKeyValue.set(keyValue,node));for(i=0;i<dataLength;++i)keyValue=key.call(parent,data[i],i,data)+"",(node=nodeByKeyValue.get(keyValue))?(update[i]=node,node.__data__=data[i],nodeByKeyValue.delete(keyValue)):enter[i]=new EnterNode(parent,data[i]);for(i=0;i<groupLength;++i)(node=group[i])&&nodeByKeyValue.get(keyValues[i])===node&&(exit[i]=node)}function datum(node){return node.__data__}function arraylike(data){return"object"==typeof data&&"length"in data?data:Array.from(data)}function ascending(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}EnterNode.prototype={constructor:EnterNode,appendChild:function(child){return this._parent.insertBefore(child,this._next)},insertBefore:function(child,next){return this._parent.insertBefore(child,next)},querySelector:function(selector){return this._parent.querySelector(selector)},querySelectorAll:function(selector){return this._parent.querySelectorAll(selector)}};var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(name){var prefix=name+="",i=prefix.indexOf(":");return i>=0&&"xmlns"!==(prefix=name.slice(0,i))&&(name=name.slice(i+1)),namespaces.hasOwnProperty(prefix)?{space:namespaces[prefix],local:name}:name}function attrRemove(name){return function(){this.removeAttribute(name)}}function attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attrConstant(name,value){return function(){this.setAttribute(name,value)}}function attrConstantNS(fullname,value){return function(){this.setAttributeNS(fullname.space,fullname.local,value)}}function attrFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttribute(name):this.setAttribute(name,v)}}function attrFunctionNS(fullname,value){return function(){var v=value.apply(this,arguments);null==v?this.removeAttributeNS(fullname.space,fullname.local):this.setAttributeNS(fullname.space,fullname.local,v)}}function src_window(node){return node.ownerDocument&&node.ownerDocument.defaultView||node.document&&node||node.defaultView}function styleRemove(name){return function(){this.style.removeProperty(name)}}function styleConstant(name,value,priority){return function(){this.style.setProperty(name,value,priority)}}function styleFunction(name,value,priority){return function(){var v=value.apply(this,arguments);null==v?this.style.removeProperty(name):this.style.setProperty(name,v,priority)}}function styleValue(node,name){return node.style.getPropertyValue(name)||src_window(node).getComputedStyle(node,null).getPropertyValue(name)}function propertyRemove(name){return function(){delete this[name]}}function propertyConstant(name,value){return function(){this[name]=value}}function propertyFunction(name,value){return function(){var v=value.apply(this,arguments);null==v?delete this[name]:this[name]=v}}function classArray(string){return string.trim().split(/^|\s+/)}function classList(node){return node.classList||new ClassList(node)}function ClassList(node){this._node=node,this._names=classArray(node.getAttribute("class")||"")}function classedAdd(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.add(names[i])}function classedRemove(node,names){for(var list=classList(node),i=-1,n=names.length;++i<n;)list.remove(names[i])}function classedTrue(names){return function(){classedAdd(this,names)}}function classedFalse(names){return function(){classedRemove(this,names)}}function classedFunction(names,value){return function(){(value.apply(this,arguments)?classedAdd:classedRemove)(this,names)}}function textRemove(){this.textContent=""}function textConstant(value){return function(){this.textContent=value}}function textFunction(value){return function(){var v=value.apply(this,arguments);this.textContent=null==v?"":v}}function htmlRemove(){this.innerHTML=""}function htmlConstant(value){return function(){this.innerHTML=value}}function htmlFunction(value){return function(){var v=value.apply(this,arguments);this.innerHTML=null==v?"":v}}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function creatorInherit(name){return function(){var document=this.ownerDocument,uri=this.namespaceURI;return uri===xhtml&&document.documentElement.namespaceURI===xhtml?document.createElement(name):document.createElementNS(uri,name)}}function creatorFixed(fullname){return function(){return this.ownerDocument.createElementNS(fullname.space,fullname.local)}}function creator(name){var fullname=namespace(name);return(fullname.local?creatorFixed:creatorInherit)(fullname)}function constantNull(){return null}function remove(){var parent=this.parentNode;parent&&parent.removeChild(this)}function selection_cloneShallow(){var clone=this.cloneNode(!1),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function selection_cloneDeep(){var clone=this.cloneNode(!0),parent=this.parentNode;return parent?parent.insertBefore(clone,this.nextSibling):clone}function onRemove(typename){return function(){var on=this.__on;if(on){for(var o,j=0,i=-1,m=on.length;j<m;++j)o=on[j],typename.type&&o.type!==typename.type||o.name!==typename.name?on[++i]=o:this.removeEventListener(o.type,o.listener,o.options);++i?on.length=i:delete this.__on}}}function onAdd(typename,value,options){return function(){var o,on=this.__on,listener=function contextListener(listener){return function(event){listener.call(this,event,this.__data__)}}(value);if(on)for(var j=0,m=on.length;j<m;++j)if((o=on[j]).type===typename.type&&o.name===typename.name)return this.removeEventListener(o.type,o.listener,o.options),this.addEventListener(o.type,o.listener=listener,o.options=options),void(o.value=value);this.addEventListener(typename.type,listener,options),o={type:typename.type,name:typename.name,value,listener,options},on?on.push(o):this.__on=[o]}}function dispatchEvent(node,type,params){var window=src_window(node),event=window.CustomEvent;"function"==typeof event?event=new event(type,params):(event=window.document.createEvent("Event"),params?(event.initEvent(type,params.bubbles,params.cancelable),event.detail=params.detail):event.initEvent(type,!1,!1)),node.dispatchEvent(event)}function dispatchConstant(type,params){return function(){return dispatchEvent(this,type,params)}}function dispatchFunction(type,params){return function(){return dispatchEvent(this,type,params.apply(this,arguments))}}ClassList.prototype={add:function(name){this._names.indexOf(name)<0&&(this._names.push(name),this._node.setAttribute("class",this._names.join(" ")))},remove:function(name){var i=this._names.indexOf(name);i>=0&&(this._names.splice(i,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(name){return this._names.indexOf(name)>=0}};var root=[null];function Selection(groups,parents){this._groups=groups,this._parents=parents}function selection(){return new Selection([[document.documentElement]],root)}Selection.prototype=selection.prototype={constructor:Selection,select:function selection_select(select){"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode);return new Selection(subgroups,this._parents)},selectAll:function selectAll(select){select="function"==typeof select?arrayAll(select):selectorAll(select);for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&(subgroups.push(select.call(node,node.__data__,i,group)),parents.push(node));return new Selection(subgroups,parents)},selectChild:function selectChild(match){return this.select(null==match?childFirst:function childFind(match){return function(){return find.call(this.children,match)}}("function"==typeof match?match:childMatcher(match)))},selectChildren:function selectChildren(match){return this.selectAll(null==match?children:function childrenFilter(match){return function(){return filter.call(this.children,match)}}("function"==typeof match?match:childMatcher(match)))},filter:function selection_filter(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Selection(subgroups,this._parents)},data:function data(value,key){if(!arguments.length)return Array.from(this,datum);var bind=key?bindKey:bindIndex,parents=this._parents,groups=this._groups;"function"!=typeof value&&(value=function src_constant(x){return function(){return x}}(value));for(var m=groups.length,update=new Array(m),enter=new Array(m),exit=new Array(m),j=0;j<m;++j){var parent=parents[j],group=groups[j],groupLength=group.length,data=arraylike(value.call(parent,parent&&parent.__data__,j,parents)),dataLength=data.length,enterGroup=enter[j]=new Array(dataLength),updateGroup=update[j]=new Array(dataLength);bind(parent,group,enterGroup,updateGroup,exit[j]=new Array(groupLength),data,key);for(var previous,next,i0=0,i1=0;i0<dataLength;++i0)if(previous=enterGroup[i0]){for(i0>=i1&&(i1=i0+1);!(next=updateGroup[i1])&&++i1<dataLength;);previous._next=next||null}}return(update=new Selection(update,parents))._enter=enter,update._exit=exit,update},enter:function enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)},exit:function exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)},join:function join(onenter,onupdate,onexit){var enter=this.enter(),update=this,exit=this.exit();return"function"==typeof onenter?(enter=onenter(enter))&&(enter=enter.selection()):enter=enter.append(onenter+""),null!=onupdate&&(update=onupdate(update))&&(update=update.selection()),null==onexit?exit.remove():onexit(exit),enter&&update?enter.merge(update).order():update},merge:function merge(context){for(var selection=context.selection?context.selection():context,groups0=this._groups,groups1=selection._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Selection(merges,this._parents)},selection:function selection_selection(){return this},order:function order(){for(var groups=this._groups,j=-1,m=groups.length;++j<m;)for(var node,group=groups[j],i=group.length-1,next=group[i];--i>=0;)(node=group[i])&&(next&&4^node.compareDocumentPosition(next)&&next.parentNode.insertBefore(node,next),next=node);return this},sort:function sort(compare){function compareNode(a,b){return a&&b?compare(a.__data__,b.__data__):!a-!b}compare||(compare=ascending);for(var groups=this._groups,m=groups.length,sortgroups=new Array(m),j=0;j<m;++j){for(var node,group=groups[j],n=group.length,sortgroup=sortgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(sortgroup[i]=node);sortgroup.sort(compareNode)}return new Selection(sortgroups,this._parents).order()},call:function call(){var callback=arguments[0];return arguments[0]=this,callback.apply(null,arguments),this},nodes:function nodes(){return Array.from(this)},node:function node(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var group=groups[j],i=0,n=group.length;i<n;++i){var node=group[i];if(node)return node}return null},size:function size(){let size=0;for(const node of this)++size;return size},empty:function selection_empty(){return!this.node()},each:function each(callback){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&callback.call(node,node.__data__,i,group);return this},attr:function attr(name,value){var fullname=namespace(name);if(arguments.length<2){var node=this.node();return fullname.local?node.getAttributeNS(fullname.space,fullname.local):node.getAttribute(fullname)}return this.each((null==value?fullname.local?attrRemoveNS:attrRemove:"function"==typeof value?fullname.local?attrFunctionNS:attrFunction:fullname.local?attrConstantNS:attrConstant)(fullname,value))},style:function style(name,value,priority){return arguments.length>1?this.each((null==value?styleRemove:"function"==typeof value?styleFunction:styleConstant)(name,value,null==priority?"":priority)):styleValue(this.node(),name)},property:function property(name,value){return arguments.length>1?this.each((null==value?propertyRemove:"function"==typeof value?propertyFunction:propertyConstant)(name,value)):this.node()[name]},classed:function classed(name,value){var names=classArray(name+"");if(arguments.length<2){for(var list=classList(this.node()),i=-1,n=names.length;++i<n;)if(!list.contains(names[i]))return!1;return!0}return this.each(("function"==typeof value?classedFunction:value?classedTrue:classedFalse)(names,value))},text:function selection_text(value){return arguments.length?this.each(null==value?textRemove:("function"==typeof value?textFunction:textConstant)(value)):this.node().textContent},html:function html(value){return arguments.length?this.each(null==value?htmlRemove:("function"==typeof value?htmlFunction:htmlConstant)(value)):this.node().innerHTML},raise:function selection_raise(){return this.each(raise)},lower:function selection_lower(){return this.each(lower)},append:function append(name){var create="function"==typeof name?name:creator(name);return this.select((function(){return this.appendChild(create.apply(this,arguments))}))},insert:function insert(name,before){var create="function"==typeof name?name:creator(name),select=null==before?constantNull:"function"==typeof before?before:selector(before);return this.select((function(){return this.insertBefore(create.apply(this,arguments),select.apply(this,arguments)||null)}))},remove:function selection_remove(){return this.each(remove)},clone:function clone(deep){return this.select(deep?selection_cloneDeep:selection_cloneShallow)},datum:function selection_datum(value){return arguments.length?this.property("__data__",value):this.node().__data__},on:function on(typename,value,options){var i,t,typenames=function parseTypenames(typenames){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");return i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),{type:t,name}}))}(typename+""),n=typenames.length;if(!(arguments.length<2)){for(on=value?onAdd:onRemove,i=0;i<n;++i)this.each(on(typenames[i],value,options));return this}var on=this.node().__on;if(on)for(var o,j=0,m=on.length;j<m;++j)for(i=0,o=on[j];i<n;++i)if((t=typenames[i]).type===o.type&&t.name===o.name)return o.value},dispatch:function selection_dispatch(type,params){return this.each(("function"==typeof params?dispatchFunction:dispatchConstant)(type,params))},[Symbol.iterator]:function*iterator(){for(var groups=this._groups,j=0,m=groups.length;j<m;++j)for(var node,group=groups[j],i=0,n=group.length;i<n;++i)(node=group[i])&&(yield node)}};const src_selection=selection;var noop={value:()=>{}};function dispatch_dispatch(){for(var t,i=0,n=arguments.length,_={};i<n;++i){if(!(t=arguments[i]+"")||t in _||/[\s.]/.test(t))throw new Error("illegal type: "+t);_[t]=[]}return new Dispatch(_)}function Dispatch(_){this._=_}function get(type,name){for(var c,i=0,n=type.length;i<n;++i)if((c=type[i]).name===name)return c.value}function set(type,name,callback){for(var i=0,n=type.length;i<n;++i)if(type[i].name===name){type[i]=noop,type=type.slice(0,i).concat(type.slice(i+1));break}return null!=callback&&type.push({name,value:callback}),type}Dispatch.prototype=dispatch_dispatch.prototype={constructor:Dispatch,on:function(typename,callback){var t,_=this._,T=function dispatch_parseTypenames(typenames,types){return typenames.trim().split(/^|\s+/).map((function(t){var name="",i=t.indexOf(".");if(i>=0&&(name=t.slice(i+1),t=t.slice(0,i)),t&&!types.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name}}))}(typename+"",_),i=-1,n=T.length;if(!(arguments.length<2)){if(null!=callback&&"function"!=typeof callback)throw new Error("invalid callback: "+callback);for(;++i<n;)if(t=(typename=T[i]).type)_[t]=set(_[t],typename.name,callback);else if(null==callback)for(t in _)_[t]=set(_[t],typename.name,null);return this}for(;++i<n;)if((t=(typename=T[i]).type)&&(t=get(_[t],typename.name)))return t},copy:function(){var copy={},_=this._;for(var t in _)copy[t]=_[t].slice();return new Dispatch(copy)},call:function(type,that){if((n=arguments.length-2)>0)for(var n,t,args=new Array(n),i=0;i<n;++i)args[i]=arguments[i+2];if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(i=0,n=(t=this._[type]).length;i<n;++i)t[i].value.apply(that,args)},apply:function(type,that,args){if(!this._.hasOwnProperty(type))throw new Error("unknown type: "+type);for(var t=this._[type],i=0,n=t.length;i<n;++i)t[i].value.apply(that,args)}};const src_dispatch=dispatch_dispatch;var taskHead,taskTail,timer_frame=0,timeout=0,interval=0,clockLast=0,clockNow=0,clockSkew=0,clock="object"==typeof performance&&performance.now?performance:Date,setFrame="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(f){setTimeout(f,17)};function now(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}function timer(callback,delay,time){var t=new Timer;return t.restart(callback,delay,time),t}function wake(){clockNow=(clockLast=clock.now())+clockSkew,timer_frame=timeout=0;try{!function timerFlush(){now(),++timer_frame;for(var e,t=taskHead;t;)(e=clockNow-t._time)>=0&&t._call.call(void 0,e),t=t._next;--timer_frame}()}finally{timer_frame=0,function nap(){var t0,t2,t1=taskHead,time=1/0;for(;t1;)t1._call?(time>t1._time&&(time=t1._time),t0=t1,t1=t1._next):(t2=t1._next,t1._next=null,t1=t0?t0._next=t2:taskHead=t2);taskTail=t0,sleep(time)}(),clockNow=0}}function poke(){var now=clock.now(),delay=now-clockLast;delay>1e3&&(clockSkew-=delay,clockLast=now)}function sleep(time){timer_frame||(timeout&&(timeout=clearTimeout(timeout)),time-clockNow>24?(time<1/0&&(timeout=setTimeout(wake,time-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,1e3)),timer_frame=1,setFrame(wake)))}function src_timeout(callback,delay,time){var t=new Timer;return delay=null==delay?0:+delay,t.restart((elapsed=>{t.stop(),callback(elapsed+delay)}),delay,time),t}Timer.prototype=timer.prototype={constructor:Timer,restart:function(callback,delay,time){if("function"!=typeof callback)throw new TypeError("callback is not a function");time=(null==time?now():+time)+(null==delay?0:+delay),this._next||taskTail===this||(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=callback,this._time=time,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};var emptyOn=src_dispatch("start","end","cancel","interrupt"),emptyTween=[];function schedule(node,name,id,index,group,timing){var schedules=node.__transition;if(schedules){if(id in schedules)return}else node.__transition={};!function create(node,id,self){var tween,schedules=node.__transition;function schedule(elapsed){self.state=1,self.timer.restart(start,self.delay,self.time),self.delay<=elapsed&&start(elapsed-self.delay)}function start(elapsed){var i,j,n,o;if(1!==self.state)return stop();for(i in schedules)if((o=schedules[i]).name===self.name){if(3===o.state)return src_timeout(start);4===o.state?(o.state=6,o.timer.stop(),o.on.call("interrupt",node,node.__data__,o.index,o.group),delete schedules[i]):+i<id&&(o.state=6,o.timer.stop(),o.on.call("cancel",node,node.__data__,o.index,o.group),delete schedules[i])}if(src_timeout((function(){3===self.state&&(self.state=4,self.timer.restart(tick,self.delay,self.time),tick(elapsed))})),self.state=2,self.on.call("start",node,node.__data__,self.index,self.group),2===self.state){for(self.state=3,tween=new Array(n=self.tween.length),i=0,j=-1;i<n;++i)(o=self.tween[i].value.call(node,node.__data__,self.index,self.group))&&(tween[++j]=o);tween.length=j+1}}function tick(elapsed){for(var t=elapsed<self.duration?self.ease.call(null,elapsed/self.duration):(self.timer.restart(stop),self.state=5,1),i=-1,n=tween.length;++i<n;)tween[i].call(node,t);5===self.state&&(self.on.call("end",node,node.__data__,self.index,self.group),stop())}function stop(){for(var i in self.state=6,self.timer.stop(),delete schedules[id],schedules)return;delete node.__transition}schedules[id]=self,self.timer=timer(schedule,0,self.time)}(node,id,{name,index,group,on:emptyOn,tween:emptyTween,time:timing.time,delay:timing.delay,duration:timing.duration,ease:timing.ease,timer:null,state:0})}function init(node,id){var schedule=schedule_get(node,id);if(schedule.state>0)throw new Error("too late; already scheduled");return schedule}function schedule_set(node,id){var schedule=schedule_get(node,id);if(schedule.state>3)throw new Error("too late; already running");return schedule}function schedule_get(node,id){var schedule=node.__transition;if(!schedule||!(schedule=schedule[id]))throw new Error("transition not found");return schedule}function src_number(a,b){return a=+a,b=+b,function(t){return a*(1-t)+b*t}}var svgNode,degrees=180/Math.PI,decompose_identity={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(a,b,c,d,e,f){var scaleX,scaleY,skewX;return(scaleX=Math.sqrt(a*a+b*b))&&(a/=scaleX,b/=scaleX),(skewX=a*c+b*d)&&(c-=a*skewX,d-=b*skewX),(scaleY=Math.sqrt(c*c+d*d))&&(c/=scaleY,d/=scaleY,skewX/=scaleY),a*d<b*c&&(a=-a,b=-b,skewX=-skewX,scaleX=-scaleX),{translateX:e,translateY:f,rotate:Math.atan2(b,a)*degrees,skewX:Math.atan(skewX)*degrees,scaleX,scaleY}}function interpolateTransform(parse,pxComma,pxParen,degParen){function pop(s){return s.length?s.pop()+" ":""}return function(a,b){var s=[],q=[];return a=parse(a),b=parse(b),function translate(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push("translate(",null,pxComma,null,pxParen);q.push({i:i-4,x:src_number(xa,xb)},{i:i-2,x:src_number(ya,yb)})}else(xb||yb)&&s.push("translate("+xb+pxComma+yb+pxParen)}(a.translateX,a.translateY,b.translateX,b.translateY,s,q),function rotate(a,b,s,q){a!==b?(a-b>180?b+=360:b-a>180&&(a+=360),q.push({i:s.push(pop(s)+"rotate(",null,degParen)-2,x:src_number(a,b)})):b&&s.push(pop(s)+"rotate("+b+degParen)}(a.rotate,b.rotate,s,q),function skewX(a,b,s,q){a!==b?q.push({i:s.push(pop(s)+"skewX(",null,degParen)-2,x:src_number(a,b)}):b&&s.push(pop(s)+"skewX("+b+degParen)}(a.skewX,b.skewX,s,q),function scale(xa,ya,xb,yb,s,q){if(xa!==xb||ya!==yb){var i=s.push(pop(s)+"scale(",null,",",null,")");q.push({i:i-4,x:src_number(xa,xb)},{i:i-2,x:src_number(ya,yb)})}else 1===xb&&1===yb||s.push(pop(s)+"scale("+xb+","+yb+")")}(a.scaleX,a.scaleY,b.scaleX,b.scaleY,s,q),a=b=null,function(t){for(var o,i=-1,n=q.length;++i<n;)s[(o=q[i]).i]=o.x(t);return s.join("")}}}var interpolateTransformCss=interpolateTransform((function parseCss(value){const m=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(value+"");return m.isIdentity?decompose_identity:decompose(m.a,m.b,m.c,m.d,m.e,m.f)}),"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform((function parseSvg(value){return null==value?decompose_identity:(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",value),(value=svgNode.transform.baseVal.consolidate())?decompose((value=value.matrix).a,value.b,value.c,value.d,value.e,value.f):decompose_identity)}),", ",")",")");function tweenRemove(id,name){var tween0,tween1;return function(){var schedule=schedule_set(this,id),tween=schedule.tween;if(tween!==tween0)for(var i=0,n=(tween1=tween0=tween).length;i<n;++i)if(tween1[i].name===name){(tween1=tween1.slice()).splice(i,1);break}schedule.tween=tween1}}function tweenFunction(id,name,value){var tween0,tween1;if("function"!=typeof value)throw new Error;return function(){var schedule=schedule_set(this,id),tween=schedule.tween;if(tween!==tween0){tween1=(tween0=tween).slice();for(var t={name,value},i=0,n=tween1.length;i<n;++i)if(tween1[i].name===name){tween1[i]=t;break}i===n&&tween1.push(t)}schedule.tween=tween1}}function tweenValue(transition,name,value){var id=transition._id;return transition.each((function(){var schedule=schedule_set(this,id);(schedule.value||(schedule.value={}))[name]=value.apply(this,arguments)})),function(node){return schedule_get(node,id).value[name]}}function src_define(constructor,factory,prototype){constructor.prototype=factory.prototype=prototype,prototype.constructor=constructor}function extend(parent,definition){var prototype=Object.create(parent.prototype);for(var key in definition)prototype[key]=definition[key];return prototype}function Color(){}var brighter=1/.7,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function color_formatHex(){return this.rgb().formatHex()}function color_formatRgb(){return this.rgb().formatRgb()}function color(format){var m,l;return format=(format+"").trim().toLowerCase(),(m=reHex.exec(format))?(l=m[1].length,m=parseInt(m[1],16),6===l?rgbn(m):3===l?new Rgb(m>>8&15|m>>4&240,m>>4&15|240&m,(15&m)<<4|15&m,1):8===l?rgba(m>>24&255,m>>16&255,m>>8&255,(255&m)/255):4===l?rgba(m>>12&15|m>>8&240,m>>8&15|m>>4&240,m>>4&15|240&m,((15&m)<<4|15&m)/255):null):(m=reRgbInteger.exec(format))?new Rgb(m[1],m[2],m[3],1):(m=reRgbPercent.exec(format))?new Rgb(255*m[1]/100,255*m[2]/100,255*m[3]/100,1):(m=reRgbaInteger.exec(format))?rgba(m[1],m[2],m[3],m[4]):(m=reRgbaPercent.exec(format))?rgba(255*m[1]/100,255*m[2]/100,255*m[3]/100,m[4]):(m=reHslPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,1):(m=reHslaPercent.exec(format))?hsla(m[1],m[2]/100,m[3]/100,m[4]):named.hasOwnProperty(format)?rgbn(named[format]):"transparent"===format?new Rgb(NaN,NaN,NaN,0):null}function rgbn(n){return new Rgb(n>>16&255,n>>8&255,255&n,1)}function rgba(r,g,b,a){return a<=0&&(r=g=b=NaN),new Rgb(r,g,b,a)}function rgbConvert(o){return o instanceof Color||(o=color(o)),o?new Rgb((o=o.rgb()).r,o.g,o.b,o.opacity):new Rgb}function color_rgb(r,g,b,opacity){return 1===arguments.length?rgbConvert(r):new Rgb(r,g,b,null==opacity?1:opacity)}function Rgb(r,g,b,opacity){this.r=+r,this.g=+g,this.b=+b,this.opacity=+opacity}function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatRgb(){const a=clampa(this.opacity);return`${1===a?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${1===a?")":`, ${a})`}`}function clampa(opacity){return isNaN(opacity)?1:Math.max(0,Math.min(1,opacity))}function clampi(value){return Math.max(0,Math.min(255,Math.round(value)||0))}function hex(value){return((value=clampi(value))<16?"0":"")+value.toString(16)}function hsla(h,s,l,a){return a<=0?h=s=l=NaN:l<=0||l>=1?h=s=NaN:s<=0&&(h=NaN),new Hsl(h,s,l,a)}function hslConvert(o){if(o instanceof Hsl)return new Hsl(o.h,o.s,o.l,o.opacity);if(o instanceof Color||(o=color(o)),!o)return new Hsl;if(o instanceof Hsl)return o;var r=(o=o.rgb()).r/255,g=o.g/255,b=o.b/255,min=Math.min(r,g,b),max=Math.max(r,g,b),h=NaN,s=max-min,l=(max+min)/2;return s?(h=r===max?(g-b)/s+6*(g<b):g===max?(b-r)/s+2:(r-g)/s+4,s/=l<.5?max+min:2-max-min,h*=60):s=l>0&&l<1?0:h,new Hsl(h,s,l,o.opacity)}function Hsl(h,s,l,opacity){this.h=+h,this.s=+s,this.l=+l,this.opacity=+opacity}function clamph(value){return(value=(value||0)%360)<0?value+360:value}function clampt(value){return Math.max(0,Math.min(1,value||0))}function hsl2rgb(h,m1,m2){return 255*(h<60?m1+(m2-m1)*h/60:h<180?m2:h<240?m1+(m2-m1)*(240-h)/60:m1)}function basis(t1,v0,v1,v2,v3){var t2=t1*t1,t3=t2*t1;return((1-3*t1+3*t2-t3)*v0+(4-6*t2+3*t3)*v1+(1+3*t1+3*t2-3*t3)*v2+t3*v3)/6}src_define(Color,color,{copy(channels){return Object.assign(new this.constructor,this,channels)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:function color_formatHex8(){return this.rgb().formatHex8()},formatHsl:function color_formatHsl(){return hslConvert(this).formatHsl()},formatRgb:color_formatRgb,toString:color_formatRgb}),src_define(Rgb,color_rgb,extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Rgb(this.r*k,this.g*k,this.b*k,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:rgb_formatRgb,toString:rgb_formatRgb})),src_define(Hsl,(function hsl(h,s,l,opacity){return 1===arguments.length?hslConvert(h):new Hsl(h,s,l,null==opacity?1:opacity)}),extend(Color,{brighter(k){return k=null==k?brighter:Math.pow(brighter,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},darker(k){return k=null==k?.7:Math.pow(.7,k),new Hsl(this.h,this.s,this.l*k,this.opacity)},rgb(){var h=this.h%360+360*(this.h<0),s=isNaN(h)||isNaN(this.s)?0:this.s,l=this.l,m2=l+(l<.5?l:1-l)*s,m1=2*l-m2;return new Rgb(hsl2rgb(h>=240?h-240:h+120,m1,m2),hsl2rgb(h,m1,m2),hsl2rgb(h<120?h+240:h-120,m1,m2),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const a=clampa(this.opacity);return`${1===a?"hsl(":"hsla("}${clamph(this.h)}, ${100*clampt(this.s)}%, ${100*clampt(this.l)}%${1===a?")":`, ${a})`}`}}));const d3_interpolate_src_constant=x=>()=>x;function linear(a,d){return function(t){return a+t*d}}function gamma(y){return 1==(y=+y)?nogamma:function(a,b){return b-a?function exponential(a,b,y){return a=Math.pow(a,y),b=Math.pow(b,y)-a,y=1/y,function(t){return Math.pow(a+t*b,y)}}(a,b,y):d3_interpolate_src_constant(isNaN(a)?b:a)}}function nogamma(a,b){var d=b-a;return d?linear(a,d):d3_interpolate_src_constant(isNaN(a)?b:a)}const rgb=function rgbGamma(y){var color=gamma(y);function rgb(start,end){var r=color((start=color_rgb(start)).r,(end=color_rgb(end)).r),g=color(start.g,end.g),b=color(start.b,end.b),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.r=r(t),start.g=g(t),start.b=b(t),start.opacity=opacity(t),start+""}}return rgb.gamma=rgbGamma,rgb}(1);function rgbSpline(spline){return function(colors){var i,color,n=colors.length,r=new Array(n),g=new Array(n),b=new Array(n);for(i=0;i<n;++i)color=color_rgb(colors[i]),r[i]=color.r||0,g[i]=color.g||0,b[i]=color.b||0;return r=spline(r),g=spline(g),b=spline(b),color.opacity=1,function(t){return color.r=r(t),color.g=g(t),color.b=b(t),color+""}}}rgbSpline((function src_basis(values){var n=values.length-1;return function(t){var i=t<=0?t=0:t>=1?(t=1,n-1):Math.floor(t*n),v1=values[i],v2=values[i+1],v0=i>0?values[i-1]:2*v1-v2,v3=i<n-1?values[i+2]:2*v2-v1;return basis((t-i/n)*n,v0,v1,v2,v3)}})),rgbSpline((function basisClosed(values){var n=values.length;return function(t){var i=Math.floor(((t%=1)<0?++t:t)*n),v0=values[(i+n-1)%n],v1=values[i%n],v2=values[(i+1)%n],v3=values[(i+2)%n];return basis((t-i/n)*n,v0,v1,v2,v3)}}));var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function string(a,b){var am,bm,bs,bi=reA.lastIndex=reB.lastIndex=0,i=-1,s=[],q=[];for(a+="",b+="";(am=reA.exec(a))&&(bm=reB.exec(b));)(bs=bm.index)>bi&&(bs=b.slice(bi,bs),s[i]?s[i]+=bs:s[++i]=bs),(am=am[0])===(bm=bm[0])?s[i]?s[i]+=bm:s[++i]=bm:(s[++i]=null,q.push({i,x:src_number(am,bm)})),bi=reB.lastIndex;return bi<b.length&&(bs=b.slice(bi),s[i]?s[i]+=bs:s[++i]=bs),s.length<2?q[0]?function one(b){return function(t){return b(t)+""}}(q[0].x):function zero(b){return function(){return b}}(b):(b=q.length,function(t){for(var o,i=0;i<b;++i)s[(o=q[i]).i]=o.x(t);return s.join("")})}function transition_interpolate(a,b){var c;return("number"==typeof b?src_number:b instanceof color?rgb:(c=color(b))?(b=c,rgb):string)(a,b)}function attr_attrRemove(name){return function(){this.removeAttribute(name)}}function attr_attrRemoveNS(fullname){return function(){this.removeAttributeNS(fullname.space,fullname.local)}}function attr_attrConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttribute(name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attr_attrConstantNS(fullname,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=this.getAttributeNS(fullname.space,fullname.local);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}function attr_attrFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttribute(name))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttribute(name)}}function attr_attrFunctionNS(fullname,interpolate,value){var string00,string10,interpolate0;return function(){var string0,string1,value1=value(this);if(null!=value1)return(string0=this.getAttributeNS(fullname.space,fullname.local))===(string1=value1+"")?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1));this.removeAttributeNS(fullname.space,fullname.local)}}function attrTweenNS(fullname,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function attrInterpolateNS(fullname,i){return function(t){this.setAttributeNS(fullname.space,fullname.local,i.call(this,t))}}(fullname,i)),t0}return tween._value=value,tween}function attrTween(name,value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function attrInterpolate(name,i){return function(t){this.setAttribute(name,i.call(this,t))}}(name,i)),t0}return tween._value=value,tween}function delayFunction(id,value){return function(){init(this,id).delay=+value.apply(this,arguments)}}function delayConstant(id,value){return value=+value,function(){init(this,id).delay=value}}function durationFunction(id,value){return function(){schedule_set(this,id).duration=+value.apply(this,arguments)}}function durationConstant(id,value){return value=+value,function(){schedule_set(this,id).duration=value}}var selection_Selection=src_selection.prototype.constructor;function style_styleRemove(name){return function(){this.style.removeProperty(name)}}var id=0;function Transition(groups,parents,name,id){this._groups=groups,this._parents=parents,this._name=name,this._id=id}function newId(){return++id}var selection_prototype=src_selection.prototype;Transition.prototype=function transition_transition(name){return src_selection().transition(name)}.prototype={constructor:Transition,select:function transition_select(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selector(select));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,subnode,group=groups[j],n=group.length,subgroup=subgroups[j]=new Array(n),i=0;i<n;++i)(node=group[i])&&(subnode=select.call(node,node.__data__,i,group))&&("__data__"in node&&(subnode.__data__=node.__data__),subgroup[i]=subnode,schedule(subgroup[i],name,id,i,subgroup,schedule_get(node,id)));return new Transition(subgroups,this._parents,name,id)},selectAll:function transition_selectAll(select){var name=this._name,id=this._id;"function"!=typeof select&&(select=selectorAll(select));for(var groups=this._groups,m=groups.length,subgroups=[],parents=[],j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){for(var child,children=select.call(node,node.__data__,i,group),inherit=schedule_get(node,id),k=0,l=children.length;k<l;++k)(child=children[k])&&schedule(child,name,id,k,children,inherit);subgroups.push(children),parents.push(node)}return new Transition(subgroups,parents,name,id)},selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:function transition_filter(match){"function"!=typeof match&&(match=matcher(match));for(var groups=this._groups,m=groups.length,subgroups=new Array(m),j=0;j<m;++j)for(var node,group=groups[j],n=group.length,subgroup=subgroups[j]=[],i=0;i<n;++i)(node=group[i])&&match.call(node,node.__data__,i,group)&&subgroup.push(node);return new Transition(subgroups,this._parents,this._name,this._id)},merge:function transition_merge(transition){if(transition._id!==this._id)throw new Error;for(var groups0=this._groups,groups1=transition._groups,m0=groups0.length,m1=groups1.length,m=Math.min(m0,m1),merges=new Array(m0),j=0;j<m;++j)for(var node,group0=groups0[j],group1=groups1[j],n=group0.length,merge=merges[j]=new Array(n),i=0;i<n;++i)(node=group0[i]||group1[i])&&(merge[i]=node);for(;j<m0;++j)merges[j]=groups0[j];return new Transition(merges,this._parents,this._name,this._id)},selection:function transition_selection(){return new selection_Selection(this._groups,this._parents)},transition:function transition(){for(var name=this._name,id0=this._id,id1=newId(),groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)if(node=group[i]){var inherit=schedule_get(node,id0);schedule(node,name,id1,i,group,{time:inherit.time+inherit.delay+inherit.duration,delay:0,duration:inherit.duration,ease:inherit.ease})}return new Transition(groups,this._parents,name,id1)},call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:function transition_on(name,listener){var id=this._id;return arguments.length<2?schedule_get(this.node(),id).on.on(name):this.each(function onFunction(id,name,listener){var on0,on1,sit=function start(name){return(name+"").trim().split(/^|\s+/).every((function(t){var i=t.indexOf(".");return i>=0&&(t=t.slice(0,i)),!t||"start"===t}))}(name)?init:schedule_set;return function(){var schedule=sit(this,id),on=schedule.on;on!==on0&&(on1=(on0=on).copy()).on(name,listener),schedule.on=on1}}(id,name,listener))},attr:function transition_attr(name,value){var fullname=namespace(name),i="transform"===fullname?interpolateTransformSvg:transition_interpolate;return this.attrTween(name,"function"==typeof value?(fullname.local?attr_attrFunctionNS:attr_attrFunction)(fullname,i,tweenValue(this,"attr."+name,value)):null==value?(fullname.local?attr_attrRemoveNS:attr_attrRemove)(fullname):(fullname.local?attr_attrConstantNS:attr_attrConstant)(fullname,i,value))},attrTween:function transition_attrTween(name,value){var key="attr."+name;if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;var fullname=namespace(name);return this.tween(key,(fullname.local?attrTweenNS:attrTween)(fullname,value))},style:function transition_style(name,value,priority){var i="transform"==(name+="")?interpolateTransformCss:transition_interpolate;return null==value?this.styleTween(name,function styleNull(name,interpolate){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),string1=(this.style.removeProperty(name),styleValue(this,name));return string0===string1?null:string0===string00&&string1===string10?interpolate0:interpolate0=interpolate(string00=string0,string10=string1)}}(name,i)).on("end.style."+name,style_styleRemove(name)):"function"==typeof value?this.styleTween(name,function style_styleFunction(name,interpolate,value){var string00,string10,interpolate0;return function(){var string0=styleValue(this,name),value1=value(this),string1=value1+"";return null==value1&&(this.style.removeProperty(name),string1=value1=styleValue(this,name)),string0===string1?null:string0===string00&&string1===string10?interpolate0:(string10=string1,interpolate0=interpolate(string00=string0,value1))}}(name,i,tweenValue(this,"style."+name,value))).each(function styleMaybeRemove(id,name){var on0,on1,listener0,remove,key="style."+name,event="end."+key;return function(){var schedule=schedule_set(this,id),on=schedule.on,listener=null==schedule.value[key]?remove||(remove=style_styleRemove(name)):void 0;on===on0&&listener0===listener||(on1=(on0=on).copy()).on(event,listener0=listener),schedule.on=on1}}(this._id,name)):this.styleTween(name,function style_styleConstant(name,interpolate,value1){var string00,interpolate0,string1=value1+"";return function(){var string0=styleValue(this,name);return string0===string1?null:string0===string00?interpolate0:interpolate0=interpolate(string00=string0,value1)}}(name,i,value),priority).on("end.style."+name,null)},styleTween:function transition_styleTween(name,value,priority){var key="style."+(name+="");if(arguments.length<2)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,function styleTween(name,value,priority){var t,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t=(i0=i)&&function styleInterpolate(name,i,priority){return function(t){this.style.setProperty(name,i.call(this,t),priority)}}(name,i,priority)),t}return tween._value=value,tween}(name,value,null==priority?"":priority))},text:function transition_text(value){return this.tween("text","function"==typeof value?function text_textFunction(value){return function(){var value1=value(this);this.textContent=null==value1?"":value1}}(tweenValue(this,"text",value)):function text_textConstant(value){return function(){this.textContent=value}}(null==value?"":value+""))},textTween:function transition_textTween(value){var key="text";if(arguments.length<1)return(key=this.tween(key))&&key._value;if(null==value)return this.tween(key,null);if("function"!=typeof value)throw new Error;return this.tween(key,function textTween(value){var t0,i0;function tween(){var i=value.apply(this,arguments);return i!==i0&&(t0=(i0=i)&&function textInterpolate(i){return function(t){this.textContent=i.call(this,t)}}(i)),t0}return tween._value=value,tween}(value))},remove:function transition_remove(){return this.on("end.remove",function removeFunction(id){return function(){var parent=this.parentNode;for(var i in this.__transition)if(+i!==id)return;parent&&parent.removeChild(this)}}(this._id))},tween:function tween(name,value){var id=this._id;if(name+="",arguments.length<2){for(var t,tween=schedule_get(this.node(),id).tween,i=0,n=tween.length;i<n;++i)if((t=tween[i]).name===name)return t.value;return null}return this.each((null==value?tweenRemove:tweenFunction)(id,name,value))},delay:function delay(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?delayFunction:delayConstant)(id,value)):schedule_get(this.node(),id).delay},duration:function duration(value){var id=this._id;return arguments.length?this.each(("function"==typeof value?durationFunction:durationConstant)(id,value)):schedule_get(this.node(),id).duration},ease:function ease(value){var id=this._id;return arguments.length?this.each(function easeConstant(id,value){if("function"!=typeof value)throw new Error;return function(){schedule_set(this,id).ease=value}}(id,value)):schedule_get(this.node(),id).ease},easeVarying:function transition_easeVarying(value){if("function"!=typeof value)throw new Error;return this.each(function easeVarying(id,value){return function(){var v=value.apply(this,arguments);if("function"!=typeof v)throw new Error;schedule_set(this,id).ease=v}}(this._id,value))},end:function end(){var on0,on1,that=this,id=that._id,size=that.size();return new Promise((function(resolve,reject){var cancel={value:reject},end={value:function(){0==--size&&resolve()}};that.each((function(){var schedule=schedule_set(this,id),on=schedule.on;on!==on0&&((on1=(on0=on).copy())._.cancel.push(cancel),on1._.interrupt.push(cancel),on1._.end.push(end)),schedule.on=on1})),0===size&&resolve()}))},[Symbol.iterator]:selection_prototype[Symbol.iterator]};var defaultTiming={time:null,delay:0,duration:250,ease:function cubicInOut(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function inherit(node,id){for(var timing;!(timing=node.__transition)||!(timing=timing[id]);)if(!(node=node.parentNode))throw new Error(`transition ${id} not found`);return timing}src_selection.prototype.interrupt=function selection_interrupt(name){return this.each((function(){!function src_interrupt(node,name){var schedule,active,i,schedules=node.__transition,empty=!0;if(schedules){for(i in name=null==name?null:name+"",schedules)(schedule=schedules[i]).name===name?(active=schedule.state>2&&schedule.state<5,schedule.state=6,schedule.timer.stop(),schedule.on.call(active?"interrupt":"cancel",node,node.__data__,schedule.index,schedule.group),delete schedules[i]):empty=!1;empty&&delete node.__transition}}(this,name)}))},src_selection.prototype.transition=function selection_transition(name){var id,timing;name instanceof Transition?(id=name._id,name=name._name):(id=newId(),(timing=defaultTiming).time=now(),name=null==name?null:name+"");for(var groups=this._groups,m=groups.length,j=0;j<m;++j)for(var node,group=groups[j],n=group.length,i=0;i<n;++i)(node=group[i])&&schedule(node,name,id,i,group,timing||inherit(node,id));return new Transition(groups,this._parents,name,id)};const{abs,max:brush_max,min:brush_min}=Math;function number1(e){return[+e[0],+e[1]]}function number2(e){return[number1(e[0]),number1(e[1])]}["w","e"].map(type),["n","s"].map(type),["n","w","e","s","nw","ne","sw","se"].map(type);function type(t){return{type:t}}function formatDecimalParts(x,p){if((i=(x=p?x.toExponential(p-1):x.toExponential()).indexOf("e"))<0)return null;var i,coefficient=x.slice(0,i);return[coefficient.length>1?coefficient[0]+coefficient.slice(2):coefficient,+x.slice(i+1)]}function exponent(x){return(x=formatDecimalParts(Math.abs(x)))?x[1]:NaN}var prefixExponent,re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(specifier){if(!(match=re.exec(specifier)))throw new Error("invalid format: "+specifier);var match;return new FormatSpecifier({fill:match[1],align:match[2],sign:match[3],symbol:match[4],zero:match[5],width:match[6],comma:match[7],precision:match[8]&&match[8].slice(1),trim:match[9],type:match[10]})}function FormatSpecifier(specifier){this.fill=void 0===specifier.fill?" ":specifier.fill+"",this.align=void 0===specifier.align?">":specifier.align+"",this.sign=void 0===specifier.sign?"-":specifier.sign+"",this.symbol=void 0===specifier.symbol?"":specifier.symbol+"",this.zero=!!specifier.zero,this.width=void 0===specifier.width?void 0:+specifier.width,this.comma=!!specifier.comma,this.precision=void 0===specifier.precision?void 0:+specifier.precision,this.trim=!!specifier.trim,this.type=void 0===specifier.type?"":specifier.type+""}function formatRounded(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1];return exponent<0?"0."+new Array(-exponent).join("0")+coefficient:coefficient.length>exponent+1?coefficient.slice(0,exponent+1)+"."+coefficient.slice(exponent+1):coefficient+new Array(exponent-coefficient.length+2).join("0")}formatSpecifier.prototype=FormatSpecifier.prototype,FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};const formatTypes={"%":(x,p)=>(100*x).toFixed(p),b:x=>Math.round(x).toString(2),c:x=>x+"",d:function formatDecimal(x){return Math.abs(x=Math.round(x))>=1e21?x.toLocaleString("en").replace(/,/g,""):x.toString(10)},e:(x,p)=>x.toExponential(p),f:(x,p)=>x.toFixed(p),g:(x,p)=>x.toPrecision(p),o:x=>Math.round(x).toString(8),p:(x,p)=>formatRounded(100*x,p),r:formatRounded,s:function formatPrefixAuto(x,p){var d=formatDecimalParts(x,p);if(!d)return x+"";var coefficient=d[0],exponent=d[1],i=exponent-(prefixExponent=3*Math.max(-8,Math.min(8,Math.floor(exponent/3))))+1,n=coefficient.length;return i===n?coefficient:i>n?coefficient+new Array(i-n+1).join("0"):i>0?coefficient.slice(0,i)+"."+coefficient.slice(i):"0."+new Array(1-i).join("0")+formatDecimalParts(x,Math.max(0,p+i-1))[0]},X:x=>Math.round(x).toString(16).toUpperCase(),x:x=>Math.round(x).toString(16)};function d3_format_src_identity(x){return x}var defaultLocale_locale,format,formatPrefix,map=Array.prototype.map,prefixes=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function locale(locale){var group=void 0===locale.grouping||void 0===locale.thousands?d3_format_src_identity:function formatGroup(grouping,thousands){return function(value,width){for(var i=value.length,t=[],j=0,g=grouping[0],length=0;i>0&&g>0&&(length+g+1>width&&(g=Math.max(1,width-length)),t.push(value.substring(i-=g,i+g)),!((length+=g+1)>width));)g=grouping[j=(j+1)%grouping.length];return t.reverse().join(thousands)}}(map.call(locale.grouping,Number),locale.thousands+""),currencyPrefix=void 0===locale.currency?"":locale.currency[0]+"",currencySuffix=void 0===locale.currency?"":locale.currency[1]+"",decimal=void 0===locale.decimal?".":locale.decimal+"",numerals=void 0===locale.numerals?d3_format_src_identity:function formatNumerals(numerals){return function(value){return value.replace(/[0-9]/g,(function(i){return numerals[+i]}))}}(map.call(locale.numerals,String)),percent=void 0===locale.percent?"%":locale.percent+"",minus=void 0===locale.minus?"−":locale.minus+"",nan=void 0===locale.nan?"NaN":locale.nan+"";function newFormat(specifier){var fill=(specifier=formatSpecifier(specifier)).fill,align=specifier.align,sign=specifier.sign,symbol=specifier.symbol,zero=specifier.zero,width=specifier.width,comma=specifier.comma,precision=specifier.precision,trim=specifier.trim,type=specifier.type;"n"===type?(comma=!0,type="g"):formatTypes[type]||(void 0===precision&&(precision=12),trim=!0,type="g"),(zero||"0"===fill&&"="===align)&&(zero=!0,fill="0",align="=");var prefix="$"===symbol?currencyPrefix:"#"===symbol&&/[boxX]/.test(type)?"0"+type.toLowerCase():"",suffix="$"===symbol?currencySuffix:/[%p]/.test(type)?percent:"",formatType=formatTypes[type],maybeSuffix=/[defgprs%]/.test(type);function format(value){var i,n,c,valuePrefix=prefix,valueSuffix=suffix;if("c"===type)valueSuffix=formatType(value)+valueSuffix,value="";else{var valueNegative=(value=+value)<0||1/value<0;if(value=isNaN(value)?nan:formatType(Math.abs(value),precision),trim&&(value=function formatTrim(s){out:for(var i1,n=s.length,i=1,i0=-1;i<n;++i)switch(s[i]){case".":i0=i1=i;break;case"0":0===i0&&(i0=i),i1=i;break;default:if(!+s[i])break out;i0>0&&(i0=0)}return i0>0?s.slice(0,i0)+s.slice(i1+1):s}(value)),valueNegative&&0==+value&&"+"!==sign&&(valueNegative=!1),valuePrefix=(valueNegative?"("===sign?sign:minus:"-"===sign||"("===sign?"":sign)+valuePrefix,valueSuffix=("s"===type?prefixes[8+prefixExponent/3]:"")+valueSuffix+(valueNegative&&"("===sign?")":""),maybeSuffix)for(i=-1,n=value.length;++i<n;)if(48>(c=value.charCodeAt(i))||c>57){valueSuffix=(46===c?decimal+value.slice(i+1):value.slice(i))+valueSuffix,value=value.slice(0,i);break}}comma&&!zero&&(value=group(value,1/0));var length=valuePrefix.length+value.length+valueSuffix.length,padding=length<width?new Array(width-length+1).join(fill):"";switch(comma&&zero&&(value=group(padding+value,padding.length?width-valueSuffix.length:1/0),padding=""),align){case"<":value=valuePrefix+value+valueSuffix+padding;break;case"=":value=valuePrefix+padding+value+valueSuffix;break;case"^":value=padding.slice(0,length=padding.length>>1)+valuePrefix+value+valueSuffix+padding.slice(length);break;default:value=padding+valuePrefix+value+valueSuffix}return numerals(value)}return precision=void 0===precision?6:/[gprs]/.test(type)?Math.max(1,Math.min(21,precision)):Math.max(0,Math.min(20,precision)),format.toString=function(){return specifier+""},format}return{format:newFormat,formatPrefix:function formatPrefix(specifier,value){var f=newFormat(((specifier=formatSpecifier(specifier)).type="f",specifier)),e=3*Math.max(-8,Math.min(8,Math.floor(exponent(value)/3))),k=Math.pow(10,-e),prefix=prefixes[8+e/3];return function(value){return f(k*value)+prefix}}}}function count(node){var sum=0,children=node.children,i=children&&children.length;if(i)for(;--i>=0;)sum+=children[i].value;else sum=1;node.value=sum}function hierarchy(data,children){data instanceof Map?(data=[void 0,data],void 0===children&&(children=mapChildren)):void 0===children&&(children=objectChildren);for(var node,child,childs,i,n,root=new Node(data),nodes=[root];node=nodes.pop();)if((childs=children(node.data))&&(n=(childs=Array.from(childs)).length))for(node.children=childs,i=n-1;i>=0;--i)nodes.push(child=childs[i]=new Node(childs[i])),child.parent=node,child.depth=node.depth+1;return root.eachBefore(computeHeight)}function objectChildren(d){return d.children}function mapChildren(d){return Array.isArray(d)?d[1]:null}function copyData(node){void 0!==node.data.value&&(node.value=node.data.value),node.data=node.data.data}function computeHeight(node){var height=0;do{node.height=height}while((node=node.parent)&&node.height<++height)}function Node(data){this.data=data,this.depth=this.height=0,this.parent=null}function treemap_round(node){node.x0=Math.round(node.x0),node.y0=Math.round(node.y0),node.x1=Math.round(node.x1),node.y1=Math.round(node.y1)}function dice(parent,x0,y0,x1,y1){for(var node,nodes=parent.children,i=-1,n=nodes.length,k=parent.value&&(x1-x0)/parent.value;++i<n;)(node=nodes[i]).y0=y0,node.y1=y1,node.x0=x0,node.x1=x0+=node.value*k}function slice(parent,x0,y0,x1,y1){for(var node,nodes=parent.children,i=-1,n=nodes.length,k=parent.value&&(y1-y0)/parent.value;++i<n;)(node=nodes[i]).x0=x0,node.x1=x1,node.y0=y0,node.y1=y0+=node.value*k}!function defaultLocale(definition){return defaultLocale_locale=locale(definition),format=defaultLocale_locale.format,formatPrefix=defaultLocale_locale.formatPrefix,defaultLocale_locale}({thousands:",",grouping:[3],currency:["$",""]}),Node.prototype=hierarchy.prototype={constructor:Node,count:function hierarchy_count(){return this.eachAfter(count)},each:function hierarchy_each(callback,that){let index=-1;for(const node of this)callback.call(that,node,++index,this);return this},eachAfter:function eachAfter(callback,that){for(var children,i,n,node=this,nodes=[node],next=[],index=-1;node=nodes.pop();)if(next.push(node),children=node.children)for(i=0,n=children.length;i<n;++i)nodes.push(children[i]);for(;node=next.pop();)callback.call(that,node,++index,this);return this},eachBefore:function eachBefore(callback,that){for(var children,i,node=this,nodes=[node],index=-1;node=nodes.pop();)if(callback.call(that,node,++index,this),children=node.children)for(i=children.length-1;i>=0;--i)nodes.push(children[i]);return this},find:function hierarchy_find(callback,that){let index=-1;for(const node of this)if(callback.call(that,node,++index,this))return node},sum:function sum(value){return this.eachAfter((function(node){for(var sum=+value(node.data)||0,children=node.children,i=children&&children.length;--i>=0;)sum+=children[i].value;node.value=sum}))},sort:function hierarchy_sort(compare){return this.eachBefore((function(node){node.children&&node.children.sort(compare)}))},path:function path(end){for(var start=this,ancestor=function leastCommonAncestor(a,b){if(a===b)return a;var aNodes=a.ancestors(),bNodes=b.ancestors(),c=null;a=aNodes.pop(),b=bNodes.pop();for(;a===b;)c=a,a=aNodes.pop(),b=bNodes.pop();return c}(start,end),nodes=[start];start!==ancestor;)start=start.parent,nodes.push(start);for(var k=nodes.length;end!==ancestor;)nodes.splice(k,0,end),end=end.parent;return nodes},ancestors:function ancestors(){for(var node=this,nodes=[node];node=node.parent;)nodes.push(node);return nodes},descendants:function descendants(){return Array.from(this)},leaves:function leaves(){var leaves=[];return this.eachBefore((function(node){node.children||leaves.push(node)})),leaves},links:function links(){var root=this,links=[];return root.each((function(node){node!==root&&links.push({source:node.parent,target:node})})),links},copy:function node_copy(){return hierarchy(this).eachBefore(copyData)},[Symbol.iterator]:function*hierarchy_iterator(){var current,children,i,n,node=this,next=[node];do{for(current=next.reverse(),next=[];node=current.pop();)if(yield node,children=node.children)for(i=0,n=children.length;i<n;++i)next.push(children[i])}while(next.length)}};const squarify=function custom(ratio){function squarify(parent,x0,y0,x1,y1){!function squarifyRatio(ratio,parent,x0,y0,x1,y1){for(var row,nodeValue,dx,dy,sumValue,minValue,maxValue,newRatio,minRatio,alpha,beta,rows=[],nodes=parent.children,i0=0,i1=0,n=nodes.length,value=parent.value;i0<n;){dx=x1-x0,dy=y1-y0;do{sumValue=nodes[i1++].value}while(!sumValue&&i1<n);for(minValue=maxValue=sumValue,beta=sumValue*sumValue*(alpha=Math.max(dy/dx,dx/dy)/(value*ratio)),minRatio=Math.max(maxValue/beta,beta/minValue);i1<n;++i1){if(sumValue+=nodeValue=nodes[i1].value,nodeValue<minValue&&(minValue=nodeValue),nodeValue>maxValue&&(maxValue=nodeValue),beta=sumValue*sumValue*alpha,(newRatio=Math.max(maxValue/beta,beta/minValue))>minRatio){sumValue-=nodeValue;break}minRatio=newRatio}rows.push(row={value:sumValue,dice:dx<dy,children:nodes.slice(i0,i1)}),row.dice?dice(row,x0,y0,x1,value?y0+=dy*sumValue/value:y1):slice(row,x0,y0,value?x0+=dx*sumValue/value:x1,y1),value-=sumValue,i0=i1}return rows}(ratio,parent,x0,y0,x1,y1)}return squarify.ratio=function(x){return custom((x=+x)>1?x:1)},squarify}((1+Math.sqrt(5))/2);function required(f){if("function"!=typeof f)throw new Error;return f}function constantZero(){return 0}function d3_hierarchy_src_constant(x){return function(){return x}}function treemap(){var tile=squarify,round=!1,dx=1,dy=1,paddingStack=[0],paddingInner=constantZero,paddingTop=constantZero,paddingRight=constantZero,paddingBottom=constantZero,paddingLeft=constantZero;function treemap(root){return root.x0=root.y0=0,root.x1=dx,root.y1=dy,root.eachBefore(positionNode),paddingStack=[0],round&&root.eachBefore(treemap_round),root}function positionNode(node){var p=paddingStack[node.depth],x0=node.x0+p,y0=node.y0+p,x1=node.x1-p,y1=node.y1-p;x1<x0&&(x0=x1=(x0+x1)/2),y1<y0&&(y0=y1=(y0+y1)/2),node.x0=x0,node.y0=y0,node.x1=x1,node.y1=y1,node.children&&(p=paddingStack[node.depth+1]=paddingInner(node)/2,x0+=paddingLeft(node)-p,y0+=paddingTop(node)-p,(x1-=paddingRight(node)-p)<x0&&(x0=x1=(x0+x1)/2),(y1-=paddingBottom(node)-p)<y0&&(y0=y1=(y0+y1)/2),tile(node,x0,y0,x1,y1))}return treemap.round=function(x){return arguments.length?(round=!!x,treemap):round},treemap.size=function(x){return arguments.length?(dx=+x[0],dy=+x[1],treemap):[dx,dy]},treemap.tile=function(x){return arguments.length?(tile=required(x),treemap):tile},treemap.padding=function(x){return arguments.length?treemap.paddingInner(x).paddingOuter(x):treemap.paddingInner()},treemap.paddingInner=function(x){return arguments.length?(paddingInner="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingInner},treemap.paddingOuter=function(x){return arguments.length?treemap.paddingTop(x).paddingRight(x).paddingBottom(x).paddingLeft(x):treemap.paddingTop()},treemap.paddingTop=function(x){return arguments.length?(paddingTop="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingTop},treemap.paddingRight=function(x){return arguments.length?(paddingRight="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingRight},treemap.paddingBottom=function(x){return arguments.length?(paddingBottom="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingBottom},treemap.paddingLeft=function(x){return arguments.length?(paddingLeft="function"==typeof x?x:d3_hierarchy_src_constant(+x),treemap):paddingLeft},treemap}const radians=Math.PI/180,math_degrees=180/Math.PI,t0=4/29,t1=6/29,t2=3*t1*t1,t3=t1*t1*t1;function labConvert(o){if(o instanceof Lab)return new Lab(o.l,o.a,o.b,o.opacity);if(o instanceof Hcl)return hcl2lab(o);o instanceof Rgb||(o=rgbConvert(o));var x,z,r=rgb2lrgb(o.r),g=rgb2lrgb(o.g),b=rgb2lrgb(o.b),y=xyz2lab((.2225045*r+.7168786*g+.0606169*b)/1);return r===g&&g===b?x=z=y:(x=xyz2lab((.4360747*r+.3850649*g+.1430804*b)/.96422),z=xyz2lab((.0139322*r+.0971045*g+.7141733*b)/.82521)),new Lab(116*y-16,500*(x-y),200*(y-z),o.opacity)}function Lab(l,a,b,opacity){this.l=+l,this.a=+a,this.b=+b,this.opacity=+opacity}function xyz2lab(t){return t>t3?Math.pow(t,1/3):t/t2+t0}function lab2xyz(t){return t>t1?t*t*t:t2*(t-t0)}function lrgb2rgb(x){return 255*(x<=.0031308?12.92*x:1.055*Math.pow(x,1/2.4)-.055)}function rgb2lrgb(x){return(x/=255)<=.04045?x/12.92:Math.pow((x+.055)/1.055,2.4)}function hclConvert(o){if(o instanceof Hcl)return new Hcl(o.h,o.c,o.l,o.opacity);if(o instanceof Lab||(o=labConvert(o)),0===o.a&&0===o.b)return new Hcl(NaN,0<o.l&&o.l<100?0:NaN,o.l,o.opacity);var h=Math.atan2(o.b,o.a)*math_degrees;return new Hcl(h<0?h+360:h,Math.sqrt(o.a*o.a+o.b*o.b),o.l,o.opacity)}function hcl(h,c,l,opacity){return 1===arguments.length?hclConvert(h):new Hcl(h,c,l,null==opacity?1:opacity)}function Hcl(h,c,l,opacity){this.h=+h,this.c=+c,this.l=+l,this.opacity=+opacity}function hcl2lab(o){if(isNaN(o.h))return new Lab(o.l,0,0,o.opacity);var h=o.h*radians;return new Lab(o.l,Math.cos(h)*o.c,Math.sin(h)*o.c,o.opacity)}function hcl_hcl(hue){return function(start,end){var h=hue((start=hcl(start)).h,(end=hcl(end)).h),c=nogamma(start.c,end.c),l=nogamma(start.l,end.l),opacity=nogamma(start.opacity,end.opacity);return function(t){return start.h=h(t),start.c=c(t),start.l=l(t),start.opacity=opacity(t),start+""}}}src_define(Lab,(function lab(l,a,b,opacity){return 1===arguments.length?labConvert(l):new Lab(l,a,b,null==opacity?1:opacity)}),extend(Color,{brighter(k){return new Lab(this.l+18*(null==k?1:k),this.a,this.b,this.opacity)},darker(k){return new Lab(this.l-18*(null==k?1:k),this.a,this.b,this.opacity)},rgb(){var y=(this.l+16)/116,x=isNaN(this.a)?y:y+this.a/500,z=isNaN(this.b)?y:y-this.b/200;return new Rgb(lrgb2rgb(3.1338561*(x=.96422*lab2xyz(x))-1.6168667*(y=1*lab2xyz(y))-.4906146*(z=.82521*lab2xyz(z))),lrgb2rgb(-.9787684*x+1.9161415*y+.033454*z),lrgb2rgb(.0719453*x-.2289914*y+1.4052427*z),this.opacity)}})),src_define(Hcl,hcl,extend(Color,{brighter(k){return new Hcl(this.h,this.c,this.l+18*(null==k?1:k),this.opacity)},darker(k){return new Hcl(this.h,this.c,this.l-18*(null==k?1:k),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));const src_hcl=hcl_hcl((function hue(a,b){var d=b-a;return d?linear(a,d>180||d<-180?d-360*Math.round(d/360):d):d3_interpolate_src_constant(isNaN(a)?b:a)}));hcl_hcl(nogamma);function initRange(domain,range){switch(arguments.length){case 0:break;case 1:this.range(domain);break;default:this.range(range).domain(domain)}return this}class InternMap extends Map{constructor(entries,key=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:key}}),null!=entries)for(const[key,value]of entries)this.set(key,value)}get(key){return super.get(intern_get(this,key))}has(key){return super.has(intern_get(this,key))}set(key,value){return super.set(intern_set(this,key),value)}delete(key){return super.delete(intern_delete(this,key))}}Set;function intern_get({_intern,_key},value){const key=_key(value);return _intern.has(key)?_intern.get(key):value}function intern_set({_intern,_key},value){const key=_key(value);return _intern.has(key)?_intern.get(key):(_intern.set(key,value),value)}function intern_delete({_intern,_key},value){const key=_key(value);return _intern.has(key)&&(value=_intern.get(key),_intern.delete(key)),value}function keyof(value){return null!==value&&"object"==typeof value?value.valueOf():value}const implicit=Symbol("implicit");function ordinal(){var index=new InternMap,domain=[],range=[],unknown=implicit;function scale(d){let i=index.get(d);if(void 0===i){if(unknown!==implicit)return unknown;index.set(d,i=domain.push(d)-1)}return range[i%range.length]}return scale.domain=function(_){if(!arguments.length)return domain.slice();domain=[],index=new InternMap;for(const value of _)index.has(value)||index.set(value,domain.push(value)-1);return scale},scale.range=function(_){return arguments.length?(range=Array.from(_),scale):range.slice()},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},scale.copy=function(){return ordinal(domain,range).unknown(unknown)},initRange.apply(scale,arguments),scale}function band(){var step,bandwidth,scale=ordinal().unknown(void 0),domain=scale.domain,ordinalRange=scale.range,r0=0,r1=1,round=!1,paddingInner=0,paddingOuter=0,align=.5;function rescale(){var n=domain().length,reverse=r1<r0,start=reverse?r1:r0,stop=reverse?r0:r1;step=(stop-start)/Math.max(1,n-paddingInner+2*paddingOuter),round&&(step=Math.floor(step)),start+=(stop-start-step*(n-paddingInner))*align,bandwidth=step*(1-paddingInner),round&&(start=Math.round(start),bandwidth=Math.round(bandwidth));var values=function range(start,stop,step){start=+start,stop=+stop,step=(n=arguments.length)<2?(stop=start,start=0,1):n<3?1:+step;for(var i=-1,n=0|Math.max(0,Math.ceil((stop-start)/step)),range=new Array(n);++i<n;)range[i]=start+i*step;return range}(n).map((function(i){return start+step*i}));return ordinalRange(reverse?values.reverse():values)}return delete scale.unknown,scale.domain=function(_){return arguments.length?(domain(_),rescale()):domain()},scale.range=function(_){return arguments.length?([r0,r1]=_,r0=+r0,r1=+r1,rescale()):[r0,r1]},scale.rangeRound=function(_){return[r0,r1]=_,r0=+r0,r1=+r1,round=!0,rescale()},scale.bandwidth=function(){return bandwidth},scale.step=function(){return step},scale.round=function(_){return arguments.length?(round=!!_,rescale()):round},scale.padding=function(_){return arguments.length?(paddingInner=Math.min(1,paddingOuter=+_),rescale()):paddingInner},scale.paddingInner=function(_){return arguments.length?(paddingInner=Math.min(1,_),rescale()):paddingInner},scale.paddingOuter=function(_){return arguments.length?(paddingOuter=+_,rescale()):paddingOuter},scale.align=function(_){return arguments.length?(align=Math.max(0,Math.min(1,_)),rescale()):align},scale.copy=function(){return band(domain(),[r0,r1]).round(round).paddingInner(paddingInner).paddingOuter(paddingOuter).align(align)},initRange.apply(rescale(),arguments)}const e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function tickSpec(start,stop,count){const step=(stop-start)/Math.max(0,count),power=Math.floor(Math.log10(step)),error=step/Math.pow(10,power),factor=error>=e10?10:error>=e5?5:error>=e2?2:1;let i1,i2,inc;return power<0?(inc=Math.pow(10,-power)/factor,i1=Math.round(start*inc),i2=Math.round(stop*inc),i1/inc<start&&++i1,i2/inc>stop&&--i2,inc=-inc):(inc=Math.pow(10,power)*factor,i1=Math.round(start/inc),i2=Math.round(stop/inc),i1*inc<start&&++i1,i2*inc>stop&&--i2),i2<i1&&.5<=count&&count<2?tickSpec(start,stop,2*count):[i1,i2,inc]}function tickIncrement(start,stop,count){return tickSpec(start=+start,stop=+stop,count=+count)[2]}function tickStep(start,stop,count){count=+count;const reverse=(stop=+stop)<(start=+start),inc=reverse?tickIncrement(stop,start,count):tickIncrement(start,stop,count);return(reverse?-1:1)*(inc<0?1/-inc:inc)}function ascending_ascending(a,b){return null==a||null==b?NaN:a<b?-1:a>b?1:a>=b?0:NaN}function descending(a,b){return null==a||null==b?NaN:b<a?-1:b>a?1:b>=a?0:NaN}function bisector(f){let compare1,compare2,delta;function left(a,x,lo=0,hi=a.length){if(lo<hi){if(0!==compare1(x,x))return hi;do{const mid=lo+hi>>>1;compare2(a[mid],x)<0?lo=mid+1:hi=mid}while(lo<hi)}return lo}return 2!==f.length?(compare1=ascending_ascending,compare2=(d,x)=>ascending_ascending(f(d),x),delta=(d,x)=>f(d)-x):(compare1=f===ascending_ascending||f===descending?f:bisector_zero,compare2=f,delta=f),{left,center:function center(a,x,lo=0,hi=a.length){const i=left(a,x,lo,hi-1);return i>lo&&delta(a[i-1],x)>-delta(a[i],x)?i-1:i},right:function right(a,x,lo=0,hi=a.length){if(lo<hi){if(0!==compare1(x,x))return hi;do{const mid=lo+hi>>>1;compare2(a[mid],x)<=0?lo=mid+1:hi=mid}while(lo<hi)}return lo}}}function bisector_zero(){return 0}const ascendingBisect=bisector(ascending_ascending),bisectRight=ascendingBisect.right,bisect=(ascendingBisect.left,bisector((function number_number(x){return null===x?NaN:+x})).center,bisectRight);function genericArray(a,b){var i,nb=b?b.length:0,na=a?Math.min(nb,a.length):0,x=new Array(na),c=new Array(nb);for(i=0;i<na;++i)x[i]=value(a[i],b[i]);for(;i<nb;++i)c[i]=b[i];return function(t){for(i=0;i<na;++i)c[i]=x[i](t);return c}}function date(a,b){var d=new Date;return a=+a,b=+b,function(t){return d.setTime(a*(1-t)+b*t),d}}function object(a,b){var k,i={},c={};for(k in null!==a&&"object"==typeof a||(a={}),null!==b&&"object"==typeof b||(b={}),b)k in a?i[k]=value(a[k],b[k]):c[k]=b[k];return function(t){for(k in i)c[k]=i[k](t);return c}}function src_numberArray(a,b){b||(b=[]);var i,n=a?Math.min(b.length,a.length):0,c=b.slice();return function(t){for(i=0;i<n;++i)c[i]=a[i]*(1-t)+b[i]*t;return c}}function value(a,b){var c,t=typeof b;return null==b||"boolean"===t?d3_interpolate_src_constant(b):("number"===t?src_number:"string"===t?(c=color(b))?(b=c,rgb):string:b instanceof color?rgb:b instanceof Date?date:function numberArray_isNumberArray(x){return ArrayBuffer.isView(x)&&!(x instanceof DataView)}(b)?src_numberArray:Array.isArray(b)?genericArray:"function"!=typeof b.valueOf&&"function"!=typeof b.toString||isNaN(b)?object:src_number)(a,b)}function round(a,b){return a=+a,b=+b,function(t){return Math.round(a*(1-t)+b*t)}}function src_number_number(x){return+x}var unit=[0,1];function continuous_identity(x){return x}function normalize(a,b){return(b-=a=+a)?function(x){return(x-a)/b}:function constants(x){return function(){return x}}(isNaN(b)?NaN:.5)}function bimap(domain,range,interpolate){var d0=domain[0],d1=domain[1],r0=range[0],r1=range[1];return d1<d0?(d0=normalize(d1,d0),r0=interpolate(r1,r0)):(d0=normalize(d0,d1),r0=interpolate(r0,r1)),function(x){return r0(d0(x))}}function polymap(domain,range,interpolate){var j=Math.min(domain.length,range.length)-1,d=new Array(j),r=new Array(j),i=-1;for(domain[j]<domain[0]&&(domain=domain.slice().reverse(),range=range.slice().reverse());++i<j;)d[i]=normalize(domain[i],domain[i+1]),r[i]=interpolate(range[i],range[i+1]);return function(x){var i=bisect(domain,x,1,j)-1;return r[i](d[i](x))}}function copy(source,target){return target.domain(source.domain()).range(source.range()).interpolate(source.interpolate()).clamp(source.clamp()).unknown(source.unknown())}function transformer(){var transform,untransform,unknown,piecewise,output,input,domain=unit,range=unit,interpolate=value,clamp=continuous_identity;function rescale(){var n=Math.min(domain.length,range.length);return clamp!==continuous_identity&&(clamp=function clamper(a,b){var t;return a>b&&(t=a,a=b,b=t),function(x){return Math.max(a,Math.min(b,x))}}(domain[0],domain[n-1])),piecewise=n>2?polymap:bimap,output=input=null,scale}function scale(x){return null==x||isNaN(x=+x)?unknown:(output||(output=piecewise(domain.map(transform),range,interpolate)))(transform(clamp(x)))}return scale.invert=function(y){return clamp(untransform((input||(input=piecewise(range,domain.map(transform),src_number)))(y)))},scale.domain=function(_){return arguments.length?(domain=Array.from(_,src_number_number),rescale()):domain.slice()},scale.range=function(_){return arguments.length?(range=Array.from(_),rescale()):range.slice()},scale.rangeRound=function(_){return range=Array.from(_),interpolate=round,rescale()},scale.clamp=function(_){return arguments.length?(clamp=!!_||continuous_identity,rescale()):clamp!==continuous_identity},scale.interpolate=function(_){return arguments.length?(interpolate=_,rescale()):interpolate},scale.unknown=function(_){return arguments.length?(unknown=_,scale):unknown},function(t,u){return transform=t,untransform=u,rescale()}}function continuous(){return transformer()(continuous_identity,continuous_identity)}function tickFormat(start,stop,count,specifier){var precision,step=tickStep(start,stop,count);switch((specifier=formatSpecifier(null==specifier?",f":specifier)).type){case"s":var value=Math.max(Math.abs(start),Math.abs(stop));return null!=specifier.precision||isNaN(precision=function precisionPrefix(step,value){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(exponent(value)/3)))-exponent(Math.abs(step)))}(step,value))||(specifier.precision=precision),formatPrefix(specifier,value);case"":case"e":case"g":case"p":case"r":null!=specifier.precision||isNaN(precision=function precisionRound(step,max){return step=Math.abs(step),max=Math.abs(max)-step,Math.max(0,exponent(max)-exponent(step))+1}(step,Math.max(Math.abs(start),Math.abs(stop))))||(specifier.precision=precision-("e"===specifier.type));break;case"f":case"%":null!=specifier.precision||isNaN(precision=function precisionFixed(step){return Math.max(0,-exponent(Math.abs(step)))}(step))||(specifier.precision=precision-2*("%"===specifier.type))}return format(specifier)}function linearish(scale){var domain=scale.domain;return scale.ticks=function(count){var d=domain();return function ticks(start,stop,count){if(!((count=+count)>0))return[];if((start=+start)==(stop=+stop))return[start];const reverse=stop<start,[i1,i2,inc]=reverse?tickSpec(stop,start,count):tickSpec(start,stop,count);if(!(i2>=i1))return[];const n=i2-i1+1,ticks=new Array(n);if(reverse)if(inc<0)for(let i=0;i<n;++i)ticks[i]=(i2-i)/-inc;else for(let i=0;i<n;++i)ticks[i]=(i2-i)*inc;else if(inc<0)for(let i=0;i<n;++i)ticks[i]=(i1+i)/-inc;else for(let i=0;i<n;++i)ticks[i]=(i1+i)*inc;return ticks}(d[0],d[d.length-1],null==count?10:count)},scale.tickFormat=function(count,specifier){var d=domain();return tickFormat(d[0],d[d.length-1],null==count?10:count,specifier)},scale.nice=function(count){null==count&&(count=10);var prestep,step,d=domain(),i0=0,i1=d.length-1,start=d[i0],stop=d[i1],maxIter=10;for(stop<start&&(step=start,start=stop,stop=step,step=i0,i0=i1,i1=step);maxIter-- >0;){if((step=tickIncrement(start,stop,count))===prestep)return d[i0]=start,d[i1]=stop,domain(d);if(step>0)start=Math.floor(start/step)*step,stop=Math.ceil(stop/step)*step;else{if(!(step<0))break;start=Math.ceil(start*step)/step,stop=Math.floor(stop*step)/step}prestep=step}return scale},scale}function linear_linear(){var scale=continuous();return scale.copy=function(){return copy(scale,linear_linear())},initRange.apply(scale,arguments),linearish(scale)}const interval_t0=new Date,interval_t1=new Date;function timeInterval(floori,offseti,count,field){function interval(date){return floori(date=0===arguments.length?new Date:new Date(+date)),date}return interval.floor=date=>(floori(date=new Date(+date)),date),interval.ceil=date=>(floori(date=new Date(date-1)),offseti(date,1),floori(date),date),interval.round=date=>{const d0=interval(date),d1=interval.ceil(date);return date-d0<d1-date?d0:d1},interval.offset=(date,step)=>(offseti(date=new Date(+date),null==step?1:Math.floor(step)),date),interval.range=(start,stop,step)=>{const range=[];if(start=interval.ceil(start),step=null==step?1:Math.floor(step),!(start<stop&&step>0))return range;let previous;do{range.push(previous=new Date(+start)),offseti(start,step),floori(start)}while(previous<start&&start<stop);return range},interval.filter=test=>timeInterval((date=>{if(date>=date)for(;floori(date),!test(date);)date.setTime(date-1)}),((date,step)=>{if(date>=date)if(step<0)for(;++step<=0;)for(;offseti(date,-1),!test(date););else for(;--step>=0;)for(;offseti(date,1),!test(date););})),count&&(interval.count=(start,end)=>(interval_t0.setTime(+start),interval_t1.setTime(+end),floori(interval_t0),floori(interval_t1),Math.floor(count(interval_t0,interval_t1))),interval.every=step=>(step=Math.floor(step),isFinite(step)&&step>0?step>1?interval.filter(field?d=>field(d)%step==0:d=>interval.count(0,d)%step==0):interval:null)),interval}const millisecond=timeInterval((()=>{}),((date,step)=>{date.setTime(+date+step)}),((start,end)=>end-start));millisecond.every=k=>(k=Math.floor(k),isFinite(k)&&k>0?k>1?timeInterval((date=>{date.setTime(Math.floor(date/k)*k)}),((date,step)=>{date.setTime(+date+step*k)}),((start,end)=>(end-start)/k)):millisecond:null);millisecond.range;const second=timeInterval((date=>{date.setTime(date-date.getMilliseconds())}),((date,step)=>{date.setTime(+date+1e3*step)}),((start,end)=>(end-start)/1e3),(date=>date.getUTCSeconds())),timeMinute=(second.range,timeInterval((date=>{date.setTime(date-date.getMilliseconds()-1e3*date.getSeconds())}),((date,step)=>{date.setTime(+date+6e4*step)}),((start,end)=>(end-start)/6e4),(date=>date.getMinutes()))),utcMinute=(timeMinute.range,timeInterval((date=>{date.setUTCSeconds(0,0)}),((date,step)=>{date.setTime(+date+6e4*step)}),((start,end)=>(end-start)/6e4),(date=>date.getUTCMinutes()))),timeHour=(utcMinute.range,timeInterval((date=>{date.setTime(date-date.getMilliseconds()-1e3*date.getSeconds()-6e4*date.getMinutes())}),((date,step)=>{date.setTime(+date+36e5*step)}),((start,end)=>(end-start)/36e5),(date=>date.getHours()))),utcHour=(timeHour.range,timeInterval((date=>{date.setUTCMinutes(0,0,0)}),((date,step)=>{date.setTime(+date+36e5*step)}),((start,end)=>(end-start)/36e5),(date=>date.getUTCHours()))),timeDay=(utcHour.range,timeInterval((date=>date.setHours(0,0,0,0)),((date,step)=>date.setDate(date.getDate()+step)),((start,end)=>(end-start-6e4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/864e5),(date=>date.getDate()-1))),utcDay=(timeDay.range,timeInterval((date=>{date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCDate(date.getUTCDate()+step)}),((start,end)=>(end-start)/864e5),(date=>date.getUTCDate()-1))),unixDay=(utcDay.range,timeInterval((date=>{date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCDate(date.getUTCDate()+step)}),((start,end)=>(end-start)/864e5),(date=>Math.floor(date/864e5))));unixDay.range;function timeWeekday(i){return timeInterval((date=>{date.setDate(date.getDate()-(date.getDay()+7-i)%7),date.setHours(0,0,0,0)}),((date,step)=>{date.setDate(date.getDate()+7*step)}),((start,end)=>(end-start-6e4*(end.getTimezoneOffset()-start.getTimezoneOffset()))/6048e5))}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range,timeMonday.range,timeTuesday.range,timeWednesday.range,timeThursday.range,timeFriday.range,timeSaturday.range;function utcWeekday(i){return timeInterval((date=>{date.setUTCDate(date.getUTCDate()-(date.getUTCDay()+7-i)%7),date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCDate(date.getUTCDate()+7*step)}),((start,end)=>(end-start)/6048e5))}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6),timeMonth=(utcSunday.range,utcMonday.range,utcTuesday.range,utcWednesday.range,utcThursday.range,utcFriday.range,utcSaturday.range,timeInterval((date=>{date.setDate(1),date.setHours(0,0,0,0)}),((date,step)=>{date.setMonth(date.getMonth()+step)}),((start,end)=>end.getMonth()-start.getMonth()+12*(end.getFullYear()-start.getFullYear())),(date=>date.getMonth()))),utcMonth=(timeMonth.range,timeInterval((date=>{date.setUTCDate(1),date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCMonth(date.getUTCMonth()+step)}),((start,end)=>end.getUTCMonth()-start.getUTCMonth()+12*(end.getUTCFullYear()-start.getUTCFullYear())),(date=>date.getUTCMonth()))),timeYear=(utcMonth.range,timeInterval((date=>{date.setMonth(0,1),date.setHours(0,0,0,0)}),((date,step)=>{date.setFullYear(date.getFullYear()+step)}),((start,end)=>end.getFullYear()-start.getFullYear()),(date=>date.getFullYear())));timeYear.every=k=>isFinite(k=Math.floor(k))&&k>0?timeInterval((date=>{date.setFullYear(Math.floor(date.getFullYear()/k)*k),date.setMonth(0,1),date.setHours(0,0,0,0)}),((date,step)=>{date.setFullYear(date.getFullYear()+step*k)})):null;timeYear.range;const utcYear=timeInterval((date=>{date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCFullYear(date.getUTCFullYear()+step)}),((start,end)=>end.getUTCFullYear()-start.getUTCFullYear()),(date=>date.getUTCFullYear()));utcYear.every=k=>isFinite(k=Math.floor(k))&&k>0?timeInterval((date=>{date.setUTCFullYear(Math.floor(date.getUTCFullYear()/k)*k),date.setUTCMonth(0,1),date.setUTCHours(0,0,0,0)}),((date,step)=>{date.setUTCFullYear(date.getUTCFullYear()+step*k)})):null;utcYear.range;function ticker(year,month,week,day,hour,minute){const tickIntervals=[[second,1,1e3],[second,5,5e3],[second,15,15e3],[second,30,3e4],[minute,1,6e4],[minute,5,3e5],[minute,15,9e5],[minute,30,18e5],[hour,1,36e5],[hour,3,108e5],[hour,6,216e5],[hour,12,432e5],[day,1,864e5],[day,2,1728e5],[week,1,6048e5],[month,1,2592e6],[month,3,7776e6],[year,1,31536e6]];function tickInterval(start,stop,count){const target=Math.abs(stop-start)/count,i=bisector((([,,step])=>step)).right(tickIntervals,target);if(i===tickIntervals.length)return year.every(tickStep(start/31536e6,stop/31536e6,count));if(0===i)return millisecond.every(Math.max(tickStep(start,stop,count),1));const[t,step]=tickIntervals[target/tickIntervals[i-1][2]<tickIntervals[i][2]/target?i-1:i];return t.every(step)}return[function ticks(start,stop,count){const reverse=stop<start;reverse&&([start,stop]=[stop,start]);const interval=count&&"function"==typeof count.range?count:tickInterval(start,stop,count),ticks=interval?interval.range(start,+stop+1):[];return reverse?ticks.reverse():ticks},tickInterval]}const[utcTicks,utcTickInterval]=ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute),[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(d){if(0<=d.y&&d.y<100){var date=new Date(-1,d.m,d.d,d.H,d.M,d.S,d.L);return date.setFullYear(d.y),date}return new Date(d.y,d.m,d.d,d.H,d.M,d.S,d.L)}function utcDate(d){if(0<=d.y&&d.y<100){var date=new Date(Date.UTC(-1,d.m,d.d,d.H,d.M,d.S,d.L));return date.setUTCFullYear(d.y),date}return new Date(Date.UTC(d.y,d.m,d.d,d.H,d.M,d.S,d.L))}function newDate(y,m,d){return{y,m,d,H:0,M:0,S:0,L:0}}var src_defaultLocale_locale,timeFormat,pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(value,fill,width){var sign=value<0?"-":"",string=(sign?-value:value)+"",length=string.length;return sign+(length<width?new Array(width-length+1).join(fill)+string:string)}function requote(s){return s.replace(requoteRe,"\\$&")}function formatRe(names){return new RegExp("^(?:"+names.map(requote).join("|")+")","i")}function formatLookup(names){return new Map(names.map(((name,i)=>[name.toLowerCase(),i])))}function parseWeekdayNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.w=+n[0],i+n[0].length):-1}function parseWeekdayNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.u=+n[0],i+n[0].length):-1}function parseWeekNumberSunday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.U=+n[0],i+n[0].length):-1}function parseWeekNumberISO(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.V=+n[0],i+n[0].length):-1}function parseWeekNumberMonday(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.W=+n[0],i+n[0].length):-1}function parseFullYear(d,string,i){var n=numberRe.exec(string.slice(i,i+4));return n?(d.y=+n[0],i+n[0].length):-1}function parseYear(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.y=+n[0]+(+n[0]>68?1900:2e3),i+n[0].length):-1}function parseZone(d,string,i){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(string.slice(i,i+6));return n?(d.Z=n[1]?0:-(n[2]+(n[3]||"00")),i+n[0].length):-1}function parseQuarter(d,string,i){var n=numberRe.exec(string.slice(i,i+1));return n?(d.q=3*n[0]-3,i+n[0].length):-1}function parseMonthNumber(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.m=n[0]-1,i+n[0].length):-1}function parseDayOfMonth(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.d=+n[0],i+n[0].length):-1}function parseDayOfYear(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.m=0,d.d=+n[0],i+n[0].length):-1}function parseHour24(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.H=+n[0],i+n[0].length):-1}function parseMinutes(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.M=+n[0],i+n[0].length):-1}function parseSeconds(d,string,i){var n=numberRe.exec(string.slice(i,i+2));return n?(d.S=+n[0],i+n[0].length):-1}function parseMilliseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+3));return n?(d.L=+n[0],i+n[0].length):-1}function parseMicroseconds(d,string,i){var n=numberRe.exec(string.slice(i,i+6));return n?(d.L=Math.floor(n[0]/1e3),i+n[0].length):-1}function parseLiteralPercent(d,string,i){var n=percentRe.exec(string.slice(i,i+1));return n?i+n[0].length:-1}function parseUnixTimestamp(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.Q=+n[0],i+n[0].length):-1}function parseUnixTimestampSeconds(d,string,i){var n=numberRe.exec(string.slice(i));return n?(d.s=+n[0],i+n[0].length):-1}function formatDayOfMonth(d,p){return pad(d.getDate(),p,2)}function formatHour24(d,p){return pad(d.getHours(),p,2)}function formatHour12(d,p){return pad(d.getHours()%12||12,p,2)}function formatDayOfYear(d,p){return pad(1+timeDay.count(timeYear(d),d),p,3)}function formatMilliseconds(d,p){return pad(d.getMilliseconds(),p,3)}function formatMicroseconds(d,p){return formatMilliseconds(d,p)+"000"}function formatMonthNumber(d,p){return pad(d.getMonth()+1,p,2)}function formatMinutes(d,p){return pad(d.getMinutes(),p,2)}function formatSeconds(d,p){return pad(d.getSeconds(),p,2)}function formatWeekdayNumberMonday(d){var day=d.getDay();return 0===day?7:day}function formatWeekNumberSunday(d,p){return pad(timeSunday.count(timeYear(d)-1,d),p,2)}function dISO(d){var day=d.getDay();return day>=4||0===day?timeThursday(d):timeThursday.ceil(d)}function formatWeekNumberISO(d,p){return d=dISO(d),pad(timeThursday.count(timeYear(d),d)+(4===timeYear(d).getDay()),p,2)}function formatWeekdayNumberSunday(d){return d.getDay()}function formatWeekNumberMonday(d,p){return pad(timeMonday.count(timeYear(d)-1,d),p,2)}function formatYear(d,p){return pad(d.getFullYear()%100,p,2)}function formatYearISO(d,p){return pad((d=dISO(d)).getFullYear()%100,p,2)}function formatFullYear(d,p){return pad(d.getFullYear()%1e4,p,4)}function formatFullYearISO(d,p){var day=d.getDay();return pad((d=day>=4||0===day?timeThursday(d):timeThursday.ceil(d)).getFullYear()%1e4,p,4)}function formatZone(d){var z=d.getTimezoneOffset();return(z>0?"-":(z*=-1,"+"))+pad(z/60|0,"0",2)+pad(z%60,"0",2)}function formatUTCDayOfMonth(d,p){return pad(d.getUTCDate(),p,2)}function formatUTCHour24(d,p){return pad(d.getUTCHours(),p,2)}function formatUTCHour12(d,p){return pad(d.getUTCHours()%12||12,p,2)}function formatUTCDayOfYear(d,p){return pad(1+utcDay.count(utcYear(d),d),p,3)}function formatUTCMilliseconds(d,p){return pad(d.getUTCMilliseconds(),p,3)}function formatUTCMicroseconds(d,p){return formatUTCMilliseconds(d,p)+"000"}function formatUTCMonthNumber(d,p){return pad(d.getUTCMonth()+1,p,2)}function formatUTCMinutes(d,p){return pad(d.getUTCMinutes(),p,2)}function formatUTCSeconds(d,p){return pad(d.getUTCSeconds(),p,2)}function formatUTCWeekdayNumberMonday(d){var dow=d.getUTCDay();return 0===dow?7:dow}function formatUTCWeekNumberSunday(d,p){return pad(utcSunday.count(utcYear(d)-1,d),p,2)}function UTCdISO(d){var day=d.getUTCDay();return day>=4||0===day?utcThursday(d):utcThursday.ceil(d)}function formatUTCWeekNumberISO(d,p){return d=UTCdISO(d),pad(utcThursday.count(utcYear(d),d)+(4===utcYear(d).getUTCDay()),p,2)}function formatUTCWeekdayNumberSunday(d){return d.getUTCDay()}function formatUTCWeekNumberMonday(d,p){return pad(utcMonday.count(utcYear(d)-1,d),p,2)}function formatUTCYear(d,p){return pad(d.getUTCFullYear()%100,p,2)}function formatUTCYearISO(d,p){return pad((d=UTCdISO(d)).getUTCFullYear()%100,p,2)}function formatUTCFullYear(d,p){return pad(d.getUTCFullYear()%1e4,p,4)}function formatUTCFullYearISO(d,p){var day=d.getUTCDay();return pad((d=day>=4||0===day?utcThursday(d):utcThursday.ceil(d)).getUTCFullYear()%1e4,p,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(d){return+d}function formatUnixTimestampSeconds(d){return Math.floor(+d/1e3)}function time_date(t){return new Date(t)}function time_number(t){return t instanceof Date?+t:+new Date(+t)}function calendar(ticks,tickInterval,year,month,week,day,hour,minute,second,format){var scale=continuous(),invert=scale.invert,domain=scale.domain,formatMillisecond=format(".%L"),formatSecond=format(":%S"),formatMinute=format("%I:%M"),formatHour=format("%I %p"),formatDay=format("%a %d"),formatWeek=format("%b %d"),formatMonth=format("%B"),formatYear=format("%Y");function tickFormat(date){return(second(date)<date?formatMillisecond:minute(date)<date?formatSecond:hour(date)<date?formatMinute:day(date)<date?formatHour:month(date)<date?week(date)<date?formatDay:formatWeek:year(date)<date?formatMonth:formatYear)(date)}return scale.invert=function(y){return new Date(invert(y))},scale.domain=function(_){return arguments.length?domain(Array.from(_,time_number)):domain().map(time_date)},scale.ticks=function(interval){var d=domain();return ticks(d[0],d[d.length-1],null==interval?10:interval)},scale.tickFormat=function(count,specifier){return null==specifier?tickFormat:format(specifier)},scale.nice=function(interval){var d=domain();return interval&&"function"==typeof interval.range||(interval=tickInterval(d[0],d[d.length-1],null==interval?10:interval)),interval?domain(function nice(domain,interval){var t,i0=0,i1=(domain=domain.slice()).length-1,x0=domain[i0],x1=domain[i1];return x1<x0&&(t=i0,i0=i1,i1=t,t=x0,x0=x1,x1=t),domain[i0]=interval.floor(x0),domain[i1]=interval.ceil(x1),domain}(d,interval)):scale},scale.copy=function(){return copy(scale,calendar(ticks,tickInterval,year,month,week,day,hour,minute,second,format))},scale}function time(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}!function defaultLocale_defaultLocale(definition){return src_defaultLocale_locale=function formatLocale(locale){var locale_dateTime=locale.dateTime,locale_date=locale.date,locale_time=locale.time,locale_periods=locale.periods,locale_weekdays=locale.days,locale_shortWeekdays=locale.shortDays,locale_months=locale.months,locale_shortMonths=locale.shortMonths,periodRe=formatRe(locale_periods),periodLookup=formatLookup(locale_periods),weekdayRe=formatRe(locale_weekdays),weekdayLookup=formatLookup(locale_weekdays),shortWeekdayRe=formatRe(locale_shortWeekdays),shortWeekdayLookup=formatLookup(locale_shortWeekdays),monthRe=formatRe(locale_months),monthLookup=formatLookup(locale_months),shortMonthRe=formatRe(locale_shortMonths),shortMonthLookup=formatLookup(locale_shortMonths),formats={a:function formatShortWeekday(d){return locale_shortWeekdays[d.getDay()]},A:function formatWeekday(d){return locale_weekdays[d.getDay()]},b:function formatShortMonth(d){return locale_shortMonths[d.getMonth()]},B:function formatMonth(d){return locale_months[d.getMonth()]},c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:function formatPeriod(d){return locale_periods[+(d.getHours()>=12)]},q:function formatQuarter(d){return 1+~~(d.getMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},utcFormats={a:function formatUTCShortWeekday(d){return locale_shortWeekdays[d.getUTCDay()]},A:function formatUTCWeekday(d){return locale_weekdays[d.getUTCDay()]},b:function formatUTCShortMonth(d){return locale_shortMonths[d.getUTCMonth()]},B:function formatUTCMonth(d){return locale_months[d.getUTCMonth()]},c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:function formatUTCPeriod(d){return locale_periods[+(d.getUTCHours()>=12)]},q:function formatUTCQuarter(d){return 1+~~(d.getUTCMonth()/3)},Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},parses={a:function parseShortWeekday(d,string,i){var n=shortWeekdayRe.exec(string.slice(i));return n?(d.w=shortWeekdayLookup.get(n[0].toLowerCase()),i+n[0].length):-1},A:function parseWeekday(d,string,i){var n=weekdayRe.exec(string.slice(i));return n?(d.w=weekdayLookup.get(n[0].toLowerCase()),i+n[0].length):-1},b:function parseShortMonth(d,string,i){var n=shortMonthRe.exec(string.slice(i));return n?(d.m=shortMonthLookup.get(n[0].toLowerCase()),i+n[0].length):-1},B:function parseMonth(d,string,i){var n=monthRe.exec(string.slice(i));return n?(d.m=monthLookup.get(n[0].toLowerCase()),i+n[0].length):-1},c:function parseLocaleDateTime(d,string,i){return parseSpecifier(d,locale_dateTime,string,i)},d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:function parsePeriod(d,string,i){var n=periodRe.exec(string.slice(i));return n?(d.p=periodLookup.get(n[0].toLowerCase()),i+n[0].length):-1},q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:function parseLocaleDate(d,string,i){return parseSpecifier(d,locale_date,string,i)},X:function parseLocaleTime(d,string,i){return parseSpecifier(d,locale_time,string,i)},y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};function newFormat(specifier,formats){return function(date){var c,pad,format,string=[],i=-1,j=0,n=specifier.length;for(date instanceof Date||(date=new Date(+date));++i<n;)37===specifier.charCodeAt(i)&&(string.push(specifier.slice(j,i)),null!=(pad=pads[c=specifier.charAt(++i)])?c=specifier.charAt(++i):pad="e"===c?" ":"0",(format=formats[c])&&(c=format(date,pad)),string.push(c),j=i+1);return string.push(specifier.slice(j,i)),string.join("")}}function newParse(specifier,Z){return function(string){var week,day,d=newDate(1900,void 0,1);if(parseSpecifier(d,specifier,string+="",0)!=string.length)return null;if("Q"in d)return new Date(d.Q);if("s"in d)return new Date(1e3*d.s+("L"in d?d.L:0));if(Z&&!("Z"in d)&&(d.Z=0),"p"in d&&(d.H=d.H%12+12*d.p),void 0===d.m&&(d.m="q"in d?d.q:0),"V"in d){if(d.V<1||d.V>53)return null;"w"in d||(d.w=1),"Z"in d?(day=(week=utcDate(newDate(d.y,0,1))).getUTCDay(),week=day>4||0===day?utcMonday.ceil(week):utcMonday(week),week=utcDay.offset(week,7*(d.V-1)),d.y=week.getUTCFullYear(),d.m=week.getUTCMonth(),d.d=week.getUTCDate()+(d.w+6)%7):(day=(week=localDate(newDate(d.y,0,1))).getDay(),week=day>4||0===day?timeMonday.ceil(week):timeMonday(week),week=timeDay.offset(week,7*(d.V-1)),d.y=week.getFullYear(),d.m=week.getMonth(),d.d=week.getDate()+(d.w+6)%7)}else("W"in d||"U"in d)&&("w"in d||(d.w="u"in d?d.u%7:"W"in d?1:0),day="Z"in d?utcDate(newDate(d.y,0,1)).getUTCDay():localDate(newDate(d.y,0,1)).getDay(),d.m=0,d.d="W"in d?(d.w+6)%7+7*d.W-(day+5)%7:d.w+7*d.U-(day+6)%7);return"Z"in d?(d.H+=d.Z/100|0,d.M+=d.Z%100,utcDate(d)):localDate(d)}}function parseSpecifier(d,specifier,string,j){for(var c,parse,i=0,n=specifier.length,m=string.length;i<n;){if(j>=m)return-1;if(37===(c=specifier.charCodeAt(i++))){if(c=specifier.charAt(i++),!(parse=parses[c in pads?specifier.charAt(i++):c])||(j=parse(d,string,j))<0)return-1}else if(c!=string.charCodeAt(j++))return-1}return j}return formats.x=newFormat(locale_date,formats),formats.X=newFormat(locale_time,formats),formats.c=newFormat(locale_dateTime,formats),utcFormats.x=newFormat(locale_date,utcFormats),utcFormats.X=newFormat(locale_time,utcFormats),utcFormats.c=newFormat(locale_dateTime,utcFormats),{format:function(specifier){var f=newFormat(specifier+="",formats);return f.toString=function(){return specifier},f},parse:function(specifier){var p=newParse(specifier+="",!1);return p.toString=function(){return specifier},p},utcFormat:function(specifier){var f=newFormat(specifier+="",utcFormats);return f.toString=function(){return specifier},f},utcParse:function(specifier){var p=newParse(specifier+="",!0);return p.toString=function(){return specifier},p}}}(definition),timeFormat=src_defaultLocale_locale.format,src_defaultLocale_locale.parse,src_defaultLocale_locale.utcFormat,src_defaultLocale_locale.utcParse,src_defaultLocale_locale}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});const Tableau10=function colors(specifier){for(var n=specifier.length/6|0,colors=new Array(n),i=0;i<n;)colors[i]="#"+specifier.slice(6*i,6*++i);return colors}("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab");function src_select(selector){return"string"==typeof selector?new Selection([[document.querySelector(selector)]],[document.documentElement]):new Selection([[selector]],root)}function d3_shape_src_constant(x){return function constant(){return x}}const math_abs=Math.abs,atan2=Math.atan2,cos=Math.cos,math_max=Math.max,math_min=Math.min,sin=Math.sin,sqrt=Math.sqrt,math_epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function asin(x){return x>=1?halfPi:x<=-1?-halfPi:Math.asin(x)}const path_pi=Math.PI,path_tau=2*path_pi,tauEpsilon=path_tau-1e-6;function path_append(strings){this._+=strings[0];for(let i=1,n=strings.length;i<n;++i)this._+=arguments[i]+strings[i]}class Path{constructor(digits){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==digits?path_append:function appendRound(digits){let d=Math.floor(digits);if(!(d>=0))throw new Error(`invalid digits: ${digits}`);if(d>15)return path_append;const k=10**d;return function(strings){this._+=strings[0];for(let i=1,n=strings.length;i<n;++i)this._+=Math.round(arguments[i]*k)/k+strings[i]}}(digits)}moveTo(x,y){this._append`M${this._x0=this._x1=+x},${this._y0=this._y1=+y}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(x,y){this._append`L${this._x1=+x},${this._y1=+y}`}quadraticCurveTo(x1,y1,x,y){this._append`Q${+x1},${+y1},${this._x1=+x},${this._y1=+y}`}bezierCurveTo(x1,y1,x2,y2,x,y){this._append`C${+x1},${+y1},${+x2},${+y2},${this._x1=+x},${this._y1=+y}`}arcTo(x1,y1,x2,y2,r){if(x1=+x1,y1=+y1,x2=+x2,y2=+y2,(r=+r)<0)throw new Error(`negative radius: ${r}`);let x0=this._x1,y0=this._y1,x21=x2-x1,y21=y2-y1,x01=x0-x1,y01=y0-y1,l01_2=x01*x01+y01*y01;if(null===this._x1)this._append`M${this._x1=x1},${this._y1=y1}`;else if(l01_2>1e-6)if(Math.abs(y01*x21-y21*x01)>1e-6&&r){let x20=x2-x0,y20=y2-y0,l21_2=x21*x21+y21*y21,l20_2=x20*x20+y20*y20,l21=Math.sqrt(l21_2),l01=Math.sqrt(l01_2),l=r*Math.tan((path_pi-Math.acos((l21_2+l01_2-l20_2)/(2*l21*l01)))/2),t01=l/l01,t21=l/l21;Math.abs(t01-1)>1e-6&&this._append`L${x1+t01*x01},${y1+t01*y01}`,this._append`A${r},${r},0,0,${+(y01*x20>x01*y20)},${this._x1=x1+t21*x21},${this._y1=y1+t21*y21}`}else this._append`L${this._x1=x1},${this._y1=y1}`;else;}arc(x,y,r,a0,a1,ccw){if(x=+x,y=+y,ccw=!!ccw,(r=+r)<0)throw new Error(`negative radius: ${r}`);let dx=r*Math.cos(a0),dy=r*Math.sin(a0),x0=x+dx,y0=y+dy,cw=1^ccw,da=ccw?a0-a1:a1-a0;null===this._x1?this._append`M${x0},${y0}`:(Math.abs(this._x1-x0)>1e-6||Math.abs(this._y1-y0)>1e-6)&&this._append`L${x0},${y0}`,r&&(da<0&&(da=da%path_tau+path_tau),da>tauEpsilon?this._append`A${r},${r},0,1,${cw},${x-dx},${y-dy}A${r},${r},0,1,${cw},${this._x1=x0},${this._y1=y0}`:da>1e-6&&this._append`A${r},${r},0,${+(da>=path_pi)},${cw},${this._x1=x+r*Math.cos(a1)},${this._y1=y+r*Math.sin(a1)}`)}rect(x,y,w,h){this._append`M${this._x0=this._x1=+x},${this._y0=this._y1=+y}h${w=+w}v${+h}h${-w}Z`}toString(){return this._}}function withPath(shape){let digits=3;return shape.digits=function(_){if(!arguments.length)return digits;if(null==_)digits=null;else{const d=Math.floor(_);if(!(d>=0))throw new RangeError(`invalid digits: ${_}`);digits=d}return shape},()=>new Path(digits)}function arcInnerRadius(d){return d.innerRadius}function arcOuterRadius(d){return d.outerRadius}function arcStartAngle(d){return d.startAngle}function arcEndAngle(d){return d.endAngle}function arcPadAngle(d){return d&&d.padAngle}function cornerTangents(x0,y0,x1,y1,r1,rc,cw){var x01=x0-x1,y01=y0-y1,lo=(cw?rc:-rc)/sqrt(x01*x01+y01*y01),ox=lo*y01,oy=-lo*x01,x11=x0+ox,y11=y0+oy,x10=x1+ox,y10=y1+oy,x00=(x11+x10)/2,y00=(y11+y10)/2,dx=x10-x11,dy=y10-y11,d2=dx*dx+dy*dy,r=r1-rc,D=x11*y10-x10*y11,d=(dy<0?-1:1)*sqrt(math_max(0,r*r*d2-D*D)),cx0=(D*dy-dx*d)/d2,cy0=(-D*dx-dy*d)/d2,cx1=(D*dy+dx*d)/d2,cy1=(-D*dx+dy*d)/d2,dx0=cx0-x00,dy0=cy0-y00,dx1=cx1-x00,dy1=cy1-y00;return dx0*dx0+dy0*dy0>dx1*dx1+dy1*dy1&&(cx0=cx1,cy0=cy1),{cx:cx0,cy:cy0,x01:-ox,y01:-oy,x11:cx0*(r1/r-1),y11:cy0*(r1/r-1)}}function arc(){var innerRadius=arcInnerRadius,outerRadius=arcOuterRadius,cornerRadius=d3_shape_src_constant(0),padRadius=null,startAngle=arcStartAngle,endAngle=arcEndAngle,padAngle=arcPadAngle,context=null,path=withPath(arc);function arc(){var buffer,r,r0=+innerRadius.apply(this,arguments),r1=+outerRadius.apply(this,arguments),a0=startAngle.apply(this,arguments)-halfPi,a1=endAngle.apply(this,arguments)-halfPi,da=math_abs(a1-a0),cw=a1>a0;if(context||(context=buffer=path()),r1<r0&&(r=r1,r1=r0,r0=r),r1>math_epsilon)if(da>tau-math_epsilon)context.moveTo(r1*cos(a0),r1*sin(a0)),context.arc(0,0,r1,a0,a1,!cw),r0>math_epsilon&&(context.moveTo(r0*cos(a1),r0*sin(a1)),context.arc(0,0,r0,a1,a0,cw));else{var t0,t1,a01=a0,a11=a1,a00=a0,a10=a1,da0=da,da1=da,ap=padAngle.apply(this,arguments)/2,rp=ap>math_epsilon&&(padRadius?+padRadius.apply(this,arguments):sqrt(r0*r0+r1*r1)),rc=math_min(math_abs(r1-r0)/2,+cornerRadius.apply(this,arguments)),rc0=rc,rc1=rc;if(rp>math_epsilon){var p0=asin(rp/r0*sin(ap)),p1=asin(rp/r1*sin(ap));(da0-=2*p0)>math_epsilon?(a00+=p0*=cw?1:-1,a10-=p0):(da0=0,a00=a10=(a0+a1)/2),(da1-=2*p1)>math_epsilon?(a01+=p1*=cw?1:-1,a11-=p1):(da1=0,a01=a11=(a0+a1)/2)}var x01=r1*cos(a01),y01=r1*sin(a01),x10=r0*cos(a10),y10=r0*sin(a10);if(rc>math_epsilon){var oc,x11=r1*cos(a11),y11=r1*sin(a11),x00=r0*cos(a00),y00=r0*sin(a00);if(da<pi)if(oc=function intersect(x0,y0,x1,y1,x2,y2,x3,y3){var x10=x1-x0,y10=y1-y0,x32=x3-x2,y32=y3-y2,t=y32*x10-x32*y10;if(!(t*t<math_epsilon))return[x0+(t=(x32*(y0-y2)-y32*(x0-x2))/t)*x10,y0+t*y10]}(x01,y01,x00,y00,x11,y11,x10,y10)){var ax=x01-oc[0],ay=y01-oc[1],bx=x11-oc[0],by=y11-oc[1],kc=1/sin(function acos(x){return x>1?0:x<-1?pi:Math.acos(x)}((ax*bx+ay*by)/(sqrt(ax*ax+ay*ay)*sqrt(bx*bx+by*by)))/2),lc=sqrt(oc[0]*oc[0]+oc[1]*oc[1]);rc0=math_min(rc,(r0-lc)/(kc-1)),rc1=math_min(rc,(r1-lc)/(kc+1))}else rc0=rc1=0}da1>math_epsilon?rc1>math_epsilon?(t0=cornerTangents(x00,y00,x01,y01,r1,rc1,cw),t1=cornerTangents(x11,y11,x10,y10,r1,rc1,cw),context.moveTo(t0.cx+t0.x01,t0.cy+t0.y01),rc1<rc?context.arc(t0.cx,t0.cy,rc1,atan2(t0.y01,t0.x01),atan2(t1.y01,t1.x01),!cw):(context.arc(t0.cx,t0.cy,rc1,atan2(t0.y01,t0.x01),atan2(t0.y11,t0.x11),!cw),context.arc(0,0,r1,atan2(t0.cy+t0.y11,t0.cx+t0.x11),atan2(t1.cy+t1.y11,t1.cx+t1.x11),!cw),context.arc(t1.cx,t1.cy,rc1,atan2(t1.y11,t1.x11),atan2(t1.y01,t1.x01),!cw))):(context.moveTo(x01,y01),context.arc(0,0,r1,a01,a11,!cw)):context.moveTo(x01,y01),r0>math_epsilon&&da0>math_epsilon?rc0>math_epsilon?(t0=cornerTangents(x10,y10,x11,y11,r0,-rc0,cw),t1=cornerTangents(x01,y01,x00,y00,r0,-rc0,cw),context.lineTo(t0.cx+t0.x01,t0.cy+t0.y01),rc0<rc?context.arc(t0.cx,t0.cy,rc0,atan2(t0.y01,t0.x01),atan2(t1.y01,t1.x01),!cw):(context.arc(t0.cx,t0.cy,rc0,atan2(t0.y01,t0.x01),atan2(t0.y11,t0.x11),!cw),context.arc(0,0,r0,atan2(t0.cy+t0.y11,t0.cx+t0.x11),atan2(t1.cy+t1.y11,t1.cx+t1.x11),cw),context.arc(t1.cx,t1.cy,rc0,atan2(t1.y11,t1.x11),atan2(t1.y01,t1.x01),!cw))):context.arc(0,0,r0,a10,a00,cw):context.lineTo(x10,y10)}else context.moveTo(0,0);if(context.closePath(),buffer)return context=null,buffer+""||null}return arc.centroid=function(){var r=(+innerRadius.apply(this,arguments)+ +outerRadius.apply(this,arguments))/2,a=(+startAngle.apply(this,arguments)+ +endAngle.apply(this,arguments))/2-pi/2;return[cos(a)*r,sin(a)*r]},arc.innerRadius=function(_){return arguments.length?(innerRadius="function"==typeof _?_:d3_shape_src_constant(+_),arc):innerRadius},arc.outerRadius=function(_){return arguments.length?(outerRadius="function"==typeof _?_:d3_shape_src_constant(+_),arc):outerRadius},arc.cornerRadius=function(_){return arguments.length?(cornerRadius="function"==typeof _?_:d3_shape_src_constant(+_),arc):cornerRadius},arc.padRadius=function(_){return arguments.length?(padRadius=null==_?null:"function"==typeof _?_:d3_shape_src_constant(+_),arc):padRadius},arc.startAngle=function(_){return arguments.length?(startAngle="function"==typeof _?_:d3_shape_src_constant(+_),arc):startAngle},arc.endAngle=function(_){return arguments.length?(endAngle="function"==typeof _?_:d3_shape_src_constant(+_),arc):endAngle},arc.padAngle=function(_){return arguments.length?(padAngle="function"==typeof _?_:d3_shape_src_constant(+_),arc):padAngle},arc.context=function(_){return arguments.length?(context=null==_?null:_,arc):context},arc}Path.prototype;Array.prototype.slice;function d3_shape_src_array(x){return"object"==typeof x&&"length"in x?x:Array.from(x)}function Linear(context){this._context=context}function curve_linear(context){return new Linear(context)}function point_x(p){return p[0]}function point_y(p){return p[1]}function line(x,y){var defined=d3_shape_src_constant(!0),context=null,curve=curve_linear,output=null,path=withPath(line);function line(data){var i,d,buffer,n=(data=d3_shape_src_array(data)).length,defined0=!1;for(null==context&&(output=curve(buffer=path())),i=0;i<=n;++i)!(i<n&&defined(d=data[i],i,data))===defined0&&((defined0=!defined0)?output.lineStart():output.lineEnd()),defined0&&output.point(+x(d,i,data),+y(d,i,data));if(buffer)return output=null,buffer+""||null}return x="function"==typeof x?x:void 0===x?point_x:d3_shape_src_constant(x),y="function"==typeof y?y:void 0===y?point_y:d3_shape_src_constant(y),line.x=function(_){return arguments.length?(x="function"==typeof _?_:d3_shape_src_constant(+_),line):x},line.y=function(_){return arguments.length?(y="function"==typeof _?_:d3_shape_src_constant(+_),line):y},line.defined=function(_){return arguments.length?(defined="function"==typeof _?_:d3_shape_src_constant(!!_),line):defined},line.curve=function(_){return arguments.length?(curve=_,null!=context&&(output=curve(context)),line):curve},line.context=function(_){return arguments.length?(null==_?context=output=null:output=curve(context=_),line):context},line}function src_descending(a,b){return b<a?-1:b>a?1:b>=a?0:NaN}function d3_shape_src_identity(d){return d}function pie(){var value=d3_shape_src_identity,sortValues=src_descending,sort=null,startAngle=d3_shape_src_constant(0),endAngle=d3_shape_src_constant(tau),padAngle=d3_shape_src_constant(0);function pie(data){var i,j,k,a1,v,n=(data=d3_shape_src_array(data)).length,sum=0,index=new Array(n),arcs=new Array(n),a0=+startAngle.apply(this,arguments),da=Math.min(tau,Math.max(-tau,endAngle.apply(this,arguments)-a0)),p=Math.min(Math.abs(da)/n,padAngle.apply(this,arguments)),pa=p*(da<0?-1:1);for(i=0;i<n;++i)(v=arcs[index[i]=i]=+value(data[i],i,data))>0&&(sum+=v);for(null!=sortValues?index.sort((function(i,j){return sortValues(arcs[i],arcs[j])})):null!=sort&&index.sort((function(i,j){return sort(data[i],data[j])})),i=0,k=sum?(da-n*pa)/sum:0;i<n;++i,a0=a1)j=index[i],a1=a0+((v=arcs[j])>0?v*k:0)+pa,arcs[j]={data:data[j],index:i,value:v,startAngle:a0,endAngle:a1,padAngle:p};return arcs}return pie.value=function(_){return arguments.length?(value="function"==typeof _?_:d3_shape_src_constant(+_),pie):value},pie.sortValues=function(_){return arguments.length?(sortValues=_,sort=null,pie):sortValues},pie.sort=function(_){return arguments.length?(sort=_,sortValues=null,pie):sort},pie.startAngle=function(_){return arguments.length?(startAngle="function"==typeof _?_:d3_shape_src_constant(+_),pie):startAngle},pie.endAngle=function(_){return arguments.length?(endAngle="function"==typeof _?_:d3_shape_src_constant(+_),pie):endAngle},pie.padAngle=function(_){return arguments.length?(padAngle="function"==typeof _?_:d3_shape_src_constant(+_),pie):padAngle},pie}function src_noop(){}function basis_point(that,x,y){that._context.bezierCurveTo((2*that._x0+that._x1)/3,(2*that._y0+that._y1)/3,(that._x0+2*that._x1)/3,(that._y0+2*that._y1)/3,(that._x0+4*that._x1+x)/6,(that._y0+4*that._y1+y)/6)}function Basis(context){this._context=context}function curve_basis(context){return new Basis(context)}function BasisClosed(context){this._context=context}function curve_basisClosed(context){return new BasisClosed(context)}function BasisOpen(context){this._context=context}function basisOpen(context){return new BasisOpen(context)}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:this._context.lineTo(x,y)}}},Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:basis_point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:basis_point(this,x,y)}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y}},BasisClosed.prototype={areaStart:src_noop,areaEnd:src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._x2=x,this._y2=y;break;case 1:this._point=2,this._x3=x,this._y3=y;break;case 2:this._point=3,this._x4=x,this._y4=y,this._context.moveTo((this._x0+4*this._x1+x)/6,(this._y0+4*this._y1+y)/6);break;default:basis_point(this,x,y)}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y}},BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var x0=(this._x0+4*this._x1+x)/6,y0=(this._y0+4*this._y1+y)/6;this._line?this._context.lineTo(x0,y0):this._context.moveTo(x0,y0);break;case 3:this._point=4;default:basis_point(this,x,y)}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y}};class Bump{constructor(context,x){this._context=context,this._x=x}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+x)/2,this._y0,this._x0,y,x,y):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+y)/2,x,this._y0,x,y)}this._x0=x,this._y0=y}}function bumpX(context){return new Bump(context,!0)}function bumpY(context){return new Bump(context,!1)}function Bundle(context,beta){this._basis=new Basis(context),this._beta=beta}Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var x=this._x,y=this._y,j=x.length-1;if(j>0)for(var t,x0=x[0],y0=y[0],dx=x[j]-x0,dy=y[j]-y0,i=-1;++i<=j;)t=i/j,this._basis.point(this._beta*x[i]+(1-this._beta)*(x0+t*dx),this._beta*y[i]+(1-this._beta)*(y0+t*dy));this._x=this._y=null,this._basis.lineEnd()},point:function(x,y){this._x.push(+x),this._y.push(+y)}};const bundle=function custom(beta){function bundle(context){return 1===beta?new Basis(context):new Bundle(context,beta)}return bundle.beta=function(beta){return custom(+beta)},bundle}(.85);function cardinal_point(that,x,y){that._context.bezierCurveTo(that._x1+that._k*(that._x2-that._x0),that._y1+that._k*(that._y2-that._y0),that._x2+that._k*(that._x1-x),that._y2+that._k*(that._y1-y),that._x2,that._y2)}function Cardinal(context,tension){this._context=context,this._k=(1-tension)/6}Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:cardinal_point(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2,this._x1=x,this._y1=y;break;case 2:this._point=3;default:cardinal_point(this,x,y)}this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const cardinal=function custom(tension){function cardinal(context){return new Cardinal(context,tension)}return cardinal.tension=function(tension){return custom(+tension)},cardinal}(0);function CardinalClosed(context,tension){this._context=context,this._k=(1-tension)/6}CardinalClosed.prototype={areaStart:src_noop,areaEnd:src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._x3=x,this._y3=y;break;case 1:this._point=2,this._context.moveTo(this._x4=x,this._y4=y);break;case 2:this._point=3,this._x5=x,this._y5=y;break;default:cardinal_point(this,x,y)}this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const cardinalClosed=function custom(tension){function cardinal(context){return new CardinalClosed(context,tension)}return cardinal.tension=function(tension){return custom(+tension)},cardinal}(0);function CardinalOpen(context,tension){this._context=context,this._k=(1-tension)/6}CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:cardinal_point(this,x,y)}this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const cardinalOpen=function custom(tension){function cardinal(context){return new CardinalOpen(context,tension)}return cardinal.tension=function(tension){return custom(+tension)},cardinal}(0);function catmullRom_point(that,x,y){var x1=that._x1,y1=that._y1,x2=that._x2,y2=that._y2;if(that._l01_a>math_epsilon){var a=2*that._l01_2a+3*that._l01_a*that._l12_a+that._l12_2a,n=3*that._l01_a*(that._l01_a+that._l12_a);x1=(x1*a-that._x0*that._l12_2a+that._x2*that._l01_2a)/n,y1=(y1*a-that._y0*that._l12_2a+that._y2*that._l01_2a)/n}if(that._l23_a>math_epsilon){var b=2*that._l23_2a+3*that._l23_a*that._l12_a+that._l12_2a,m=3*that._l23_a*(that._l23_a+that._l12_a);x2=(x2*b+that._x1*that._l23_2a-x*that._l12_2a)/m,y2=(y2*b+that._y1*that._l23_2a-y*that._l12_2a)/m}that._context.bezierCurveTo(x1,y1,x2,y2,that._x2,that._y2)}function CatmullRom(context,alpha){this._context=context,this._alpha=alpha}CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){if(x=+x,y=+y,this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3;default:catmullRom_point(this,x,y)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const catmullRom=function custom(alpha){function catmullRom(context){return alpha?new CatmullRom(context,alpha):new Cardinal(context,0)}return catmullRom.alpha=function(alpha){return custom(+alpha)},catmullRom}(.5);function CatmullRomClosed(context,alpha){this._context=context,this._alpha=alpha}CatmullRomClosed.prototype={areaStart:src_noop,areaEnd:src_noop,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(x,y){if(x=+x,y=+y,this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=x,this._y3=y;break;case 1:this._point=2,this._context.moveTo(this._x4=x,this._y4=y);break;case 2:this._point=3,this._x5=x,this._y5=y;break;default:catmullRom_point(this,x,y)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const catmullRomClosed=function custom(alpha){function catmullRom(context){return alpha?new CatmullRomClosed(context,alpha):new CardinalClosed(context,0)}return catmullRom.alpha=function(alpha){return custom(+alpha)},catmullRom}(.5);function CatmullRomOpen(context,alpha){this._context=context,this._alpha=alpha}CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){if(x=+x,y=+y,this._point){var x23=this._x2-x,y23=this._y2-y;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(x23*x23+y23*y23,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:catmullRom_point(this,x,y)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=x,this._y0=this._y1,this._y1=this._y2,this._y2=y}};const catmullRomOpen=function custom(alpha){function catmullRom(context){return alpha?new CatmullRomOpen(context,alpha):new CardinalOpen(context,0)}return catmullRom.alpha=function(alpha){return custom(+alpha)},catmullRom}(.5);function LinearClosed(context){this._context=context}function linearClosed(context){return new LinearClosed(context)}function sign(x){return x<0?-1:1}function slope3(that,x2,y2){var h0=that._x1-that._x0,h1=x2-that._x1,s0=(that._y1-that._y0)/(h0||h1<0&&-0),s1=(y2-that._y1)/(h1||h0<0&&-0),p=(s0*h1+s1*h0)/(h0+h1);return(sign(s0)+sign(s1))*Math.min(Math.abs(s0),Math.abs(s1),.5*Math.abs(p))||0}function slope2(that,t){var h=that._x1-that._x0;return h?(3*(that._y1-that._y0)/h-t)/2:t}function monotone_point(that,t0,t1){var x0=that._x0,y0=that._y0,x1=that._x1,y1=that._y1,dx=(x1-x0)/3;that._context.bezierCurveTo(x0+dx,y0+dx*t0,x1-dx,y1-dx*t1,x1,y1)}function MonotoneX(context){this._context=context}function MonotoneY(context){this._context=new ReflectContext(context)}function ReflectContext(context){this._context=context}function monotoneX(context){return new MonotoneX(context)}function monotoneY(context){return new MonotoneY(context)}function Natural(context){this._context=context}function controlPoints(x){var i,m,n=x.length-1,a=new Array(n),b=new Array(n),r=new Array(n);for(a[0]=0,b[0]=2,r[0]=x[0]+2*x[1],i=1;i<n-1;++i)a[i]=1,b[i]=4,r[i]=4*x[i]+2*x[i+1];for(a[n-1]=2,b[n-1]=7,r[n-1]=8*x[n-1]+x[n],i=1;i<n;++i)m=a[i]/b[i-1],b[i]-=m,r[i]-=m*r[i-1];for(a[n-1]=r[n-1]/b[n-1],i=n-2;i>=0;--i)a[i]=(r[i]-a[i+1])/b[i];for(b[n-1]=(x[n]+a[n-1])/2,i=0;i<n-1;++i)b[i]=2*x[i+1]-a[i+1];return[a,b]}function natural(context){return new Natural(context)}function Step(context,t){this._context=context,this._t=t}function step(context){return new Step(context,.5)}function stepBefore(context){return new Step(context,0)}function stepAfter(context){return new Step(context,1)}function transform_Transform(k,x,y){this.k=k,this.x=x,this.y=y}LinearClosed.prototype={areaStart:src_noop,areaEnd:src_noop,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(x,y){x=+x,y=+y,this._point?this._context.lineTo(x,y):(this._point=1,this._context.moveTo(x,y))}},MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:monotone_point(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(x,y){var t1=NaN;if(y=+y,(x=+x)!==this._x1||y!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;break;case 2:this._point=3,monotone_point(this,slope2(this,t1=slope3(this,x,y)),t1);break;default:monotone_point(this,this._t0,t1=slope3(this,x,y))}this._x0=this._x1,this._x1=x,this._y0=this._y1,this._y1=y,this._t0=t1}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(x,y){MonotoneX.prototype.point.call(this,y,x)},ReflectContext.prototype={moveTo:function(x,y){this._context.moveTo(y,x)},closePath:function(){this._context.closePath()},lineTo:function(x,y){this._context.lineTo(y,x)},bezierCurveTo:function(x1,y1,x2,y2,x,y){this._context.bezierCurveTo(y1,x1,y2,x2,y,x)}},Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var x=this._x,y=this._y,n=x.length;if(n)if(this._line?this._context.lineTo(x[0],y[0]):this._context.moveTo(x[0],y[0]),2===n)this._context.lineTo(x[1],y[1]);else for(var px=controlPoints(x),py=controlPoints(y),i0=0,i1=1;i1<n;++i0,++i1)this._context.bezierCurveTo(px[0][i0],py[0][i0],px[1][i0],py[1][i0],x[i1],y[i1]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(x,y){this._x.push(+x),this._y.push(+y)}},Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(x,y){switch(x=+x,y=+y,this._point){case 0:this._point=1,this._line?this._context.lineTo(x,y):this._context.moveTo(x,y);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,y),this._context.lineTo(x,y);else{var x1=this._x*(1-this._t)+x*this._t;this._context.lineTo(x1,this._y),this._context.lineTo(x1,y)}}this._x=x,this._y=y}},transform_Transform.prototype={constructor:transform_Transform,scale:function(k){return 1===k?this:new transform_Transform(this.k*k,this.x,this.y)},translate:function(x,y){return 0===x&0===y?this:new transform_Transform(this.k,this.x+this.k*x,this.y+this.k*y)},apply:function(point){return[point[0]*this.k+this.x,point[1]*this.k+this.y]},applyX:function(x){return x*this.k+this.x},applyY:function(y){return y*this.k+this.y},invert:function(location){return[(location[0]-this.x)/this.k,(location[1]-this.y)/this.k]},invertX:function(x){return(x-this.x)/this.k},invertY:function(y){return(y-this.y)/this.k},rescaleX:function(x){return x.copy().domain(x.range().map(this.invertX,this).map(x.invert,x))},rescaleY:function(y){return y.copy().domain(y.range().map(this.invertY,this).map(y.invert,y))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new transform_Transform(1,0,0);transform_Transform.prototype},"./node_modules/.pnpm/dayjs@1.11.18/node_modules/dayjs/dayjs.min.js":function(module){module.exports=function(){"use strict";var t=1e3,e=6e4,n=36e5,r="millisecond",i="second",s="minute",u="hour",a="day",o="week",c="month",f="quarter",h="year",d="date",l="Invalid Date",$=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,y=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,M={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(t){var e=["th","st","nd","rd"],n=t%100;return"["+t+(e[(n-20)%10]||e[n]||e[0])+"]"}},m=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},v={s:m,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+m(r,2,"0")+":"+m(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,c),s=n-i<0,u=e.clone().add(r+(s?-1:1),c);return+(-(r+(n-i)/(s?i-u:u-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(t){return{M:c,y:h,w:o,d:a,D:d,h:u,m:s,s:i,ms:r,Q:f}[t]||String(t||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},g="en",D={};D[g]=M;var p="$isDayjsObject",S=function(t){return t instanceof _||!(!t||!t[p])},w=function t(e,n,r){var i;if(!e)return g;if("string"==typeof e){var s=e.toLowerCase();D[s]&&(i=s),n&&(D[s]=n,i=s);var u=e.split("-");if(!i&&u.length>1)return t(u[0])}else{var a=e.name;D[a]=e,i=a}return!r&&i&&(g=i),i||!r&&g},O=function(t,e){if(S(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new _(n)},b=v;b.l=w,b.i=S,b.w=function(t,e){return O(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var _=function(){function M(t){this.$L=w(t.locale,null,!0),this.parse(t),this.$x=this.$x||t.x||{},this[p]=!0}var m=M.prototype;return m.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(b.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match($);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.init()},m.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},m.$utils=function(){return b},m.isValid=function(){return!(this.$d.toString()===l)},m.isSame=function(t,e){var n=O(t);return this.startOf(e)<=n&&n<=this.endOf(e)},m.isAfter=function(t,e){return O(t)<this.startOf(e)},m.isBefore=function(t,e){return this.endOf(e)<O(t)},m.$g=function(t,e,n){return b.u(t)?this[e]:this.set(n,t)},m.unix=function(){return Math.floor(this.valueOf()/1e3)},m.valueOf=function(){return this.$d.getTime()},m.startOf=function(t,e){var n=this,r=!!b.u(e)||e,f=b.p(t),l=function(t,e){var i=b.w(n.$u?Date.UTC(n.$y,e,t):new Date(n.$y,e,t),n);return r?i:i.endOf(a)},$=function(t,e){return b.w(n.toDate()[t].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(e)),n)},y=this.$W,M=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(f){case h:return r?l(1,0):l(31,11);case c:return r?l(1,M):l(0,M+1);case o:var g=this.$locale().weekStart||0,D=(y<g?y+7:y)-g;return l(r?m-D:m+(6-D),M);case a:case d:return $(v+"Hours",0);case u:return $(v+"Minutes",1);case s:return $(v+"Seconds",2);case i:return $(v+"Milliseconds",3);default:return this.clone()}},m.endOf=function(t){return this.startOf(t,!1)},m.$set=function(t,e){var n,o=b.p(t),f="set"+(this.$u?"UTC":""),l=(n={},n[a]=f+"Date",n[d]=f+"Date",n[c]=f+"Month",n[h]=f+"FullYear",n[u]=f+"Hours",n[s]=f+"Minutes",n[i]=f+"Seconds",n[r]=f+"Milliseconds",n)[o],$=o===a?this.$D+(e-this.$W):e;if(o===c||o===h){var y=this.clone().set(d,1);y.$d[l]($),y.init(),this.$d=y.set(d,Math.min(this.$D,y.daysInMonth())).$d}else l&&this.$d[l]($);return this.init(),this},m.set=function(t,e){return this.clone().$set(t,e)},m.get=function(t){return this[b.p(t)]()},m.add=function(r,f){var d,l=this;r=Number(r);var $=b.p(f),y=function(t){var e=O(l);return b.w(e.date(e.date()+Math.round(t*r)),l)};if($===c)return this.set(c,this.$M+r);if($===h)return this.set(h,this.$y+r);if($===a)return y(1);if($===o)return y(7);var M=(d={},d[s]=e,d[u]=n,d[i]=t,d)[$]||1,m=this.$d.getTime()+r*M;return b.w(m,this)},m.subtract=function(t,e){return this.add(-1*t,e)},m.format=function(t){var e=this,n=this.$locale();if(!this.isValid())return n.invalidDate||l;var r=t||"YYYY-MM-DDTHH:mm:ssZ",i=b.z(this),s=this.$H,u=this.$m,a=this.$M,o=n.weekdays,c=n.months,f=n.meridiem,h=function(t,n,i,s){return t&&(t[n]||t(e,r))||i[n].slice(0,s)},d=function(t){return b.s(s%12||12,t,"0")},$=f||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r};return r.replace(y,(function(t,r){return r||function(t){switch(t){case"YY":return String(e.$y).slice(-2);case"YYYY":return b.s(e.$y,4,"0");case"M":return a+1;case"MM":return b.s(a+1,2,"0");case"MMM":return h(n.monthsShort,a,c,3);case"MMMM":return h(c,a);case"D":return e.$D;case"DD":return b.s(e.$D,2,"0");case"d":return String(e.$W);case"dd":return h(n.weekdaysMin,e.$W,o,2);case"ddd":return h(n.weekdaysShort,e.$W,o,3);case"dddd":return o[e.$W];case"H":return String(s);case"HH":return b.s(s,2,"0");case"h":return d(1);case"hh":return d(2);case"a":return $(s,u,!0);case"A":return $(s,u,!1);case"m":return String(u);case"mm":return b.s(u,2,"0");case"s":return String(e.$s);case"ss":return b.s(e.$s,2,"0");case"SSS":return b.s(e.$ms,3,"0");case"Z":return i}return null}(t)||i.replace(":","")}))},m.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},m.diff=function(r,d,l){var $,y=this,M=b.p(d),m=O(r),v=(m.utcOffset()-this.utcOffset())*e,g=this-m,D=function(){return b.m(y,m)};switch(M){case h:$=D()/12;break;case c:$=D();break;case f:$=D()/3;break;case o:$=(g-v)/6048e5;break;case a:$=(g-v)/864e5;break;case u:$=g/n;break;case s:$=g/e;break;case i:$=g/t;break;default:$=g}return l?$:b.a($)},m.daysInMonth=function(){return this.endOf(c).$D},m.$locale=function(){return D[this.$L]},m.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=w(t,e,!0);return r&&(n.$L=r),n},m.clone=function(){return b.w(this.$d,this)},m.toDate=function(){return new Date(this.valueOf())},m.toJSON=function(){return this.isValid()?this.toISOString():null},m.toISOString=function(){return this.$d.toISOString()},m.toString=function(){return this.$d.toUTCString()},M}(),k=_.prototype;return O.prototype=k,[["$ms",r],["$s",i],["$m",s],["$H",u],["$W",a],["$M",c],["$y",h],["$D",d]].forEach((function(t){k[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),O.extend=function(t,e){return t.$i||(t(e,_,O),t.$i=!0),O},O.locale=w,O.isDayjs=S,O.unix=function(t){return O(1e3*t)},O.en=D[g],O.Ls=D,O.p={},O}()},"./node_modules/.pnpm/dompurify@3.2.6/node_modules/dompurify/dist/purify.es.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>purify});var console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const{entries,setPrototypeOf,isFrozen,getPrototypeOf,getOwnPropertyDescriptor}=Object;let{freeze,seal,create}=Object,{apply,construct}="undefined"!=typeof Reflect&&Reflect;freeze||(freeze=function freeze(x){return x}),seal||(seal=function seal(x){return x}),apply||(apply=function apply(fun,thisValue,args){return fun.apply(thisValue,args)}),construct||(construct=function construct(Func,args){return new Func(...args)});const arrayForEach=unapply(Array.prototype.forEach),arrayLastIndexOf=unapply(Array.prototype.lastIndexOf),arrayPop=unapply(Array.prototype.pop),arrayPush=unapply(Array.prototype.push),arraySplice=unapply(Array.prototype.splice),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),objectHasOwnProperty=unapply(Object.prototype.hasOwnProperty),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=function unconstruct(func){return function(){for(var _len2=arguments.length,args=new Array(_len2),_key2=0;_key2<_len2;_key2++)args[_key2]=arguments[_key2];return construct(func,args)}}(TypeError);function unapply(func){return function(thisArg){thisArg instanceof RegExp&&(thisArg.lastIndex=0);for(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++)args[_key-1]=arguments[_key];return apply(func,thisArg,args)}}function addToSet(set,array){let transformCaseFunc=arguments.length>2&&void 0!==arguments[2]?arguments[2]:stringToLowerCase;setPrototypeOf&&setPrototypeOf(set,null);let l=array.length;for(;l--;){let element=array[l];if("string"==typeof element){const lcElement=transformCaseFunc(element);lcElement!==element&&(isFrozen(array)||(array[l]=lcElement),element=lcElement)}set[element]=!0}return set}function cleanArray(array){for(let index=0;index<array.length;index++){objectHasOwnProperty(array,index)||(array[index]=null)}return array}function clone(object){const newObject=create(null);for(const[property,value]of entries(object)){objectHasOwnProperty(object,property)&&(Array.isArray(value)?newObject[property]=cleanArray(value):value&&"object"==typeof value&&value.constructor===Object?newObject[property]=clone(value):newObject[property]=value)}return newObject}function lookupGetter(object,prop){for(;null!==object;){const desc=getOwnPropertyDescriptor(object,prop);if(desc){if(desc.get)return unapply(desc.get);if("function"==typeof desc.value)return unapply(desc.value)}object=getPrototypeOf(object)}return function fallbackValue(){return null}}const html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\$\{[\w\W]*/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]+$/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),CUSTOM_ELEMENT=seal(/^[a-z][.\w]*(-[.\w]+)+$/i);var EXPRESSIONS=Object.freeze({__proto__:null,ARIA_ATTR,ATTR_WHITESPACE,CUSTOM_ELEMENT,DATA_ATTR,DOCTYPE_NAME,ERB_EXPR,IS_ALLOWED_URI,IS_SCRIPT_OR_DATA,MUSTACHE_EXPR,TMPLIT_EXPR});const NODE_TYPE_element=1,NODE_TYPE_text=3,NODE_TYPE_progressingInstruction=7,NODE_TYPE_comment=8,NODE_TYPE_document=9,getGlobal=function getGlobal(){return"undefined"==typeof window?null:window};var purify=function createDOMPurify(){let window=arguments.length>0&&void 0!==arguments[0]?arguments[0]:getGlobal();const DOMPurify=root=>createDOMPurify(root);if(DOMPurify.version="3.2.6",DOMPurify.removed=[],!window||!window.document||window.document.nodeType!==NODE_TYPE_document||!window.Element)return DOMPurify.isSupported=!1,DOMPurify;let{document}=window;const originalDocument=document,currentScript=originalDocument.currentScript,{DocumentFragment,HTMLTemplateElement,Node,Element,NodeFilter,NamedNodeMap=window.NamedNodeMap||window.MozNamedAttrMap,HTMLFormElement,DOMParser,trustedTypes}=window,ElementPrototype=Element.prototype,cloneNode=lookupGetter(ElementPrototype,"cloneNode"),remove=lookupGetter(ElementPrototype,"remove"),getNextSibling=lookupGetter(ElementPrototype,"nextSibling"),getChildNodes=lookupGetter(ElementPrototype,"childNodes"),getParentNode=lookupGetter(ElementPrototype,"parentNode");if("function"==typeof HTMLTemplateElement){const template=document.createElement("template");template.content&&template.content.ownerDocument&&(document=template.content.ownerDocument)}let trustedTypesPolicy,emptyHTML="";const{implementation,createNodeIterator,createDocumentFragment,getElementsByTagName}=document,{importNode}=originalDocument;let hooks={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]};DOMPurify.isSupported="function"==typeof entries&&"function"==typeof getParentNode&&implementation&&void 0!==implementation.createHTMLDocument;const{MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR,DATA_ATTR,ARIA_ATTR,IS_SCRIPT_OR_DATA,ATTR_WHITESPACE,CUSTOM_ELEMENT}=EXPRESSIONS;let{IS_ALLOWED_URI:IS_ALLOWED_URI$1}=EXPRESSIONS,ALLOWED_TAGS=null;const DEFAULT_ALLOWED_TAGS=addToSet({},[...html$1,...svg$1,...svgFilters,...mathMl$1,...text]);let ALLOWED_ATTR=null;const DEFAULT_ALLOWED_ATTR=addToSet({},[...html,...svg,...mathMl,...xml]);let CUSTOM_ELEMENT_HANDLING=Object.seal(create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),FORBID_TAGS=null,FORBID_ATTR=null,ALLOW_ARIA_ATTR=!0,ALLOW_DATA_ATTR=!0,ALLOW_UNKNOWN_PROTOCOLS=!1,ALLOW_SELF_CLOSE_IN_ATTR=!0,SAFE_FOR_TEMPLATES=!1,SAFE_FOR_XML=!0,WHOLE_DOCUMENT=!1,SET_CONFIG=!1,FORCE_BODY=!1,RETURN_DOM=!1,RETURN_DOM_FRAGMENT=!1,RETURN_TRUSTED_TYPE=!1,SANITIZE_DOM=!0,SANITIZE_NAMED_PROPS=!1,KEEP_CONTENT=!0,IN_PLACE=!1,USE_PROFILES={},FORBID_CONTENTS=null;const DEFAULT_FORBID_CONTENTS=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let DATA_URI_TAGS=null;const DEFAULT_DATA_URI_TAGS=addToSet({},["audio","video","img","source","image","track"]);let URI_SAFE_ATTRIBUTES=null;const DEFAULT_URI_SAFE_ATTRIBUTES=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),MATHML_NAMESPACE="http://www.w3.org/1998/Math/MathML",SVG_NAMESPACE="http://www.w3.org/2000/svg",HTML_NAMESPACE="http://www.w3.org/1999/xhtml";let NAMESPACE=HTML_NAMESPACE,IS_EMPTY_INPUT=!1,ALLOWED_NAMESPACES=null;const DEFAULT_ALLOWED_NAMESPACES=addToSet({},[MATHML_NAMESPACE,SVG_NAMESPACE,HTML_NAMESPACE],stringToString);let MATHML_TEXT_INTEGRATION_POINTS=addToSet({},["mi","mo","mn","ms","mtext"]),HTML_INTEGRATION_POINTS=addToSet({},["annotation-xml"]);const COMMON_SVG_AND_HTML_ELEMENTS=addToSet({},["title","style","font","a","script"]);let PARSER_MEDIA_TYPE=null;const SUPPORTED_PARSER_MEDIA_TYPES=["application/xhtml+xml","text/html"];let transformCaseFunc=null,CONFIG=null;const formElement=document.createElement("form"),isRegexOrFunction=function isRegexOrFunction(testValue){return testValue instanceof RegExp||testValue instanceof Function},_parseConfig=function _parseConfig(){let cfg=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!CONFIG||CONFIG!==cfg){if(cfg&&"object"==typeof cfg||(cfg={}),cfg=clone(cfg),PARSER_MEDIA_TYPE=-1===SUPPORTED_PARSER_MEDIA_TYPES.indexOf(cfg.PARSER_MEDIA_TYPE)?"text/html":cfg.PARSER_MEDIA_TYPE,transformCaseFunc="application/xhtml+xml"===PARSER_MEDIA_TYPE?stringToString:stringToLowerCase,ALLOWED_TAGS=objectHasOwnProperty(cfg,"ALLOWED_TAGS")?addToSet({},cfg.ALLOWED_TAGS,transformCaseFunc):DEFAULT_ALLOWED_TAGS,ALLOWED_ATTR=objectHasOwnProperty(cfg,"ALLOWED_ATTR")?addToSet({},cfg.ALLOWED_ATTR,transformCaseFunc):DEFAULT_ALLOWED_ATTR,ALLOWED_NAMESPACES=objectHasOwnProperty(cfg,"ALLOWED_NAMESPACES")?addToSet({},cfg.ALLOWED_NAMESPACES,stringToString):DEFAULT_ALLOWED_NAMESPACES,URI_SAFE_ATTRIBUTES=objectHasOwnProperty(cfg,"ADD_URI_SAFE_ATTR")?addToSet(clone(DEFAULT_URI_SAFE_ATTRIBUTES),cfg.ADD_URI_SAFE_ATTR,transformCaseFunc):DEFAULT_URI_SAFE_ATTRIBUTES,DATA_URI_TAGS=objectHasOwnProperty(cfg,"ADD_DATA_URI_TAGS")?addToSet(clone(DEFAULT_DATA_URI_TAGS),cfg.ADD_DATA_URI_TAGS,transformCaseFunc):DEFAULT_DATA_URI_TAGS,FORBID_CONTENTS=objectHasOwnProperty(cfg,"FORBID_CONTENTS")?addToSet({},cfg.FORBID_CONTENTS,transformCaseFunc):DEFAULT_FORBID_CONTENTS,FORBID_TAGS=objectHasOwnProperty(cfg,"FORBID_TAGS")?addToSet({},cfg.FORBID_TAGS,transformCaseFunc):clone({}),FORBID_ATTR=objectHasOwnProperty(cfg,"FORBID_ATTR")?addToSet({},cfg.FORBID_ATTR,transformCaseFunc):clone({}),USE_PROFILES=!!objectHasOwnProperty(cfg,"USE_PROFILES")&&cfg.USE_PROFILES,ALLOW_ARIA_ATTR=!1!==cfg.ALLOW_ARIA_ATTR,ALLOW_DATA_ATTR=!1!==cfg.ALLOW_DATA_ATTR,ALLOW_UNKNOWN_PROTOCOLS=cfg.ALLOW_UNKNOWN_PROTOCOLS||!1,ALLOW_SELF_CLOSE_IN_ATTR=!1!==cfg.ALLOW_SELF_CLOSE_IN_ATTR,SAFE_FOR_TEMPLATES=cfg.SAFE_FOR_TEMPLATES||!1,SAFE_FOR_XML=!1!==cfg.SAFE_FOR_XML,WHOLE_DOCUMENT=cfg.WHOLE_DOCUMENT||!1,RETURN_DOM=cfg.RETURN_DOM||!1,RETURN_DOM_FRAGMENT=cfg.RETURN_DOM_FRAGMENT||!1,RETURN_TRUSTED_TYPE=cfg.RETURN_TRUSTED_TYPE||!1,FORCE_BODY=cfg.FORCE_BODY||!1,SANITIZE_DOM=!1!==cfg.SANITIZE_DOM,SANITIZE_NAMED_PROPS=cfg.SANITIZE_NAMED_PROPS||!1,KEEP_CONTENT=!1!==cfg.KEEP_CONTENT,IN_PLACE=cfg.IN_PLACE||!1,IS_ALLOWED_URI$1=cfg.ALLOWED_URI_REGEXP||IS_ALLOWED_URI,NAMESPACE=cfg.NAMESPACE||HTML_NAMESPACE,MATHML_TEXT_INTEGRATION_POINTS=cfg.MATHML_TEXT_INTEGRATION_POINTS||MATHML_TEXT_INTEGRATION_POINTS,HTML_INTEGRATION_POINTS=cfg.HTML_INTEGRATION_POINTS||HTML_INTEGRATION_POINTS,CUSTOM_ELEMENT_HANDLING=cfg.CUSTOM_ELEMENT_HANDLING||{},cfg.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(CUSTOM_ELEMENT_HANDLING.tagNameCheck=cfg.CUSTOM_ELEMENT_HANDLING.tagNameCheck),cfg.CUSTOM_ELEMENT_HANDLING&&isRegexOrFunction(cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(CUSTOM_ELEMENT_HANDLING.attributeNameCheck=cfg.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),cfg.CUSTOM_ELEMENT_HANDLING&&"boolean"==typeof cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=cfg.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),SAFE_FOR_TEMPLATES&&(ALLOW_DATA_ATTR=!1),RETURN_DOM_FRAGMENT&&(RETURN_DOM=!0),USE_PROFILES&&(ALLOWED_TAGS=addToSet({},text),ALLOWED_ATTR=[],!0===USE_PROFILES.html&&(addToSet(ALLOWED_TAGS,html$1),addToSet(ALLOWED_ATTR,html)),!0===USE_PROFILES.svg&&(addToSet(ALLOWED_TAGS,svg$1),addToSet(ALLOWED_ATTR,svg),addToSet(ALLOWED_ATTR,xml)),!0===USE_PROFILES.svgFilters&&(addToSet(ALLOWED_TAGS,svgFilters),addToSet(ALLOWED_ATTR,svg),addToSet(ALLOWED_ATTR,xml)),!0===USE_PROFILES.mathMl&&(addToSet(ALLOWED_TAGS,mathMl$1),addToSet(ALLOWED_ATTR,mathMl),addToSet(ALLOWED_ATTR,xml))),cfg.ADD_TAGS&&(ALLOWED_TAGS===DEFAULT_ALLOWED_TAGS&&(ALLOWED_TAGS=clone(ALLOWED_TAGS)),addToSet(ALLOWED_TAGS,cfg.ADD_TAGS,transformCaseFunc)),cfg.ADD_ATTR&&(ALLOWED_ATTR===DEFAULT_ALLOWED_ATTR&&(ALLOWED_ATTR=clone(ALLOWED_ATTR)),addToSet(ALLOWED_ATTR,cfg.ADD_ATTR,transformCaseFunc)),cfg.ADD_URI_SAFE_ATTR&&addToSet(URI_SAFE_ATTRIBUTES,cfg.ADD_URI_SAFE_ATTR,transformCaseFunc),cfg.FORBID_CONTENTS&&(FORBID_CONTENTS===DEFAULT_FORBID_CONTENTS&&(FORBID_CONTENTS=clone(FORBID_CONTENTS)),addToSet(FORBID_CONTENTS,cfg.FORBID_CONTENTS,transformCaseFunc)),KEEP_CONTENT&&(ALLOWED_TAGS["#text"]=!0),WHOLE_DOCUMENT&&addToSet(ALLOWED_TAGS,["html","head","body"]),ALLOWED_TAGS.table&&(addToSet(ALLOWED_TAGS,["tbody"]),delete FORBID_TAGS.tbody),cfg.TRUSTED_TYPES_POLICY){if("function"!=typeof cfg.TRUSTED_TYPES_POLICY.createHTML)throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if("function"!=typeof cfg.TRUSTED_TYPES_POLICY.createScriptURL)throw typeErrorCreate('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');trustedTypesPolicy=cfg.TRUSTED_TYPES_POLICY,emptyHTML=trustedTypesPolicy.createHTML("")}else void 0===trustedTypesPolicy&&(trustedTypesPolicy=function _createTrustedTypesPolicy(trustedTypes,purifyHostElement){if("object"!=typeof trustedTypes||"function"!=typeof trustedTypes.createPolicy)return null;let suffix=null;purifyHostElement&&purifyHostElement.hasAttribute("data-tt-policy-suffix")&&(suffix=purifyHostElement.getAttribute("data-tt-policy-suffix"));const policyName="dompurify"+(suffix?"#"+suffix:"");try{return trustedTypes.createPolicy(policyName,{createHTML:html=>html,createScriptURL:scriptUrl=>scriptUrl})}catch(_){return console.warn("TrustedTypes policy "+policyName+" could not be created."),null}}(trustedTypes,currentScript)),null!==trustedTypesPolicy&&"string"==typeof emptyHTML&&(emptyHTML=trustedTypesPolicy.createHTML(""));freeze&&freeze(cfg),CONFIG=cfg}},ALL_SVG_TAGS=addToSet({},[...svg$1,...svgFilters,...svgDisallowed]),ALL_MATHML_TAGS=addToSet({},[...mathMl$1,...mathMlDisallowed]),_forceRemove=function _forceRemove(node){arrayPush(DOMPurify.removed,{element:node});try{getParentNode(node).removeChild(node)}catch(_){remove(node)}},_removeAttribute=function _removeAttribute(name,element){try{arrayPush(DOMPurify.removed,{attribute:element.getAttributeNode(name),from:element})}catch(_){arrayPush(DOMPurify.removed,{attribute:null,from:element})}if(element.removeAttribute(name),"is"===name)if(RETURN_DOM||RETURN_DOM_FRAGMENT)try{_forceRemove(element)}catch(_){}else try{element.setAttribute(name,"")}catch(_){}},_initDocument=function _initDocument(dirty){let doc=null,leadingWhitespace=null;if(FORCE_BODY)dirty="<remove></remove>"+dirty;else{const matches=stringMatch(dirty,/^[\r\n\t ]+/);leadingWhitespace=matches&&matches[0]}"application/xhtml+xml"===PARSER_MEDIA_TYPE&&NAMESPACE===HTML_NAMESPACE&&(dirty='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+dirty+"</body></html>");const dirtyPayload=trustedTypesPolicy?trustedTypesPolicy.createHTML(dirty):dirty;if(NAMESPACE===HTML_NAMESPACE)try{doc=(new DOMParser).parseFromString(dirtyPayload,PARSER_MEDIA_TYPE)}catch(_){}if(!doc||!doc.documentElement){doc=implementation.createDocument(NAMESPACE,"template",null);try{doc.documentElement.innerHTML=IS_EMPTY_INPUT?emptyHTML:dirtyPayload}catch(_){}}const body=doc.body||doc.documentElement;return dirty&&leadingWhitespace&&body.insertBefore(document.createTextNode(leadingWhitespace),body.childNodes[0]||null),NAMESPACE===HTML_NAMESPACE?getElementsByTagName.call(doc,WHOLE_DOCUMENT?"html":"body")[0]:WHOLE_DOCUMENT?doc.documentElement:body},_createNodeIterator=function _createNodeIterator(root){return createNodeIterator.call(root.ownerDocument||root,root,NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT|NodeFilter.SHOW_TEXT|NodeFilter.SHOW_PROCESSING_INSTRUCTION|NodeFilter.SHOW_CDATA_SECTION,null)},_isClobbered=function _isClobbered(element){return element instanceof HTMLFormElement&&("string"!=typeof element.nodeName||"string"!=typeof element.textContent||"function"!=typeof element.removeChild||!(element.attributes instanceof NamedNodeMap)||"function"!=typeof element.removeAttribute||"function"!=typeof element.setAttribute||"string"!=typeof element.namespaceURI||"function"!=typeof element.insertBefore||"function"!=typeof element.hasChildNodes)},_isNode=function _isNode(value){return"function"==typeof Node&&value instanceof Node};function _executeHooks(hooks,currentNode,data){arrayForEach(hooks,(hook=>{hook.call(DOMPurify,currentNode,data,CONFIG)}))}const _sanitizeElements=function _sanitizeElements(currentNode){let content=null;if(_executeHooks(hooks.beforeSanitizeElements,currentNode,null),_isClobbered(currentNode))return _forceRemove(currentNode),!0;const tagName=transformCaseFunc(currentNode.nodeName);if(_executeHooks(hooks.uponSanitizeElement,currentNode,{tagName,allowedTags:ALLOWED_TAGS}),SAFE_FOR_XML&&currentNode.hasChildNodes()&&!_isNode(currentNode.firstElementChild)&&regExpTest(/<[/\w!]/g,currentNode.innerHTML)&&regExpTest(/<[/\w!]/g,currentNode.textContent))return _forceRemove(currentNode),!0;if(currentNode.nodeType===NODE_TYPE_progressingInstruction)return _forceRemove(currentNode),!0;if(SAFE_FOR_XML&&currentNode.nodeType===NODE_TYPE_comment&&regExpTest(/<[/\w]/g,currentNode.data))return _forceRemove(currentNode),!0;if(!ALLOWED_TAGS[tagName]||FORBID_TAGS[tagName]){if(!FORBID_TAGS[tagName]&&_isBasicCustomElement(tagName)){if(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck,tagName))return!1;if(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.tagNameCheck(tagName))return!1}if(KEEP_CONTENT&&!FORBID_CONTENTS[tagName]){const parentNode=getParentNode(currentNode)||currentNode.parentNode,childNodes=getChildNodes(currentNode)||currentNode.childNodes;if(childNodes&&parentNode){for(let i=childNodes.length-1;i>=0;--i){const childClone=cloneNode(childNodes[i],!0);childClone.__removalCount=(currentNode.__removalCount||0)+1,parentNode.insertBefore(childClone,getNextSibling(currentNode))}}}return _forceRemove(currentNode),!0}return currentNode instanceof Element&&!function _checkValidNamespace(element){let parent=getParentNode(element);parent&&parent.tagName||(parent={namespaceURI:NAMESPACE,tagName:"template"});const tagName=stringToLowerCase(element.tagName),parentTagName=stringToLowerCase(parent.tagName);return!!ALLOWED_NAMESPACES[element.namespaceURI]&&(element.namespaceURI===SVG_NAMESPACE?parent.namespaceURI===HTML_NAMESPACE?"svg"===tagName:parent.namespaceURI===MATHML_NAMESPACE?"svg"===tagName&&("annotation-xml"===parentTagName||MATHML_TEXT_INTEGRATION_POINTS[parentTagName]):Boolean(ALL_SVG_TAGS[tagName]):element.namespaceURI===MATHML_NAMESPACE?parent.namespaceURI===HTML_NAMESPACE?"math"===tagName:parent.namespaceURI===SVG_NAMESPACE?"math"===tagName&&HTML_INTEGRATION_POINTS[parentTagName]:Boolean(ALL_MATHML_TAGS[tagName]):element.namespaceURI===HTML_NAMESPACE?!(parent.namespaceURI===SVG_NAMESPACE&&!HTML_INTEGRATION_POINTS[parentTagName])&&!(parent.namespaceURI===MATHML_NAMESPACE&&!MATHML_TEXT_INTEGRATION_POINTS[parentTagName])&&!ALL_MATHML_TAGS[tagName]&&(COMMON_SVG_AND_HTML_ELEMENTS[tagName]||!ALL_SVG_TAGS[tagName]):!("application/xhtml+xml"!==PARSER_MEDIA_TYPE||!ALLOWED_NAMESPACES[element.namespaceURI]))}(currentNode)?(_forceRemove(currentNode),!0):"noscript"!==tagName&&"noembed"!==tagName&&"noframes"!==tagName||!regExpTest(/<\/no(script|embed|frames)/i,currentNode.innerHTML)?(SAFE_FOR_TEMPLATES&&currentNode.nodeType===NODE_TYPE_text&&(content=currentNode.textContent,arrayForEach([MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR],(expr=>{content=stringReplace(content,expr," ")})),currentNode.textContent!==content&&(arrayPush(DOMPurify.removed,{element:currentNode.cloneNode()}),currentNode.textContent=content)),_executeHooks(hooks.afterSanitizeElements,currentNode,null),!1):(_forceRemove(currentNode),!0)},_isValidAttribute=function _isValidAttribute(lcTag,lcName,value){if(SANITIZE_DOM&&("id"===lcName||"name"===lcName)&&(value in document||value in formElement))return!1;if(ALLOW_DATA_ATTR&&!FORBID_ATTR[lcName]&&regExpTest(DATA_ATTR,lcName));else if(ALLOW_ARIA_ATTR&&regExpTest(ARIA_ATTR,lcName));else if(!ALLOWED_ATTR[lcName]||FORBID_ATTR[lcName]){if(!(_isBasicCustomElement(lcTag)&&(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck,lcTag)||CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.tagNameCheck(lcTag))&&(CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.attributeNameCheck,lcName)||CUSTOM_ELEMENT_HANDLING.attributeNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.attributeNameCheck(lcName))||"is"===lcName&&CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements&&(CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof RegExp&&regExpTest(CUSTOM_ELEMENT_HANDLING.tagNameCheck,value)||CUSTOM_ELEMENT_HANDLING.tagNameCheck instanceof Function&&CUSTOM_ELEMENT_HANDLING.tagNameCheck(value))))return!1}else if(URI_SAFE_ATTRIBUTES[lcName]);else if(regExpTest(IS_ALLOWED_URI$1,stringReplace(value,ATTR_WHITESPACE,"")));else if("src"!==lcName&&"xlink:href"!==lcName&&"href"!==lcName||"script"===lcTag||0!==stringIndexOf(value,"data:")||!DATA_URI_TAGS[lcTag]){if(ALLOW_UNKNOWN_PROTOCOLS&&!regExpTest(IS_SCRIPT_OR_DATA,stringReplace(value,ATTR_WHITESPACE,"")));else if(value)return!1}else;return!0},_isBasicCustomElement=function _isBasicCustomElement(tagName){return"annotation-xml"!==tagName&&stringMatch(tagName,CUSTOM_ELEMENT)},_sanitizeAttributes=function _sanitizeAttributes(currentNode){_executeHooks(hooks.beforeSanitizeAttributes,currentNode,null);const{attributes}=currentNode;if(!attributes||_isClobbered(currentNode))return;const hookEvent={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ALLOWED_ATTR,forceKeepAttr:void 0};let l=attributes.length;for(;l--;){const attr=attributes[l],{name,namespaceURI,value:attrValue}=attr,lcName=transformCaseFunc(name),initValue=attrValue;let value="value"===name?initValue:stringTrim(initValue);if(hookEvent.attrName=lcName,hookEvent.attrValue=value,hookEvent.keepAttr=!0,hookEvent.forceKeepAttr=void 0,_executeHooks(hooks.uponSanitizeAttribute,currentNode,hookEvent),value=hookEvent.attrValue,!SANITIZE_NAMED_PROPS||"id"!==lcName&&"name"!==lcName||(_removeAttribute(name,currentNode),value="user-content-"+value),SAFE_FOR_XML&&regExpTest(/((--!?|])>)|<\/(style|title)/i,value)){_removeAttribute(name,currentNode);continue}if(hookEvent.forceKeepAttr)continue;if(!hookEvent.keepAttr){_removeAttribute(name,currentNode);continue}if(!ALLOW_SELF_CLOSE_IN_ATTR&&regExpTest(/\/>/i,value)){_removeAttribute(name,currentNode);continue}SAFE_FOR_TEMPLATES&&arrayForEach([MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR],(expr=>{value=stringReplace(value,expr," ")}));const lcTag=transformCaseFunc(currentNode.nodeName);if(_isValidAttribute(lcTag,lcName,value)){if(trustedTypesPolicy&&"object"==typeof trustedTypes&&"function"==typeof trustedTypes.getAttributeType)if(namespaceURI);else switch(trustedTypes.getAttributeType(lcTag,lcName)){case"TrustedHTML":value=trustedTypesPolicy.createHTML(value);break;case"TrustedScriptURL":value=trustedTypesPolicy.createScriptURL(value)}if(value!==initValue)try{namespaceURI?currentNode.setAttributeNS(namespaceURI,name,value):currentNode.setAttribute(name,value),_isClobbered(currentNode)?_forceRemove(currentNode):arrayPop(DOMPurify.removed)}catch(_){_removeAttribute(name,currentNode)}}else _removeAttribute(name,currentNode)}_executeHooks(hooks.afterSanitizeAttributes,currentNode,null)},_sanitizeShadowDOM=function _sanitizeShadowDOM(fragment){let shadowNode=null;const shadowIterator=_createNodeIterator(fragment);for(_executeHooks(hooks.beforeSanitizeShadowDOM,fragment,null);shadowNode=shadowIterator.nextNode();)_executeHooks(hooks.uponSanitizeShadowNode,shadowNode,null),_sanitizeElements(shadowNode),_sanitizeAttributes(shadowNode),shadowNode.content instanceof DocumentFragment&&_sanitizeShadowDOM(shadowNode.content);_executeHooks(hooks.afterSanitizeShadowDOM,fragment,null)};return DOMPurify.sanitize=function(dirty){let cfg=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},body=null,importedNode=null,currentNode=null,returnNode=null;if(IS_EMPTY_INPUT=!dirty,IS_EMPTY_INPUT&&(dirty="\x3c!--\x3e"),"string"!=typeof dirty&&!_isNode(dirty)){if("function"!=typeof dirty.toString)throw typeErrorCreate("toString is not a function");if("string"!=typeof(dirty=dirty.toString()))throw typeErrorCreate("dirty is not a string, aborting")}if(!DOMPurify.isSupported)return dirty;if(SET_CONFIG||_parseConfig(cfg),DOMPurify.removed=[],"string"==typeof dirty&&(IN_PLACE=!1),IN_PLACE){if(dirty.nodeName){const tagName=transformCaseFunc(dirty.nodeName);if(!ALLOWED_TAGS[tagName]||FORBID_TAGS[tagName])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(dirty instanceof Node)body=_initDocument("\x3c!----\x3e"),importedNode=body.ownerDocument.importNode(dirty,!0),importedNode.nodeType===NODE_TYPE_element&&"BODY"===importedNode.nodeName||"HTML"===importedNode.nodeName?body=importedNode:body.appendChild(importedNode);else{if(!RETURN_DOM&&!SAFE_FOR_TEMPLATES&&!WHOLE_DOCUMENT&&-1===dirty.indexOf("<"))return trustedTypesPolicy&&RETURN_TRUSTED_TYPE?trustedTypesPolicy.createHTML(dirty):dirty;if(body=_initDocument(dirty),!body)return RETURN_DOM?null:RETURN_TRUSTED_TYPE?emptyHTML:""}body&&FORCE_BODY&&_forceRemove(body.firstChild);const nodeIterator=_createNodeIterator(IN_PLACE?dirty:body);for(;currentNode=nodeIterator.nextNode();)_sanitizeElements(currentNode),_sanitizeAttributes(currentNode),currentNode.content instanceof DocumentFragment&&_sanitizeShadowDOM(currentNode.content);if(IN_PLACE)return dirty;if(RETURN_DOM){if(RETURN_DOM_FRAGMENT)for(returnNode=createDocumentFragment.call(body.ownerDocument);body.firstChild;)returnNode.appendChild(body.firstChild);else returnNode=body;return(ALLOWED_ATTR.shadowroot||ALLOWED_ATTR.shadowrootmode)&&(returnNode=importNode.call(originalDocument,returnNode,!0)),returnNode}let serializedHTML=WHOLE_DOCUMENT?body.outerHTML:body.innerHTML;return WHOLE_DOCUMENT&&ALLOWED_TAGS["!doctype"]&&body.ownerDocument&&body.ownerDocument.doctype&&body.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,body.ownerDocument.doctype.name)&&(serializedHTML="<!DOCTYPE "+body.ownerDocument.doctype.name+">\n"+serializedHTML),SAFE_FOR_TEMPLATES&&arrayForEach([MUSTACHE_EXPR,ERB_EXPR,TMPLIT_EXPR],(expr=>{serializedHTML=stringReplace(serializedHTML,expr," ")})),trustedTypesPolicy&&RETURN_TRUSTED_TYPE?trustedTypesPolicy.createHTML(serializedHTML):serializedHTML},DOMPurify.setConfig=function(){_parseConfig(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}),SET_CONFIG=!0},DOMPurify.clearConfig=function(){CONFIG=null,SET_CONFIG=!1},DOMPurify.isValidAttribute=function(tag,attr,value){CONFIG||_parseConfig({});const lcTag=transformCaseFunc(tag),lcName=transformCaseFunc(attr);return _isValidAttribute(lcTag,lcName,value)},DOMPurify.addHook=function(entryPoint,hookFunction){"function"==typeof hookFunction&&arrayPush(hooks[entryPoint],hookFunction)},DOMPurify.removeHook=function(entryPoint,hookFunction){if(void 0!==hookFunction){const index=arrayLastIndexOf(hooks[entryPoint],hookFunction);return-1===index?void 0:arraySplice(hooks[entryPoint],index,1)[0]}return arrayPop(hooks[entryPoint])},DOMPurify.removeHooks=function(entryPoint){hooks[entryPoint]=[]},DOMPurify.removeAllHooks=function(){hooks={afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}},DOMPurify}()},"./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/channels/reusable.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>reusable});var utils=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/utils/index.js"),constants=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/constants.js");const type=class Type{constructor(){this.type=constants.Z.ALL}get(){return this.type}set(type){if(this.type&&this.type!==type)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=type}reset(){this.type=constants.Z.ALL}is(type){return this.type===type}};const reusable=new class Channels{constructor(data,color){this.color=color,this.changed=!1,this.data=data,this.type=new type}set(data,color){return this.color=color,this.changed=!1,this.data=data,this.type.type=constants.Z.ALL,this}_ensureHSL(){const data=this.data,{h,s,l}=data;void 0===h&&(data.h=utils.A.channel.rgb2hsl(data,"h")),void 0===s&&(data.s=utils.A.channel.rgb2hsl(data,"s")),void 0===l&&(data.l=utils.A.channel.rgb2hsl(data,"l"))}_ensureRGB(){const data=this.data,{r,g,b}=data;void 0===r&&(data.r=utils.A.channel.hsl2rgb(data,"r")),void 0===g&&(data.g=utils.A.channel.hsl2rgb(data,"g")),void 0===b&&(data.b=utils.A.channel.hsl2rgb(data,"b"))}get r(){const data=this.data,r=data.r;return this.type.is(constants.Z.HSL)||void 0===r?(this._ensureHSL(),utils.A.channel.hsl2rgb(data,"r")):r}get g(){const data=this.data,g=data.g;return this.type.is(constants.Z.HSL)||void 0===g?(this._ensureHSL(),utils.A.channel.hsl2rgb(data,"g")):g}get b(){const data=this.data,b=data.b;return this.type.is(constants.Z.HSL)||void 0===b?(this._ensureHSL(),utils.A.channel.hsl2rgb(data,"b")):b}get h(){const data=this.data,h=data.h;return this.type.is(constants.Z.RGB)||void 0===h?(this._ensureRGB(),utils.A.channel.rgb2hsl(data,"h")):h}get s(){const data=this.data,s=data.s;return this.type.is(constants.Z.RGB)||void 0===s?(this._ensureRGB(),utils.A.channel.rgb2hsl(data,"s")):s}get l(){const data=this.data,l=data.l;return this.type.is(constants.Z.RGB)||void 0===l?(this._ensureRGB(),utils.A.channel.rgb2hsl(data,"l")):l}get a(){return this.data.a}set r(r){this.type.set(constants.Z.RGB),this.changed=!0,this.data.r=r}set g(g){this.type.set(constants.Z.RGB),this.changed=!0,this.data.g=g}set b(b){this.type.set(constants.Z.RGB),this.changed=!0,this.data.b=b}set h(h){this.type.set(constants.Z.HSL),this.changed=!0,this.data.h=h}set s(s){this.type.set(constants.Z.HSL),this.changed=!0,this.data.s=s}set l(l){this.type.set(constants.Z.HSL),this.changed=!0,this.data.l=l}set a(a){this.changed=!0,this.data.a=a}}({r:0,g:0,b:0,a:0},"transparent")},"./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/color/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>color});var reusable=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/channels/reusable.js"),constants=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/constants.js");const Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:color=>{if(35!==color.charCodeAt(0))return;const match=color.match(Hex.re);if(!match)return;const hex=match[1],dec=parseInt(hex,16),length=hex.length,hasAlpha=length%4==0,isFullLength=length>4,multiplier=isFullLength?1:17,bits=isFullLength?8:4,bitsOffset=hasAlpha?0:-1,mask=isFullLength?255:15;return reusable.A.set({r:(dec>>bits*(bitsOffset+3)&mask)*multiplier,g:(dec>>bits*(bitsOffset+2)&mask)*multiplier,b:(dec>>bits*(bitsOffset+1)&mask)*multiplier,a:hasAlpha?(dec&mask)*multiplier/255:1},color)},stringify:channels=>{const{r,g,b,a}=channels;return a<1?`#${constants.Y[Math.round(r)]}${constants.Y[Math.round(g)]}${constants.Y[Math.round(b)]}${constants.Y[Math.round(255*a)]}`:`#${constants.Y[Math.round(r)]}${constants.Y[Math.round(g)]}${constants.Y[Math.round(b)]}`}},color_hex=Hex;var utils=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/utils/index.js");const HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:hue=>{const match=hue.match(HSL.hueRe);if(match){const[,number,unit]=match;switch(unit){case"grad":return utils.A.channel.clamp.h(.9*parseFloat(number));case"rad":return utils.A.channel.clamp.h(180*parseFloat(number)/Math.PI);case"turn":return utils.A.channel.clamp.h(360*parseFloat(number))}}return utils.A.channel.clamp.h(parseFloat(hue))},parse:color=>{const charCode=color.charCodeAt(0);if(104!==charCode&&72!==charCode)return;const match=color.match(HSL.re);if(!match)return;const[,h,s,l,a,isAlphaPercentage]=match;return reusable.A.set({h:HSL._hue2deg(h),s:utils.A.channel.clamp.s(parseFloat(s)),l:utils.A.channel.clamp.l(parseFloat(l)),a:a?utils.A.channel.clamp.a(isAlphaPercentage?parseFloat(a)/100:parseFloat(a)):1},color)},stringify:channels=>{const{h,s,l,a}=channels;return a<1?`hsla(${utils.A.lang.round(h)}, ${utils.A.lang.round(s)}%, ${utils.A.lang.round(l)}%, ${a})`:`hsl(${utils.A.lang.round(h)}, ${utils.A.lang.round(s)}%, ${utils.A.lang.round(l)}%)`}},hsl=HSL,Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:color=>{color=color.toLowerCase();const hex=Keyword.colors[color];if(hex)return color_hex.parse(hex)},stringify:channels=>{const hex=color_hex.stringify(channels);for(const name in Keyword.colors)if(Keyword.colors[name]===hex)return name}},keyword=Keyword,RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:color=>{const charCode=color.charCodeAt(0);if(114!==charCode&&82!==charCode)return;const match=color.match(RGB.re);if(!match)return;const[,r,isRedPercentage,g,isGreenPercentage,b,isBluePercentage,a,isAlphaPercentage]=match;return reusable.A.set({r:utils.A.channel.clamp.r(isRedPercentage?2.55*parseFloat(r):parseFloat(r)),g:utils.A.channel.clamp.g(isGreenPercentage?2.55*parseFloat(g):parseFloat(g)),b:utils.A.channel.clamp.b(isBluePercentage?2.55*parseFloat(b):parseFloat(b)),a:a?utils.A.channel.clamp.a(isAlphaPercentage?parseFloat(a)/100:parseFloat(a)):1},color)},stringify:channels=>{const{r,g,b,a}=channels;return a<1?`rgba(${utils.A.lang.round(r)}, ${utils.A.lang.round(g)}, ${utils.A.lang.round(b)}, ${utils.A.lang.round(a)})`:`rgb(${utils.A.lang.round(r)}, ${utils.A.lang.round(g)}, ${utils.A.lang.round(b)})`}},rgb=RGB,Color={format:{keyword:Keyword,hex:color_hex,rgb:RGB,rgba:RGB,hsl:HSL,hsla:HSL},parse:color=>{if("string"!=typeof color)return color;const channels=color_hex.parse(color)||rgb.parse(color)||hsl.parse(color)||keyword.parse(color);if(channels)return channels;throw new Error(`Unsupported color format: "${color}"`)},stringify:channels=>!channels.changed&&channels.color?channels.color:channels.type.is(constants.Z.HSL)||void 0===channels.data.r?hsl.stringify(channels):channels.a<1||!Number.isInteger(channels.r)||!Number.isInteger(channels.g)||!Number.isInteger(channels.b)?rgb.stringify(channels):color_hex.stringify(channels)},color=Color},"./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/constants.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y:()=>DEC2HEX,Z:()=>TYPE});var _utils_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/utils/index.js");const DEC2HEX={};for(let i=0;i<=255;i++)DEC2HEX[i]=_utils_index_js__WEBPACK_IMPORTED_MODULE_0__.A.unit.dec2hex(i);const TYPE={ALL:0,RGB:1,HSL:2}},"./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/adjust_channel.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _utils_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/utils/index.js"),_color_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/color/index.js");const __WEBPACK_DEFAULT_EXPORT__=(color,channel,amount)=>{const channels=_color_index_js__WEBPACK_IMPORTED_MODULE_0__.A.parse(color),amountCurrent=channels[channel],amountNext=_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.A.channel.clamp[channel](amountCurrent+amount);return amountCurrent!==amountNext&&(channels[channel]=amountNext),_color_index_js__WEBPACK_IMPORTED_MODULE_0__.A.stringify(channels)}},"./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/change.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _utils_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/utils/index.js"),_color_index_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/color/index.js");const __WEBPACK_DEFAULT_EXPORT__=(color,channels)=>{const ch=_color_index_js__WEBPACK_IMPORTED_MODULE_0__.A.parse(color);for(const c in channels)ch[c]=_utils_index_js__WEBPACK_IMPORTED_MODULE_1__.A.channel.clamp[c](channels[c]);return _color_index_js__WEBPACK_IMPORTED_MODULE_0__.A.stringify(ch)}},"./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/darken.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _adjust_channel_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/adjust_channel.js");const __WEBPACK_DEFAULT_EXPORT__=(color,amount)=>(0,_adjust_channel_js__WEBPACK_IMPORTED_MODULE_0__.A)(color,"l",-amount)},"./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/is_dark.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>is_dark});var utils=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/utils/index.js"),dist_color=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/color/index.js");const methods_luminance=color=>{const{r,g,b}=dist_color.A.parse(color),luminance=.2126*utils.A.channel.toLinear(r)+.7152*utils.A.channel.toLinear(g)+.0722*utils.A.channel.toLinear(b);return utils.A.lang.round(luminance)},is_light=color=>methods_luminance(color)>=.5,is_dark=color=>!is_light(color)},"./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/lighten.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _adjust_channel_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/adjust_channel.js");const __WEBPACK_DEFAULT_EXPORT__=(color,amount)=>(0,_adjust_channel_js__WEBPACK_IMPORTED_MODULE_0__.A)(color,"l",amount)},"./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/rgba.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _utils_index_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/utils/index.js"),_channels_reusable_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/channels/reusable.js"),_color_index_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/color/index.js"),_change_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/change.js");const __WEBPACK_DEFAULT_EXPORT__=(r,g,b=0,a=1)=>{if("number"!=typeof r)return(0,_change_js__WEBPACK_IMPORTED_MODULE_0__.A)(r,{a:g});const channels=_channels_reusable_js__WEBPACK_IMPORTED_MODULE_1__.A.set({r:_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.A.channel.clamp.r(r),g:_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.A.channel.clamp.g(g),b:_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.A.channel.clamp.b(b),a:_utils_index_js__WEBPACK_IMPORTED_MODULE_2__.A.channel.clamp.a(a)});return _color_index_js__WEBPACK_IMPORTED_MODULE_3__.A.stringify(channels)}},"./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/utils/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>utils});const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:r=>r>=255?255:r<0?0:r,g:g=>g>=255?255:g<0?0:g,b:b=>b>=255?255:b<0?0:b,h:h=>h%360,s:s=>s>=100?100:s<0?0:s,l:l=>l>=100?100:l<0?0:l,a:a=>a>=1?1:a<0?0:a},toLinear:c=>{const n=c/255;return c>.03928?Math.pow((n+.055)/1.055,2.4):n/12.92},hue2rgb:(p,q,t)=>(t<0&&(t+=1),t>1&&(t-=1),t<1/6?p+6*(q-p)*t:t<.5?q:t<2/3?p+(q-p)*(2/3-t)*6:p),hsl2rgb:({h,s,l},channel)=>{if(!s)return 2.55*l;h/=360,s/=100;const q=(l/=100)<.5?l*(1+s):l+s-l*s,p=2*l-q;switch(channel){case"r":return 255*Channel.hue2rgb(p,q,h+1/3);case"g":return 255*Channel.hue2rgb(p,q,h);case"b":return 255*Channel.hue2rgb(p,q,h-1/3)}},rgb2hsl:({r,g,b},channel)=>{r/=255,g/=255,b/=255;const max=Math.max(r,g,b),min=Math.min(r,g,b),l=(max+min)/2;if("l"===channel)return 100*l;if(max===min)return 0;const d=max-min;if("s"===channel)return 100*(l>.5?d/(2-max-min):d/(max+min));switch(max){case r:return 60*((g-b)/d+(g<b?6:0));case g:return 60*((b-r)/d+2);case b:return 60*((r-g)/d+4);default:return-1}}},utils={channel:Channel,lang:{clamp:(number,lower,upper)=>lower>upper?Math.min(lower,Math.max(upper,number)):Math.min(upper,Math.max(lower,number)),round:number=>Math.round(1e10*number)/1e10},unit:{dec2hex:dec=>{const hex=Math.round(dec).toString(16);return hex.length>1?hex:`0${hex}`}}}},"./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseFor.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>_baseFor});const _baseFor=function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}()},"./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseRest.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _identity_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/identity.js"),_overRest_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_overRest.js"),_setToString_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_setToString.js");const __WEBPACK_DEFAULT_EXPORT__=function baseRest(func,start){return(0,_setToString_js__WEBPACK_IMPORTED_MODULE_0__.A)((0,_overRest_js__WEBPACK_IMPORTED_MODULE_1__.A)(func,start,_identity_js__WEBPACK_IMPORTED_MODULE_2__.A),func+"")}},"./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createAssigner.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseRest_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseRest.js"),_isIterateeCall_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isIterateeCall.js");const __WEBPACK_DEFAULT_EXPORT__=function createAssigner(assigner){return(0,_baseRest_js__WEBPACK_IMPORTED_MODULE_0__.A)((function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&(0,_isIterateeCall_js__WEBPACK_IMPORTED_MODULE_1__.A)(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object}))}},"./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isIterateeCall.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _eq_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/eq.js"),_isArrayLike_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArrayLike.js"),_isIndex_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isIndex.js"),_isObject_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js");const __WEBPACK_DEFAULT_EXPORT__=function isIterateeCall(value,index,object){if(!(0,_isObject_js__WEBPACK_IMPORTED_MODULE_0__.A)(object))return!1;var type=typeof index;return!!("number"==type?(0,_isArrayLike_js__WEBPACK_IMPORTED_MODULE_1__.A)(object)&&(0,_isIndex_js__WEBPACK_IMPORTED_MODULE_2__.A)(index,object.length):"string"==type&&index in object)&&(0,_eq_js__WEBPACK_IMPORTED_MODULE_3__.A)(object[index],value)}},"./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_overRest.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>_overRest});const _apply=function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)};var nativeMax=Math.max;const _overRest=function overRest(func,start,transform){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),_apply(func,this,otherArgs)}}},"./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_setToString.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>_setToString});var constant=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/constant.js"),_defineProperty=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_defineProperty.js"),identity=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/identity.js");const _baseSetToString=_defineProperty.A?function(func,string){return(0,_defineProperty.A)(func,"toString",{configurable:!0,enumerable:!1,value:(0,constant.A)(string),writable:!0})}:identity.A;var nativeNow=Date.now;const _setToString=function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(void 0,arguments)}}(_baseSetToString)},"./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/constant.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function constant(value){return function(){return value}}},"./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/identity.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});const __WEBPACK_DEFAULT_EXPORT__=function identity(value){return value}},"./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArrayLikeObject.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _isArrayLike_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArrayLike.js"),_isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObjectLike.js");const __WEBPACK_DEFAULT_EXPORT__=function isArrayLikeObject(value){return(0,_isObjectLike_js__WEBPACK_IMPORTED_MODULE_0__.A)(value)&&(0,_isArrayLike_js__WEBPACK_IMPORTED_MODULE_1__.A)(value)}},"./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _baseKeys_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseKeys.js"),_getTag_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_getTag.js"),_isArguments_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArguments.js"),_isArray_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js"),_isArrayLike_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArrayLike.js"),_isBuffer_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isBuffer.js"),_isPrototype_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_isPrototype.js"),_isTypedArray_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isTypedArray.js"),hasOwnProperty=Object.prototype.hasOwnProperty;const __WEBPACK_DEFAULT_EXPORT__=function isEmpty(value){if(null==value)return!0;if((0,_isArrayLike_js__WEBPACK_IMPORTED_MODULE_0__.A)(value)&&((0,_isArray_js__WEBPACK_IMPORTED_MODULE_1__.A)(value)||"string"==typeof value||"function"==typeof value.splice||(0,_isBuffer_js__WEBPACK_IMPORTED_MODULE_2__.A)(value)||(0,_isTypedArray_js__WEBPACK_IMPORTED_MODULE_3__.A)(value)||(0,_isArguments_js__WEBPACK_IMPORTED_MODULE_4__.A)(value)))return!value.length;var tag=(0,_getTag_js__WEBPACK_IMPORTED_MODULE_5__.A)(value);if("[object Map]"==tag||"[object Set]"==tag)return!value.size;if((0,_isPrototype_js__WEBPACK_IMPORTED_MODULE_6__.A)(value))return!(0,_baseKeys_js__WEBPACK_IMPORTED_MODULE_7__.A)(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0}},"./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/merge.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>lodash_es_merge});var _Stack=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_Stack.js"),_baseAssignValue=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseAssignValue.js"),eq=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/eq.js");const _assignMergeValue=function assignMergeValue(object,key,value){(void 0!==value&&!(0,eq.A)(object[key],value)||void 0===value&&!(key in object))&&(0,_baseAssignValue.A)(object,key,value)};var _baseFor=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_baseFor.js"),_cloneBuffer=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_cloneBuffer.js"),_cloneTypedArray=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_cloneTypedArray.js"),_copyArray=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_copyArray.js"),_initCloneObject=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_initCloneObject.js"),isArguments=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArguments.js"),isArray=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArray.js"),isArrayLikeObject=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isArrayLikeObject.js"),isBuffer=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isBuffer.js"),isFunction=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isFunction.js"),isObject=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isObject.js"),isPlainObject=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isPlainObject.js"),isTypedArray=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isTypedArray.js");const _safeGet=function safeGet(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]};var _copyObject=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_copyObject.js"),keysIn=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/keysIn.js");const lodash_es_toPlainObject=function toPlainObject(value){return(0,_copyObject.A)(value,(0,keysIn.A)(value))};const _baseMergeDeep=function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=_safeGet(object,key),srcValue=_safeGet(source,key),stacked=stack.get(srcValue);if(stacked)_assignMergeValue(object,key,stacked);else{var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;if(isCommon){var isArr=(0,isArray.A)(srcValue),isBuff=!isArr&&(0,isBuffer.A)(srcValue),isTyped=!isArr&&!isBuff&&(0,isTypedArray.A)(srcValue);newValue=srcValue,isArr||isBuff||isTyped?(0,isArray.A)(objValue)?newValue=objValue:(0,isArrayLikeObject.A)(objValue)?newValue=(0,_copyArray.A)(objValue):isBuff?(isCommon=!1,newValue=(0,_cloneBuffer.A)(srcValue,!0)):isTyped?(isCommon=!1,newValue=(0,_cloneTypedArray.A)(srcValue,!0)):newValue=[]:(0,isPlainObject.A)(srcValue)||(0,isArguments.A)(srcValue)?(newValue=objValue,(0,isArguments.A)(objValue)?newValue=lodash_es_toPlainObject(objValue):(0,isObject.A)(objValue)&&!(0,isFunction.A)(objValue)||(newValue=(0,_initCloneObject.A)(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue)),_assignMergeValue(object,key,newValue)}};const _baseMerge=function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&(0,_baseFor.A)(source,(function(srcValue,key){if(stack||(stack=new _Stack.A),(0,isObject.A)(srcValue))_baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(_safeGet(object,key),srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),_assignMergeValue(object,key,newValue)}}),keysIn.A)};const lodash_es_merge=(0,__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/_createAssigner.js").A)((function(object,source,srcIndex){_baseMerge(object,source,srcIndex)}))},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-3AY6CYHV.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{IU:()=>clear,Jo:()=>insertEdge,T_:()=>positionEdgeLabel,g0:()=>markers_default,jP:()=>insertEdgeLabel});var _chunk_7GE3RBXV_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-7GE3RBXV.mjs"),_chunk_CXMOBAN2_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-CXMOBAN2.mjs"),_chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs"),_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-QYVHNE3D.mjs"),_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs"),_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs"),_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs"),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs"),d3__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/d3@7.9.0/node_modules/d3/src/index.js"),roughjs__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/roughjs@4.6.6/node_modules/roughjs/bundled/rough.esm.js"),addEdgeMarkers=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((svgPath,edge,url,id,diagramType,strokeColor)=>{edge.arrowTypeStart&&addEdgeMarker(svgPath,"start",edge.arrowTypeStart,url,id,diagramType,strokeColor),edge.arrowTypeEnd&&addEdgeMarker(svgPath,"end",edge.arrowTypeEnd,url,id,diagramType,strokeColor)}),"addEdgeMarkers"),arrowTypesMap={arrow_cross:{type:"cross",fill:!1},arrow_point:{type:"point",fill:!0},arrow_barb:{type:"barb",fill:!0},arrow_circle:{type:"circle",fill:!1},aggregation:{type:"aggregation",fill:!1},extension:{type:"extension",fill:!1},composition:{type:"composition",fill:!0},dependency:{type:"dependency",fill:!0},lollipop:{type:"lollipop",fill:!1},only_one:{type:"onlyOne",fill:!1},zero_or_one:{type:"zeroOrOne",fill:!1},one_or_more:{type:"oneOrMore",fill:!1},zero_or_more:{type:"zeroOrMore",fill:!1},requirement_arrow:{type:"requirement_arrow",fill:!1},requirement_contains:{type:"requirement_contains",fill:!1}},addEdgeMarker=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((svgPath,position,arrowType,url,id,diagramType,strokeColor)=>{const arrowTypeInfo=arrowTypesMap[arrowType];if(!arrowTypeInfo)return void _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.warn(`Unknown arrow type: ${arrowType}`);const originalMarkerId=`${id}_${diagramType}-${arrowTypeInfo.type}${"start"===position?"Start":"End"}`;if(strokeColor&&""!==strokeColor.trim()){const coloredMarkerId=`${originalMarkerId}_${strokeColor.replace(/[^\dA-Za-z]/g,"_")}`;if(!document.getElementById(coloredMarkerId)){const originalMarker=document.getElementById(originalMarkerId);if(originalMarker){const coloredMarker=originalMarker.cloneNode(!0);coloredMarker.id=coloredMarkerId;coloredMarker.querySelectorAll("path, circle, line").forEach((path=>{path.setAttribute("stroke",strokeColor),arrowTypeInfo.fill&&path.setAttribute("fill",strokeColor)})),originalMarker.parentNode?.appendChild(coloredMarker)}}svgPath.attr(`marker-${position}`,`url(${url}#${coloredMarkerId})`)}else svgPath.attr(`marker-${position}`,`url(${url}#${originalMarkerId})`)}),"addEdgeMarker"),edgeLabels=new Map,terminalLabels=new Map,clear=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)((()=>{edgeLabels.clear(),terminalLabels.clear()}),"clear"),getLabelStyles=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)((styleArray=>styleArray?styleArray.reduce(((acc,style)=>acc+";"+style),""):""),"getLabelStyles"),insertEdgeLabel=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)((async(elem,edge)=>{let useHtmlLabels=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__._3)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.D7)().flowchart.htmlLabels);const labelElement=await(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_4__.GZ)(elem,edge.label,{style:getLabelStyles(edge.labelStyle),useHtmlLabels,addSvgBackground:!0,isNode:!1});_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.info("abc82",edge,edge.labelType);const edgeLabel=elem.insert("g").attr("class","edgeLabel"),label=edgeLabel.insert("g").attr("class","label");label.node().appendChild(labelElement);let fo,bbox=labelElement.getBBox();if(useHtmlLabels){const div=labelElement.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_8__.Ltv)(labelElement);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}if(label.attr("transform","translate("+-bbox.width/2+", "+-bbox.height/2+")"),edgeLabels.set(edge.id,edgeLabel),edge.width=bbox.width,edge.height=bbox.height,edge.startLabelLeft){const startLabelElement=await(0,_chunk_CXMOBAN2_mjs__WEBPACK_IMPORTED_MODULE_1__.DA)(edge.startLabelLeft,getLabelStyles(edge.labelStyle)),startEdgeLabelLeft=elem.insert("g").attr("class","edgeTerminals"),inner=startEdgeLabelLeft.insert("g").attr("class","inner");fo=inner.node().appendChild(startLabelElement);const slBox=startLabelElement.getBBox();inner.attr("transform","translate("+-slBox.width/2+", "+-slBox.height/2+")"),terminalLabels.get(edge.id)||terminalLabels.set(edge.id,{}),terminalLabels.get(edge.id).startLeft=startEdgeLabelLeft,setTerminalWidth(fo,edge.startLabelLeft)}if(edge.startLabelRight){const startLabelElement=await(0,_chunk_CXMOBAN2_mjs__WEBPACK_IMPORTED_MODULE_1__.DA)(edge.startLabelRight,getLabelStyles(edge.labelStyle)),startEdgeLabelRight=elem.insert("g").attr("class","edgeTerminals"),inner=startEdgeLabelRight.insert("g").attr("class","inner");fo=startEdgeLabelRight.node().appendChild(startLabelElement),inner.node().appendChild(startLabelElement);const slBox=startLabelElement.getBBox();inner.attr("transform","translate("+-slBox.width/2+", "+-slBox.height/2+")"),terminalLabels.get(edge.id)||terminalLabels.set(edge.id,{}),terminalLabels.get(edge.id).startRight=startEdgeLabelRight,setTerminalWidth(fo,edge.startLabelRight)}if(edge.endLabelLeft){const endLabelElement=await(0,_chunk_CXMOBAN2_mjs__WEBPACK_IMPORTED_MODULE_1__.DA)(edge.endLabelLeft,getLabelStyles(edge.labelStyle)),endEdgeLabelLeft=elem.insert("g").attr("class","edgeTerminals"),inner=endEdgeLabelLeft.insert("g").attr("class","inner");fo=inner.node().appendChild(endLabelElement);const slBox=endLabelElement.getBBox();inner.attr("transform","translate("+-slBox.width/2+", "+-slBox.height/2+")"),endEdgeLabelLeft.node().appendChild(endLabelElement),terminalLabels.get(edge.id)||terminalLabels.set(edge.id,{}),terminalLabels.get(edge.id).endLeft=endEdgeLabelLeft,setTerminalWidth(fo,edge.endLabelLeft)}if(edge.endLabelRight){const endLabelElement=await(0,_chunk_CXMOBAN2_mjs__WEBPACK_IMPORTED_MODULE_1__.DA)(edge.endLabelRight,getLabelStyles(edge.labelStyle)),endEdgeLabelRight=elem.insert("g").attr("class","edgeTerminals"),inner=endEdgeLabelRight.insert("g").attr("class","inner");fo=inner.node().appendChild(endLabelElement);const slBox=endLabelElement.getBBox();inner.attr("transform","translate("+-slBox.width/2+", "+-slBox.height/2+")"),endEdgeLabelRight.node().appendChild(endLabelElement),terminalLabels.get(edge.id)||terminalLabels.set(edge.id,{}),terminalLabels.get(edge.id).endRight=endEdgeLabelRight,setTerminalWidth(fo,edge.endLabelRight)}return labelElement}),"insertEdgeLabel");function setTerminalWidth(fo,value){(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.D7)().flowchart.htmlLabels&&fo&&(fo.style.width=9*value.length+"px",fo.style.height="12px")}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(setTerminalWidth,"setTerminalWidth");var positionEdgeLabel=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((edge,paths)=>{_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.debug("Moving label abc88 ",edge.id,edge.label,edgeLabels.get(edge.id),paths);let path=paths.updatedPath?paths.updatedPath:paths.originalPath;const siteConfig=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.D7)(),{subGraphTitleTotalMargin}=(0,_chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_2__.O)(siteConfig);if(edge.label){const el=edgeLabels.get(edge.id);let x=edge.x,y=edge.y;if(path){const pos=_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__._K.calcLabelPosition(path);_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.debug("Moving label "+edge.label+" from (",x,",",y,") to (",pos.x,",",pos.y,") abc88"),paths.updatedPath&&(x=pos.x,y=pos.y)}el.attr("transform",`translate(${x}, ${y+subGraphTitleTotalMargin/2})`)}if(edge.startLabelLeft){const el=terminalLabels.get(edge.id).startLeft;let x=edge.x,y=edge.y;if(path){const pos=_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__._K.calcTerminalLabelPosition(edge.arrowTypeStart?10:0,"start_left",path);x=pos.x,y=pos.y}el.attr("transform",`translate(${x}, ${y})`)}if(edge.startLabelRight){const el=terminalLabels.get(edge.id).startRight;let x=edge.x,y=edge.y;if(path){const pos=_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__._K.calcTerminalLabelPosition(edge.arrowTypeStart?10:0,"start_right",path);x=pos.x,y=pos.y}el.attr("transform",`translate(${x}, ${y})`)}if(edge.endLabelLeft){const el=terminalLabels.get(edge.id).endLeft;let x=edge.x,y=edge.y;if(path){const pos=_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__._K.calcTerminalLabelPosition(edge.arrowTypeEnd?10:0,"end_left",path);x=pos.x,y=pos.y}el.attr("transform",`translate(${x}, ${y})`)}if(edge.endLabelRight){const el=terminalLabels.get(edge.id).endRight;let x=edge.x,y=edge.y;if(path){const pos=_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__._K.calcTerminalLabelPosition(edge.arrowTypeEnd?10:0,"end_right",path);x=pos.x,y=pos.y}el.attr("transform",`translate(${x}, ${y})`)}}),"positionEdgeLabel"),outsideNode=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((node,point2)=>{const x=node.x,y=node.y,dx=Math.abs(point2.x-x),dy=Math.abs(point2.y-y),w=node.width/2,h=node.height/2;return dx>=w||dy>=h}),"outsideNode"),intersection=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((node,outsidePoint,insidePoint)=>{_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.debug(`intersection calc abc89:\n  outsidePoint: ${JSON.stringify(outsidePoint)}\n  insidePoint : ${JSON.stringify(insidePoint)}\n  node        : x:${node.x} y:${node.y} w:${node.width} h:${node.height}`);const x=node.x,y=node.y,dx=Math.abs(x-insidePoint.x),w=node.width/2;let r=insidePoint.x<outsidePoint.x?w-dx:w+dx;const h=node.height/2,Q=Math.abs(outsidePoint.y-insidePoint.y),R=Math.abs(outsidePoint.x-insidePoint.x);if(Math.abs(y-outsidePoint.y)*w>Math.abs(x-outsidePoint.x)*h){let q=insidePoint.y<outsidePoint.y?outsidePoint.y-h-y:y-h-outsidePoint.y;r=R*q/Q;const res={x:insidePoint.x<outsidePoint.x?insidePoint.x+r:insidePoint.x-R+r,y:insidePoint.y<outsidePoint.y?insidePoint.y+Q-q:insidePoint.y-Q+q};return 0===r&&(res.x=outsidePoint.x,res.y=outsidePoint.y),0===R&&(res.x=outsidePoint.x),0===Q&&(res.y=outsidePoint.y),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.debug(`abc89 top/bottom calc, Q ${Q}, q ${q}, R ${R}, r ${r}`,res),res}{r=insidePoint.x<outsidePoint.x?outsidePoint.x-w-x:x-w-outsidePoint.x;let q=Q*r/R,_x=insidePoint.x<outsidePoint.x?insidePoint.x+R-r:insidePoint.x-R+r,_y=insidePoint.y<outsidePoint.y?insidePoint.y+q:insidePoint.y-q;return _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.debug(`sides calc abc89, Q ${Q}, q ${q}, R ${R}, r ${r}`,{_x,_y}),0===r&&(_x=outsidePoint.x,_y=outsidePoint.y),0===R&&(_x=outsidePoint.x),0===Q&&(_y=outsidePoint.y),{x:_x,y:_y}}}),"intersection"),cutPathAtIntersect=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((_points,boundaryNode)=>{_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.warn("abc88 cutPathAtIntersect",_points,boundaryNode);let points=[],lastPointOutside=_points[0],isInside=!1;return _points.forEach((point2=>{if(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.info("abc88 checking point",point2,boundaryNode),outsideNode(boundaryNode,point2)||isInside)_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.warn("abc88 outside",point2,lastPointOutside),lastPointOutside=point2,isInside||points.push(point2);else{const inter=intersection(boundaryNode,lastPointOutside,point2);_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.debug("abc88 inside",point2,lastPointOutside,inter),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.debug("abc88 intersection",inter,boundaryNode);let pointPresent=!1;points.forEach((p=>{pointPresent=pointPresent||p.x===inter.x&&p.y===inter.y})),points.some((e=>e.x===inter.x&&e.y===inter.y))?_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.warn("abc88 no intersect",inter,points):points.push(inter),isInside=!0}})),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.debug("returning points",points),points}),"cutPathAtIntersect");function extractCornerPoints(points){const cornerPoints=[],cornerPointPositions=[];for(let i=1;i<points.length-1;i++){const prev=points[i-1],curr=points[i],next=points[i+1];(prev.x===curr.x&&curr.y===next.y&&Math.abs(curr.x-next.x)>5&&Math.abs(curr.y-prev.y)>5||prev.y===curr.y&&curr.x===next.x&&Math.abs(curr.x-prev.x)>5&&Math.abs(curr.y-next.y)>5)&&(cornerPoints.push(curr),cornerPointPositions.push(i))}return{cornerPoints,cornerPointPositions}}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(extractCornerPoints,"extractCornerPoints");var findAdjacentPoint=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)((function(pointA,pointB,distance){const xDiff=pointB.x-pointA.x,yDiff=pointB.y-pointA.y,ratio=distance/Math.sqrt(xDiff*xDiff+yDiff*yDiff);return{x:pointB.x-ratio*xDiff,y:pointB.y-ratio*yDiff}}),"findAdjacentPoint"),fixCorners=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)((function(lineData){const{cornerPointPositions}=extractCornerPoints(lineData),newLineData=[];for(let i=0;i<lineData.length;i++)if(cornerPointPositions.includes(i)){const prevPoint=lineData[i-1],nextPoint=lineData[i+1],cornerPoint=lineData[i],newPrevPoint=findAdjacentPoint(prevPoint,cornerPoint,5),newNextPoint=findAdjacentPoint(nextPoint,cornerPoint,5),xDiff=newNextPoint.x-newPrevPoint.x,yDiff=newNextPoint.y-newPrevPoint.y;newLineData.push(newPrevPoint);const a=2*Math.sqrt(2);let newCornerPoint={x:cornerPoint.x,y:cornerPoint.y};if(Math.abs(nextPoint.x-prevPoint.x)>10&&Math.abs(nextPoint.y-prevPoint.y)>=10){_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.debug("Corner point fixing",Math.abs(nextPoint.x-prevPoint.x),Math.abs(nextPoint.y-prevPoint.y));const r=5;newCornerPoint=cornerPoint.x===newPrevPoint.x?{x:xDiff<0?newPrevPoint.x-r+a:newPrevPoint.x+r-a,y:yDiff<0?newPrevPoint.y-a:newPrevPoint.y+a}:{x:xDiff<0?newPrevPoint.x-a:newPrevPoint.x+a,y:yDiff<0?newPrevPoint.y-r+a:newPrevPoint.y+r-a}}else _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.debug("Corner point skipping fixing",Math.abs(nextPoint.x-prevPoint.x),Math.abs(nextPoint.y-prevPoint.y));newLineData.push(newCornerPoint,newNextPoint)}else newLineData.push(lineData[i]);return newLineData}),"fixCorners"),insertEdge=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)((function(elem,edge,clusterDb,diagramType,startNode,endNode,id){const{handDrawnSeed}=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.D7)();let points=edge.points,pointsHasChanged=!1;const tail=startNode;var head=endNode;const edgeClassStyles=[];for(const key in edge.cssCompiledStyles)(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_3__.KX)(key)||edgeClassStyles.push(edge.cssCompiledStyles[key]);head.intersect&&tail.intersect&&(points=points.slice(1,edge.points.length-1),points.unshift(tail.intersect(points[0])),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.debug("Last point APA12",edge.start,"--\x3e",edge.end,points[points.length-1],head,head.intersect(points[points.length-1])),points.push(head.intersect(points[points.length-1]))),edge.toCluster&&(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.info("to cluster abc88",clusterDb.get(edge.toCluster)),points=cutPathAtIntersect(edge.points,clusterDb.get(edge.toCluster).node),pointsHasChanged=!0),edge.fromCluster&&(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.debug("from cluster abc88",clusterDb.get(edge.fromCluster),JSON.stringify(points,null,2)),points=cutPathAtIntersect(points.reverse(),clusterDb.get(edge.fromCluster).node).reverse(),pointsHasChanged=!0);let lineData=points.filter((p=>!Number.isNaN(p.y)));lineData=fixCorners(lineData);let curve=d3__WEBPACK_IMPORTED_MODULE_8__.qrM;switch(curve=d3__WEBPACK_IMPORTED_MODULE_8__.lUB,edge.curve){case"linear":curve=d3__WEBPACK_IMPORTED_MODULE_8__.lUB;break;case"basis":default:curve=d3__WEBPACK_IMPORTED_MODULE_8__.qrM;break;case"cardinal":curve=d3__WEBPACK_IMPORTED_MODULE_8__.y8u;break;case"bumpX":curve=d3__WEBPACK_IMPORTED_MODULE_8__.Wi0;break;case"bumpY":curve=d3__WEBPACK_IMPORTED_MODULE_8__.PGM;break;case"catmullRom":curve=d3__WEBPACK_IMPORTED_MODULE_8__.oDi;break;case"monotoneX":curve=d3__WEBPACK_IMPORTED_MODULE_8__.nVG;break;case"monotoneY":curve=d3__WEBPACK_IMPORTED_MODULE_8__.uxU;break;case"natural":curve=d3__WEBPACK_IMPORTED_MODULE_8__.Xf2;break;case"step":curve=d3__WEBPACK_IMPORTED_MODULE_8__.GZz;break;case"stepAfter":curve=d3__WEBPACK_IMPORTED_MODULE_8__.UPb;break;case"stepBefore":curve=d3__WEBPACK_IMPORTED_MODULE_8__.dyv}const{x,y}=(0,_chunk_7GE3RBXV_mjs__WEBPACK_IMPORTED_MODULE_0__.R)(edge),lineFunction=(0,d3__WEBPACK_IMPORTED_MODULE_8__.n8j)().x(x).y(y).curve(curve);let strokeClasses,svgPath;switch(edge.thickness){case"normal":default:strokeClasses="edge-thickness-normal";break;case"thick":strokeClasses="edge-thickness-thick";break;case"invisible":strokeClasses="edge-thickness-invisible"}switch(edge.pattern){case"solid":default:strokeClasses+=" edge-pattern-solid";break;case"dotted":strokeClasses+=" edge-pattern-dotted";break;case"dashed":strokeClasses+=" edge-pattern-dashed"}let linePath=lineFunction(lineData);const edgeStyles=Array.isArray(edge.style)?edge.style:edge.style?[edge.style]:[];let strokeColor=edgeStyles.find((style=>style?.startsWith("stroke:")));if("handDrawn"===edge.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_9__.A.svg(elem);Object.assign([],lineData);const svgPathNode=rc.path(linePath,{roughness:.3,seed:handDrawnSeed});strokeClasses+=" transition",svgPath=(0,d3__WEBPACK_IMPORTED_MODULE_8__.Ltv)(svgPathNode).select("path").attr("id",edge.id).attr("class"," "+strokeClasses+(edge.classes?" "+edge.classes:"")).attr("style",edgeStyles?edgeStyles.reduce(((acc,style)=>acc+";"+style),""):"");let d=svgPath.attr("d");svgPath.attr("d",d),elem.node().appendChild(svgPath.node())}else{const stylesFromClasses=edgeClassStyles.join(";"),styles=edgeStyles?edgeStyles.reduce(((acc,style)=>acc+style+";"),""):"";let animationClass="";edge.animate&&(animationClass=" edge-animation-fast"),edge.animation&&(animationClass=" edge-animation-"+edge.animation);const pathStyle=stylesFromClasses?stylesFromClasses+";"+styles+";":styles;svgPath=elem.append("path").attr("d",linePath).attr("id",edge.id).attr("class"," "+strokeClasses+(edge.classes?" "+edge.classes:"")+(animationClass??"")).attr("style",pathStyle),strokeColor=pathStyle.match(/stroke:([^;]+)/)?.[1]}let url="";((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.D7)().flowchart.arrowMarkerAbsolute||(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.D7)().state.arrowMarkerAbsolute)&&(url=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_6__.ID)(!0)),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.info("arrowTypeStart",edge.arrowTypeStart),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.info("arrowTypeEnd",edge.arrowTypeEnd),addEdgeMarkers(svgPath,edge,url,id,diagramType,strokeColor);const point2=points[Math.floor(points.length/2)];_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_5__._K.isLabelCoordinateInPath(point2,svgPath.attr("d"))||(pointsHasChanged=!0);let paths={};return pointsHasChanged&&(paths.updatedPath=points),paths.originalPath=edge.points,paths}),"insertEdge"),insertMarkers=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,markerArray,type,id)=>{markerArray.forEach((markerName=>{markers[markerName](elem,type,id)}))}),"insertMarkers"),markers={extension:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.Rm.trace("Making markers for ",id),elem.append("defs").append("marker").attr("id",id+"_"+type+"-extensionStart").attr("class","marker extension "+type).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),elem.append("defs").append("marker").attr("id",id+"_"+type+"-extensionEnd").attr("class","marker extension "+type).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")}),"extension"),composition:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{elem.append("defs").append("marker").attr("id",id+"_"+type+"-compositionStart").attr("class","marker composition "+type).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),elem.append("defs").append("marker").attr("id",id+"_"+type+"-compositionEnd").attr("class","marker composition "+type).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")}),"composition"),aggregation:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{elem.append("defs").append("marker").attr("id",id+"_"+type+"-aggregationStart").attr("class","marker aggregation "+type).attr("refX",18).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),elem.append("defs").append("marker").attr("id",id+"_"+type+"-aggregationEnd").attr("class","marker aggregation "+type).attr("refX",1).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")}),"aggregation"),dependency:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{elem.append("defs").append("marker").attr("id",id+"_"+type+"-dependencyStart").attr("class","marker dependency "+type).attr("refX",6).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),elem.append("defs").append("marker").attr("id",id+"_"+type+"-dependencyEnd").attr("class","marker dependency "+type).attr("refX",13).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")}),"dependency"),lollipop:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{elem.append("defs").append("marker").attr("id",id+"_"+type+"-lollipopStart").attr("class","marker lollipop "+type).attr("refX",13).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6),elem.append("defs").append("marker").attr("id",id+"_"+type+"-lollipopEnd").attr("class","marker lollipop "+type).attr("refX",1).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","transparent").attr("cx",7).attr("cy",7).attr("r",6)}),"lollipop"),point:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{elem.append("marker").attr("id",id+"_"+type+"-pointEnd").attr("class","marker "+type).attr("viewBox","0 0 10 10").attr("refX",5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),elem.append("marker").attr("id",id+"_"+type+"-pointStart").attr("class","marker "+type).attr("viewBox","0 0 10 10").attr("refX",4.5).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")}),"point"),circle:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{elem.append("marker").attr("id",id+"_"+type+"-circleEnd").attr("class","marker "+type).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),elem.append("marker").attr("id",id+"_"+type+"-circleStart").attr("class","marker "+type).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")}),"circle"),cross:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{elem.append("marker").attr("id",id+"_"+type+"-crossEnd").attr("class","marker cross "+type).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),elem.append("marker").attr("id",id+"_"+type+"-crossStart").attr("class","marker cross "+type).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")}),"cross"),barb:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{elem.append("defs").append("marker").attr("id",id+"_"+type+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","userSpaceOnUse").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")}),"barb"),only_one:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{elem.append("defs").append("marker").attr("id",id+"_"+type+"-onlyOneStart").attr("class","marker onlyOne "+type).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M9,0 L9,18 M15,0 L15,18"),elem.append("defs").append("marker").attr("id",id+"_"+type+"-onlyOneEnd").attr("class","marker onlyOne "+type).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("d","M3,0 L3,18 M9,0 L9,18")}),"only_one"),zero_or_one:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{const startMarker=elem.append("defs").append("marker").attr("id",id+"_"+type+"-zeroOrOneStart").attr("class","marker zeroOrOne "+type).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");startMarker.append("circle").attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),startMarker.append("path").attr("d","M9,0 L9,18");const endMarker=elem.append("defs").append("marker").attr("id",id+"_"+type+"-zeroOrOneEnd").attr("class","marker zeroOrOne "+type).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto");endMarker.append("circle").attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),endMarker.append("path").attr("d","M21,0 L21,18")}),"zero_or_one"),one_or_more:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{elem.append("defs").append("marker").attr("id",id+"_"+type+"-oneOrMoreStart").attr("class","marker oneOrMore "+type).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),elem.append("defs").append("marker").attr("id",id+"_"+type+"-oneOrMoreEnd").attr("class","marker oneOrMore "+type).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18")}),"one_or_more"),zero_or_more:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{const startMarker=elem.append("defs").append("marker").attr("id",id+"_"+type+"-zeroOrMoreStart").attr("class","marker zeroOrMore "+type).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");startMarker.append("circle").attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),startMarker.append("path").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18");const endMarker=elem.append("defs").append("marker").attr("id",id+"_"+type+"-zeroOrMoreEnd").attr("class","marker zeroOrMore "+type).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto");endMarker.append("circle").attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),endMarker.append("path").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")}),"zero_or_more"),requirement_arrow:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{elem.append("defs").append("marker").attr("id",id+"_"+type+"-requirement_arrowEnd").attr("refX",20).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("path").attr("d","M0,0\n      L20,10\n      M20,10\n      L0,20")}),"requirement_arrow"),requirement_contains:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_7__.K2)(((elem,type,id)=>{const containsNode=elem.append("defs").append("marker").attr("id",id+"_"+type+"-requirement_containsStart").attr("refX",0).attr("refY",10).attr("markerWidth",20).attr("markerHeight",20).attr("orient","auto").append("g");containsNode.append("circle").attr("cx",10).attr("cy",10).attr("r",9).attr("fill","none"),containsNode.append("line").attr("x1",1).attr("x2",19).attr("y1",10).attr("y2",10),containsNode.append("line").attr("y1",1).attr("y2",19).attr("x1",10).attr("x2",10)}),"requirement_contains")},markers_default=insertMarkers},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-57QY23SG.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{n:()=>package_default});var package_default={name:"mermaid",version:"11.11.0",description:"Markdown-ish syntax for generating flowcharts, mindmaps, sequence diagrams, class diagrams, gantt charts, git graphs and more.",type:"module",module:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts",exports:{".":{types:"./dist/mermaid.d.ts",import:"./dist/mermaid.core.mjs",default:"./dist/mermaid.core.mjs"},"./*":"./*"},keywords:["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph","mindmap","packet diagram","c4 diagram","er diagram","pie chart","pie diagram","quadrant chart","requirement diagram","graph"],scripts:{clean:"rimraf dist",dev:"pnpm -w dev","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaid.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts","docs:verify":"pnpm docs:code && pnpm docs:spellcheck && tsx scripts/docs.cli.mts --verify","docs:pre:vitepress":"pnpm --filter ./src/docs prefetch && rimraf src/vitepress && pnpm docs:code && tsx scripts/docs.cli.mts --vitepress && pnpm --filter ./src/vitepress install --no-frozen-lockfile --ignore-scripts","docs:build:vitepress":"pnpm docs:pre:vitepress && (cd src/vitepress && pnpm run build) && cpy --flat src/docs/landing/ ./src/vitepress/.vitepress/dist/landing","docs:dev":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:dev:docker":'pnpm docs:pre:vitepress && concurrently "pnpm --filter ./src/vitepress dev:docker" "tsx scripts/docs.cli.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell "src/docs/**/*.md"',"docs:release-version":"tsx scripts/update-release-version.mts","docs:verify-version":"tsx scripts/update-release-version.mts --verify","types:build-config":"tsx scripts/create-types-from-json-schema.mts","types:verify-config":"tsx scripts/create-types-from-json-schema.mts --verify",checkCircle:"npx madge --circular ./src",prepublishOnly:"pnpm docs:verify-version"},repository:{type:"git",url:"https://github.com/mermaid-js/mermaid"},author:"Knut Sveidqvist",license:"MIT",standard:{ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies:{"@braintree/sanitize-url":"^7.0.4","@iconify/utils":"^3.0.1","@mermaid-js/parser":"workspace:^","@types/d3":"^7.4.3",cytoscape:"^3.29.3","cytoscape-cose-bilkent":"^4.1.0","cytoscape-fcose":"^2.2.0",d3:"^7.9.0","d3-sankey":"^0.12.3","dagre-d3-es":"7.0.11",dayjs:"^1.11.13",dompurify:"^3.2.5",katex:"^0.16.22",khroma:"^2.1.0","lodash-es":"^4.17.21",marked:"^15.0.7",roughjs:"^4.6.6",stylis:"^4.3.6","ts-dedent":"^2.2.0",uuid:"^11.1.0"},devDependencies:{"@adobe/jsonschema2md":"^8.0.2","@iconify/types":"^2.0.0","@types/cytoscape":"^3.21.9","@types/cytoscape-fcose":"^2.2.4","@types/d3-sankey":"^0.12.4","@types/d3-scale":"^4.0.9","@types/d3-scale-chromatic":"^3.1.0","@types/d3-selection":"^3.0.11","@types/d3-shape":"^3.1.7","@types/jsdom":"^21.1.7","@types/katex":"^0.16.7","@types/lodash-es":"^4.17.12","@types/micromatch":"^4.0.9","@types/stylis":"^4.2.7","@types/uuid":"^10.0.0",ajv:"^8.17.1",canvas:"^3.1.0",chokidar:"3.6.0",concurrently:"^9.1.2","csstree-validator":"^4.0.1",globby:"^14.0.2",jison:"^0.4.18","js-base64":"^3.7.7",jsdom:"^26.1.0","json-schema-to-typescript":"^15.0.4",micromatch:"^4.0.8","path-browserify":"^1.0.1",prettier:"^3.5.2",remark:"^15.0.1","remark-frontmatter":"^5.0.0","remark-gfm":"^4.0.1",rimraf:"^6.0.1","start-server-and-test":"^2.0.10","type-fest":"^4.35.0",typedoc:"^0.28.9","typedoc-plugin-markdown":"^4.8.0",typescript:"~5.7.3","unist-util-flatmap":"^1.0.0","unist-util-visit":"^5.0.0",vitepress:"^1.0.2","vitepress-plugin-search":"1.0.4-alpha.22"},files:["dist/","README.md"],publishConfig:{access:"public"}}},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-6OXUPJBA.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{XX:()=>render,q7:()=>getRegisteredLayoutAlgorithm,sO:()=>registerLayoutLoaders});var _chunk_3AY6CYHV_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-3AY6CYHV.mjs"),_chunk_CXMOBAN2_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-CXMOBAN2.mjs"),_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs"),_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs"),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs"),internalHelpers={common:_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.Y2,getConfig:_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_3__.zj,insertCluster:_chunk_CXMOBAN2_mjs__WEBPACK_IMPORTED_MODULE_1__.U,insertEdge:_chunk_3AY6CYHV_mjs__WEBPACK_IMPORTED_MODULE_0__.Jo,insertEdgeLabel:_chunk_3AY6CYHV_mjs__WEBPACK_IMPORTED_MODULE_0__.jP,insertMarkers:_chunk_3AY6CYHV_mjs__WEBPACK_IMPORTED_MODULE_0__.g0,insertNode:_chunk_CXMOBAN2_mjs__WEBPACK_IMPORTED_MODULE_1__.on,interpolateToCurve:_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_2__.Ib,labelHelper:_chunk_CXMOBAN2_mjs__WEBPACK_IMPORTED_MODULE_1__.Zk,log:_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.Rm,positionEdgeLabel:_chunk_3AY6CYHV_mjs__WEBPACK_IMPORTED_MODULE_0__.T_},layoutAlgorithms={},registerLayoutLoaders=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.K2)((loaders=>{for(const loader of loaders)layoutAlgorithms[loader.name]=loader}),"registerLayoutLoaders");(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.K2)((()=>{registerLayoutLoaders([{name:"dagre",loader:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.K2)((async()=>await Promise.all([__webpack_require__.e(78040),__webpack_require__.e(45523),__webpack_require__.e(34375),__webpack_require__.e(8458)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/dagre-5GWH7T2D.mjs"))),"loader")},{name:"cose-bilkent",loader:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.K2)((async()=>await Promise.all([__webpack_require__.e(64633),__webpack_require__.e(27380)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/cose-bilkent-S5V4N54A.mjs"))),"loader")}])}),"registerDefaultLayoutLoaders")();var render=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.K2)((async(data4Layout,svg)=>{if(!(data4Layout.layoutAlgorithm in layoutAlgorithms))throw new Error(`Unknown layout algorithm: ${data4Layout.layoutAlgorithm}`);const layoutDefinition=layoutAlgorithms[data4Layout.layoutAlgorithm];return(await layoutDefinition.loader()).render(data4Layout,svg,internalHelpers,{algorithm:layoutDefinition.algorithm})}),"render"),getRegisteredLayoutAlgorithm=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.K2)(((algorithm="",{fallback="dagre"}={})=>{if(algorithm in layoutAlgorithms)return algorithm;if(fallback in layoutAlgorithms)return _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_4__.Rm.warn(`Layout algorithm ${algorithm} is not registered. Using ${fallback} as fallback.`),fallback;throw new Error(`Both layout algorithms ${algorithm} and ${fallback} are not registered.`)}),"getRegisteredLayoutAlgorithm")},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-7GE3RBXV.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{R:()=>getLineFunctionsWithOffset});var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs"),markerOffsets={aggregation:18,extension:18,composition:18,dependency:6,lollipop:13.5,arrow_point:4};function calculateDeltaAndAngle(point1,point2){if(void 0===point1||void 0===point2)return{angle:0,deltaX:0,deltaY:0};point1=pointTransformer(point1),point2=pointTransformer(point2);const[x1,y1]=[point1.x,point1.y],[x2,y2]=[point2.x,point2.y],deltaX=x2-x1,deltaY=y2-y1;return{angle:Math.atan(deltaY/deltaX),deltaX,deltaY}}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(calculateDeltaAndAngle,"calculateDeltaAndAngle");var pointTransformer=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((data=>Array.isArray(data)?{x:data[0],y:data[1]}:data),"pointTransformer"),getLineFunctionsWithOffset=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((edge=>({x:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(d,i,data){let offset=0;const DIRECTION=pointTransformer(data[0]).x<pointTransformer(data[data.length-1]).x?"left":"right";if(0===i&&Object.hasOwn(markerOffsets,edge.arrowTypeStart)){const{angle,deltaX}=calculateDeltaAndAngle(data[0],data[1]);offset=markerOffsets[edge.arrowTypeStart]*Math.cos(angle)*(deltaX>=0?1:-1)}else if(i===data.length-1&&Object.hasOwn(markerOffsets,edge.arrowTypeEnd)){const{angle,deltaX}=calculateDeltaAndAngle(data[data.length-1],data[data.length-2]);offset=markerOffsets[edge.arrowTypeEnd]*Math.cos(angle)*(deltaX>=0?1:-1)}const differenceToEnd=Math.abs(pointTransformer(d).x-pointTransformer(data[data.length-1]).x),differenceInYEnd=Math.abs(pointTransformer(d).y-pointTransformer(data[data.length-1]).y),differenceToStart=Math.abs(pointTransformer(d).x-pointTransformer(data[0]).x),differenceInYStart=Math.abs(pointTransformer(d).y-pointTransformer(data[0]).y),startMarkerHeight=markerOffsets[edge.arrowTypeStart],endMarkerHeight=markerOffsets[edge.arrowTypeEnd];if(differenceToEnd<endMarkerHeight&&differenceToEnd>0&&differenceInYEnd<endMarkerHeight){let adjustment=endMarkerHeight+1-differenceToEnd;adjustment*="right"===DIRECTION?-1:1,offset-=adjustment}if(differenceToStart<startMarkerHeight&&differenceToStart>0&&differenceInYStart<startMarkerHeight){let adjustment=startMarkerHeight+1-differenceToStart;adjustment*="right"===DIRECTION?-1:1,offset+=adjustment}return pointTransformer(d).x+offset}),"x"),y:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(d,i,data){let offset=0;const DIRECTION=pointTransformer(data[0]).y<pointTransformer(data[data.length-1]).y?"down":"up";if(0===i&&Object.hasOwn(markerOffsets,edge.arrowTypeStart)){const{angle,deltaY}=calculateDeltaAndAngle(data[0],data[1]);offset=markerOffsets[edge.arrowTypeStart]*Math.abs(Math.sin(angle))*(deltaY>=0?1:-1)}else if(i===data.length-1&&Object.hasOwn(markerOffsets,edge.arrowTypeEnd)){const{angle,deltaY}=calculateDeltaAndAngle(data[data.length-1],data[data.length-2]);offset=markerOffsets[edge.arrowTypeEnd]*Math.abs(Math.sin(angle))*(deltaY>=0?1:-1)}const differenceToEnd=Math.abs(pointTransformer(d).y-pointTransformer(data[data.length-1]).y),differenceInXEnd=Math.abs(pointTransformer(d).x-pointTransformer(data[data.length-1]).x),differenceToStart=Math.abs(pointTransformer(d).y-pointTransformer(data[0]).y),differenceInXStart=Math.abs(pointTransformer(d).x-pointTransformer(data[0]).x),startMarkerHeight=markerOffsets[edge.arrowTypeStart],endMarkerHeight=markerOffsets[edge.arrowTypeEnd];if(differenceToEnd<endMarkerHeight&&differenceToEnd>0&&differenceInXEnd<endMarkerHeight){let adjustment=endMarkerHeight+1-differenceToEnd;adjustment*="up"===DIRECTION?-1:1,offset-=adjustment}if(differenceToStart<startMarkerHeight&&differenceToStart>0&&differenceInXStart<startMarkerHeight){let adjustment=startMarkerHeight+1-differenceToStart;adjustment*="up"===DIRECTION?-1:1,offset+=adjustment}return pointTransformer(d).y+offset}),"y")})),"getLineFunctionsWithOffset")},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{C0:()=>UnknownDiagramError,xA:()=>addDirective,hH:()=>assignWithDepth_default,Dl:()=>calculateMathMLDimensions,IU:()=>clear,Wt:()=>commonDb_exports,Y2:()=>common_default,a$:()=>configureSvgSize,sb:()=>defaultConfig,ME:()=>defaultConfig2,UI:()=>defaultConfig_default,Ch:()=>detectType,mW:()=>detectors,DB:()=>directiveRegex,_3:()=>evaluate,EJ:()=>frontMatterRegex,m7:()=>getAccDescription,iN:()=>getAccTitle,zj:()=>getConfig,D7:()=>getConfig2,Gs:()=>getDiagram,J$:()=>getDiagramLoader,ab:()=>getDiagramTitle,Q2:()=>getSiteConfig,P$:()=>getThemeVariables3,ID:()=>getUrl,TM:()=>getUserDefinedConfig,Wi:()=>hasKatex,H1:()=>lineBreakRegex,QO:()=>parseGenericTypes,Js:()=>registerDiagram,Xd:()=>registerLazyLoadedDiagrams,dj:()=>renderKatexSanitized,cL:()=>chunk_ABZYJK2D_reset,$i:()=>sanitizeDirective,jZ:()=>sanitizeText,oB:()=>sanitizeText3,wZ:()=>saveConfigFromInitialize,EI:()=>setAccDescription,SV:()=>setAccTitle,Nk:()=>setConfig,XV:()=>setConfig2,ke:()=>setDiagramTitle,UU:()=>setSiteConfig,ot:()=>setupGraphViewbox,mj:()=>setupGraphViewbox2,tM:()=>styles_default,H$:()=>themes_default,B6:()=>updateSiteConfig});var chunk_AGHRB4JF=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs"),dist_color=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/color/index.js"),change=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/change.js");const methods_adjust=(color,channels)=>{const ch=dist_color.A.parse(color),changes={};for(const c in channels)channels[c]&&(changes[c]=ch[c]+channels[c]);return(0,change.A)(color,changes)};var rgba=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/rgba.js");const methods_mix=(color1,color2,weight=50)=>{const{r:r1,g:g1,b:b1,a:a1}=dist_color.A.parse(color1),{r:r2,g:g2,b:b2,a:a2}=dist_color.A.parse(color2),weightScale=weight/100,weightNormalized=2*weightScale-1,alphaDelta=a1-a2,weight1=((weightNormalized*alphaDelta==-1?weightNormalized:(weightNormalized+alphaDelta)/(1+weightNormalized*alphaDelta))+1)/2,weight2=1-weight1,r=r1*weight1+r2*weight2,g=g1*weight1+g2*weight2,b=b1*weight1+b2*weight2,a=a1*weightScale+a2*(1-weightScale);return(0,rgba.A)(r,g,b,a)},methods_invert=(color,weight=100)=>{const inverse=dist_color.A.parse(color);return inverse.r=255-inverse.r,inverse.g=255-inverse.g,inverse.b=255-inverse.b,methods_mix(inverse,color,weight)};var configFromInitialize,darken=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/darken.js"),lighten=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/lighten.js"),is_dark=__webpack_require__("./node_modules/.pnpm/khroma@2.1.0/node_modules/khroma/dist/methods/is_dark.js"),purify_es=__webpack_require__("./node_modules/.pnpm/dompurify@3.2.6/node_modules/dompurify/dist/purify.es.mjs"),frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s,directiveRegex=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyCommentRegex=/\s*%%.*\n/gm,UnknownDiagramError=class extends Error{static{(0,chunk_AGHRB4JF.K2)(this,"UnknownDiagramError")}constructor(message){super(message),this.name="UnknownDiagramError"}},detectors={},detectType=(0,chunk_AGHRB4JF.K2)((function(text,config2){text=text.replace(frontMatterRegex,"").replace(directiveRegex,"").replace(anyCommentRegex,"\n");for(const[key,{detector}]of Object.entries(detectors)){if(detector(text,config2))return key}throw new UnknownDiagramError(`No diagram type detected matching given configuration for text: ${text}`)}),"detectType"),registerLazyLoadedDiagrams=(0,chunk_AGHRB4JF.K2)(((...diagrams2)=>{for(const{id,detector,loader}of diagrams2)addDetector(id,detector,loader)}),"registerLazyLoadedDiagrams"),addDetector=(0,chunk_AGHRB4JF.K2)(((key,detector,loader)=>{detectors[key]&&chunk_AGHRB4JF.Rm.warn(`Detector with key ${key} already exists. Overwriting.`),detectors[key]={detector,loader},chunk_AGHRB4JF.Rm.debug(`Detector with key ${key} added${loader?" with loader":""}`)}),"addDetector"),getDiagramLoader=(0,chunk_AGHRB4JF.K2)((key=>detectors[key].loader),"getDiagramLoader"),assignWithDepth=(0,chunk_AGHRB4JF.K2)(((dst,src,{depth=2,clobber=!1}={})=>{const config2={depth,clobber};return Array.isArray(src)&&!Array.isArray(dst)?(src.forEach((s=>assignWithDepth(dst,s,config2))),dst):Array.isArray(src)&&Array.isArray(dst)?(src.forEach((s=>{dst.includes(s)||dst.push(s)})),dst):void 0===dst||depth<=0?null!=dst&&"object"==typeof dst&&"object"==typeof src?Object.assign(dst,src):src:(void 0!==src&&"object"==typeof dst&&"object"==typeof src&&Object.keys(src).forEach((key=>{"object"!=typeof src[key]||void 0!==dst[key]&&"object"!=typeof dst[key]?(clobber||"object"!=typeof dst[key]&&"object"!=typeof src[key])&&(dst[key]=src[key]):(void 0===dst[key]&&(dst[key]=Array.isArray(src[key])?[]:{}),dst[key]=assignWithDepth(dst[key],src[key],{depth:depth-1,clobber}))})),dst)}),"assignWithDepth"),assignWithDepth_default=assignWithDepth,mkBorder=(0,chunk_AGHRB4JF.K2)(((col,darkMode)=>methods_adjust(col,darkMode?{s:-40,l:10}:{s:-40,l:-10})),"mkBorder"),Theme=class{static{(0,chunk_AGHRB4JF.K2)(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||methods_adjust(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||methods_adjust(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||methods_invert(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||methods_invert(this.tertiaryColor),this.lineColor=this.lineColor||methods_invert(this.background),this.arrowheadColor=this.arrowheadColor||methods_invert(this.background),this.textColor=this.textColor||this.primaryTextColor,this.border2=this.border2||this.tertiaryBorderColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?(0,darken.A)(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||this.actorBorder,this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||(0,darken.A)(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||methods_invert(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||(0,lighten.A)(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.vertLineColor=this.vertLineColor||"navy",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.darkMode?(this.rowOdd=this.rowOdd||(0,darken.A)(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||(0,darken.A)(this.mainBkg,10)):(this.rowOdd=this.rowOdd||(0,lighten.A)(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||(0,lighten.A)(this.mainBkg,5)),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||methods_adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||methods_adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||methods_adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||methods_adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||methods_adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||methods_adjust(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||methods_adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||methods_adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||methods_adjust(this.primaryColor,{h:330}),this.darkMode)for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScale"+i]=(0,darken.A)(this["cScale"+i],75);else for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScale"+i]=(0,darken.A)(this["cScale"+i],25);for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScaleInv"+i]=this["cScaleInv"+i]||methods_invert(this["cScale"+i]);for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this.darkMode?this["cScalePeer"+i]=this["cScalePeer"+i]||(0,lighten.A)(this["cScale"+i],10):this["cScalePeer"+i]=this["cScalePeer"+i]||(0,darken.A)(this["cScale"+i],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScaleLabel"+i]=this["cScaleLabel"+i]||this.scaleLabelColor;const multiplier=this.darkMode?-4:-1;for(let i=0;i<5;i++)this["surface"+i]=this["surface"+i]||methods_adjust(this.mainBkg,{h:180,s:-15,l:multiplier*(5+3*i)}),this["surfacePeer"+i]=this["surfacePeer"+i]||methods_adjust(this.mainBkg,{h:180,s:-15,l:multiplier*(8+3*i)});this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||methods_adjust(this.primaryColor,{h:64}),this.fillType3=this.fillType3||methods_adjust(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||methods_adjust(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||methods_adjust(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||methods_adjust(this.primaryColor,{h:128}),this.fillType7=this.fillType7||methods_adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||methods_adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||methods_adjust(this.secondaryColor,{l:-10}),this.pie6=this.pie6||methods_adjust(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||methods_adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||methods_adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||methods_adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||methods_adjust(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||methods_adjust(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||methods_adjust(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.archEdgeColor=this.archEdgeColor||"#777",this.archEdgeArrowColor=this.archEdgeArrowColor||"#777",this.archEdgeWidth=this.archEdgeWidth||"3",this.archGroupBorderColor=this.archGroupBorderColor||"#000",this.archGroupBorderWidth=this.archGroupBorderWidth||"2px",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||methods_adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||methods_adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||methods_adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||methods_adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||methods_adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||methods_adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,is_dark.A)(this.quadrant1Fill)?(0,lighten.A)(this.quadrant1Fill):(0,darken.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#FFF4DD,#FFD8B1,#FFA07A,#ECEFF1,#D6DBDF,#C3E0A8,#FFB6A4,#FFD74D,#738FA7,#FFFFF0"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,darken.A)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||methods_adjust(this.primaryColor,{h:-30}),this.git4=this.git4||methods_adjust(this.primaryColor,{h:-60}),this.git5=this.git5||methods_adjust(this.primaryColor,{h:-90}),this.git6=this.git6||methods_adjust(this.primaryColor,{h:60}),this.git7=this.git7||methods_adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,lighten.A)(this.git0,25),this.git1=(0,lighten.A)(this.git1,25),this.git2=(0,lighten.A)(this.git2,25),this.git3=(0,lighten.A)(this.git3,25),this.git4=(0,lighten.A)(this.git4,25),this.git5=(0,lighten.A)(this.git5,25),this.git6=(0,lighten.A)(this.git6,25),this.git7=(0,lighten.A)(this.git7,25)):(this.git0=(0,darken.A)(this.git0,25),this.git1=(0,darken.A)(this.git1,25),this.git2=(0,darken.A)(this.git2,25),this.git3=(0,darken.A)(this.git3,25),this.git4=(0,darken.A)(this.git4,25),this.git5=(0,darken.A)(this.git5,25),this.git6=(0,darken.A)(this.git6,25),this.git7=(0,darken.A)(this.git7,25)),this.gitInv0=this.gitInv0||methods_invert(this.git0),this.gitInv1=this.gitInv1||methods_invert(this.git1),this.gitInv2=this.gitInv2||methods_invert(this.git2),this.gitInv3=this.gitInv3||methods_invert(this.git3),this.gitInv4=this.gitInv4||methods_invert(this.git4),this.gitInv5=this.gitInv5||methods_invert(this.git5),this.gitInv6=this.gitInv6||methods_invert(this.git6),this.gitInv7=this.gitInv7||methods_invert(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||"#ffffff",this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||"#f2f2f2"}calculate(overrides){if("object"!=typeof overrides)return void this.updateColors();const keys=Object.keys(overrides);keys.forEach((k=>{this[k]=overrides[k]})),this.updateColors(),keys.forEach((k=>{this[k]=overrides[k]}))}},getThemeVariables=(0,chunk_AGHRB4JF.K2)((userOverrides=>{const theme=new Theme;return theme.calculate(userOverrides),theme}),"getThemeVariables"),Theme2=class{static{(0,chunk_AGHRB4JF.K2)(this,"Theme")}constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=(0,lighten.A)(this.primaryColor,16),this.tertiaryColor=methods_adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=methods_invert(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=methods_invert(this.primaryColor),this.secondaryTextColor=methods_invert(this.secondaryColor),this.tertiaryTextColor=methods_invert(this.tertiaryColor),this.lineColor=methods_invert(this.background),this.textColor=methods_invert(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=(0,lighten.A)(methods_invert("#323D47"),10),this.lineColor="calculated",this.border1="#ccc",this.border2=(0,rgba.A)(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=(0,darken.A)("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.excludeBkgColor=(0,darken.A)(this.sectionBkgColor,10),this.taskBorderColor=(0,rgba.A)(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=(0,rgba.A)(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||(0,lighten.A)(this.mainBkg,5)||"#ffffff",this.rowEven=this.rowEven||(0,darken.A)(this.mainBkg,10),this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=(0,lighten.A)(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=(0,lighten.A)(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.actorBorder,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=(0,lighten.A)(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=methods_adjust(this.primaryColor,{h:64}),this.fillType3=methods_adjust(this.secondaryColor,{h:64}),this.fillType4=methods_adjust(this.primaryColor,{h:-64}),this.fillType5=methods_adjust(this.secondaryColor,{h:-64}),this.fillType6=methods_adjust(this.primaryColor,{h:128}),this.fillType7=methods_adjust(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||methods_adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||methods_adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||methods_adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||methods_adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||methods_adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||methods_adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||methods_adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||methods_adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||methods_adjust(this.primaryColor,{h:330});for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScaleInv"+i]=this["cScaleInv"+i]||methods_invert(this["cScale"+i]);for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScalePeer"+i]=this["cScalePeer"+i]||(0,lighten.A)(this["cScale"+i],10);for(let i=0;i<5;i++)this["surface"+i]=this["surface"+i]||methods_adjust(this.mainBkg,{h:30,s:-30,l:-(4*i-10)}),this["surfacePeer"+i]=this["surfacePeer"+i]||methods_adjust(this.mainBkg,{h:30,s:-30,l:-(4*i-7)});this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScaleLabel"+i]=this["cScaleLabel"+i]||this.scaleLabelColor;for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["pie"+i]=this["cScale"+i];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||methods_adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||methods_adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||methods_adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||methods_adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||methods_adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||methods_adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,is_dark.A)(this.quadrant1Fill)?(0,lighten.A)(this.quadrant1Fill):(0,darken.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#3498db,#2ecc71,#e74c3c,#f1c40f,#bdc3c7,#ffffff,#34495e,#9b59b6,#1abc9c,#e67e22"},this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.background},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?(0,darken.A)(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,lighten.A)(this.secondaryColor,20),this.git1=(0,lighten.A)(this.pie2||this.secondaryColor,20),this.git2=(0,lighten.A)(this.pie3||this.tertiaryColor,20),this.git3=(0,lighten.A)(this.pie4||methods_adjust(this.primaryColor,{h:-30}),20),this.git4=(0,lighten.A)(this.pie5||methods_adjust(this.primaryColor,{h:-60}),20),this.git5=(0,lighten.A)(this.pie6||methods_adjust(this.primaryColor,{h:-90}),10),this.git6=(0,lighten.A)(this.pie7||methods_adjust(this.primaryColor,{h:60}),10),this.git7=(0,lighten.A)(this.pie8||methods_adjust(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||methods_invert(this.git0),this.gitInv1=this.gitInv1||methods_invert(this.git1),this.gitInv2=this.gitInv2||methods_invert(this.git2),this.gitInv3=this.gitInv3||methods_invert(this.git3),this.gitInv4=this.gitInv4||methods_invert(this.git4),this.gitInv5=this.gitInv5||methods_invert(this.git5),this.gitInv6=this.gitInv6||methods_invert(this.git6),this.gitInv7=this.gitInv7||methods_invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||methods_invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||methods_invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||(0,lighten.A)(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||(0,lighten.A)(this.background,2),this.nodeBorder=this.nodeBorder||"#999"}calculate(overrides){if("object"!=typeof overrides)return void this.updateColors();const keys=Object.keys(overrides);keys.forEach((k=>{this[k]=overrides[k]})),this.updateColors(),keys.forEach((k=>{this[k]=overrides[k]}))}},getThemeVariables2=(0,chunk_AGHRB4JF.K2)((userOverrides=>{const theme=new Theme2;return theme.calculate(userOverrides),theme}),"getThemeVariables"),Theme3=class{static{(0,chunk_AGHRB4JF.K2)(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=methods_adjust(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=methods_adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=methods_invert(this.primaryColor),this.secondaryTextColor=methods_invert(this.secondaryColor),this.tertiaryTextColor=methods_invert(this.tertiaryColor),this.lineColor=methods_invert(this.background),this.textColor=methods_invert(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="rgba(232,232,232, 0.8)",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.sectionBkgColor=(0,rgba.A)(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="navy",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd="calculated",this.rowEven="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||methods_adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||methods_adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||methods_adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||methods_adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||methods_adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||methods_adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||methods_adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||methods_adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||methods_adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||(0,darken.A)(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||(0,darken.A)(this.tertiaryColor,40);for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScale"+i]=(0,darken.A)(this["cScale"+i],10),this["cScalePeer"+i]=this["cScalePeer"+i]||(0,darken.A)(this["cScale"+i],25);for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScaleInv"+i]=this["cScaleInv"+i]||methods_adjust(this["cScale"+i],{h:180});for(let i=0;i<5;i++)this["surface"+i]=this["surface"+i]||methods_adjust(this.mainBkg,{h:30,l:-(5+5*i)}),this["surfacePeer"+i]=this["surfacePeer"+i]||methods_adjust(this.mainBkg,{h:30,l:-(7+5*i)});if(this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,"calculated"!==this.labelTextColor){this.cScaleLabel0=this.cScaleLabel0||methods_invert(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||methods_invert(this.labelTextColor);for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScaleLabel"+i]=this["cScaleLabel"+i]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=(0,lighten.A)(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||(0,lighten.A)(this.primaryColor,75)||"#ffffff",this.rowEven=this.rowEven||(0,lighten.A)(this.primaryColor,1),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=methods_adjust(this.primaryColor,{h:64}),this.fillType3=methods_adjust(this.secondaryColor,{h:64}),this.fillType4=methods_adjust(this.primaryColor,{h:-64}),this.fillType5=methods_adjust(this.secondaryColor,{h:-64}),this.fillType6=methods_adjust(this.primaryColor,{h:128}),this.fillType7=methods_adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||methods_adjust(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||methods_adjust(this.primaryColor,{l:-10}),this.pie5=this.pie5||methods_adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||methods_adjust(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||methods_adjust(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||methods_adjust(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||methods_adjust(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||methods_adjust(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||methods_adjust(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||methods_adjust(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||methods_adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||methods_adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||methods_adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||methods_adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||methods_adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||methods_adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,is_dark.A)(this.quadrant1Fill)?(0,lighten.A)(this.quadrant1Fill):(0,darken.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#ECECFF,#8493A6,#FFC3A0,#DCDDE1,#B8E994,#D1A36F,#C3CDE6,#FFB6C1,#496078,#F8F3E3"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||methods_adjust(this.primaryColor,{h:-30}),this.git4=this.git4||methods_adjust(this.primaryColor,{h:-60}),this.git5=this.git5||methods_adjust(this.primaryColor,{h:-90}),this.git6=this.git6||methods_adjust(this.primaryColor,{h:60}),this.git7=this.git7||methods_adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,lighten.A)(this.git0,25),this.git1=(0,lighten.A)(this.git1,25),this.git2=(0,lighten.A)(this.git2,25),this.git3=(0,lighten.A)(this.git3,25),this.git4=(0,lighten.A)(this.git4,25),this.git5=(0,lighten.A)(this.git5,25),this.git6=(0,lighten.A)(this.git6,25),this.git7=(0,lighten.A)(this.git7,25)):(this.git0=(0,darken.A)(this.git0,25),this.git1=(0,darken.A)(this.git1,25),this.git2=(0,darken.A)(this.git2,25),this.git3=(0,darken.A)(this.git3,25),this.git4=(0,darken.A)(this.git4,25),this.git5=(0,darken.A)(this.git5,25),this.git6=(0,darken.A)(this.git6,25),this.git7=(0,darken.A)(this.git7,25)),this.gitInv0=this.gitInv0||(0,darken.A)(methods_invert(this.git0),25),this.gitInv1=this.gitInv1||methods_invert(this.git1),this.gitInv2=this.gitInv2||methods_invert(this.git2),this.gitInv3=this.gitInv3||methods_invert(this.git3),this.gitInv4=this.gitInv4||methods_invert(this.git4),this.gitInv5=this.gitInv5||methods_invert(this.git5),this.gitInv6=this.gitInv6||methods_invert(this.git6),this.gitInv7=this.gitInv7||methods_invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||methods_invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||methods_invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||"#ffffff",this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||"#f2f2f2"}calculate(overrides){if(Object.keys(this).forEach((k=>{"calculated"===this[k]&&(this[k]=void 0)})),"object"!=typeof overrides)return void this.updateColors();const keys=Object.keys(overrides);keys.forEach((k=>{this[k]=overrides[k]})),this.updateColors(),keys.forEach((k=>{this[k]=overrides[k]}))}},getThemeVariables3=(0,chunk_AGHRB4JF.K2)((userOverrides=>{const theme=new Theme3;return theme.calculate(userOverrides),theme}),"getThemeVariables"),Theme4=class{static{(0,chunk_AGHRB4JF.K2)(this,"Theme")}constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=(0,lighten.A)("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=methods_invert(this.primaryColor),this.secondaryTextColor=methods_invert(this.secondaryColor),this.tertiaryTextColor=methods_invert(this.primaryColor),this.lineColor=methods_invert(this.background),this.textColor=methods_invert(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="calculated",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.vertLineColor="#00BFFF",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.actorBorder=(0,darken.A)(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.actorLineColor=this.actorBorder,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||methods_adjust(this.primaryColor,{h:30}),this.cScale4=this.cScale4||methods_adjust(this.primaryColor,{h:60}),this.cScale5=this.cScale5||methods_adjust(this.primaryColor,{h:90}),this.cScale6=this.cScale6||methods_adjust(this.primaryColor,{h:120}),this.cScale7=this.cScale7||methods_adjust(this.primaryColor,{h:150}),this.cScale8=this.cScale8||methods_adjust(this.primaryColor,{h:210}),this.cScale9=this.cScale9||methods_adjust(this.primaryColor,{h:270}),this.cScale10=this.cScale10||methods_adjust(this.primaryColor,{h:300}),this.cScale11=this.cScale11||methods_adjust(this.primaryColor,{h:330}),this.cScalePeer1=this.cScalePeer1||(0,darken.A)(this.secondaryColor,45),this.cScalePeer2=this.cScalePeer2||(0,darken.A)(this.tertiaryColor,40);for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScale"+i]=(0,darken.A)(this["cScale"+i],10),this["cScalePeer"+i]=this["cScalePeer"+i]||(0,darken.A)(this["cScale"+i],25);for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScaleInv"+i]=this["cScaleInv"+i]||methods_adjust(this["cScale"+i],{h:180});this.scaleLabelColor="calculated"!==this.scaleLabelColor&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScaleLabel"+i]=this["cScaleLabel"+i]||this.scaleLabelColor;for(let i=0;i<5;i++)this["surface"+i]=this["surface"+i]||methods_adjust(this.mainBkg,{h:30,s:-30,l:-(5+5*i)}),this["surfacePeer"+i]=this["surfacePeer"+i]||methods_adjust(this.mainBkg,{h:30,s:-30,l:-(8+5*i)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.rowOdd=this.rowOdd||(0,lighten.A)(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||(0,lighten.A)(this.mainBkg,20),this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=methods_adjust(this.primaryColor,{h:64}),this.fillType3=methods_adjust(this.secondaryColor,{h:64}),this.fillType4=methods_adjust(this.primaryColor,{h:-64}),this.fillType5=methods_adjust(this.secondaryColor,{h:-64}),this.fillType6=methods_adjust(this.primaryColor,{h:128}),this.fillType7=methods_adjust(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||methods_adjust(this.primaryColor,{l:-30}),this.pie5=this.pie5||methods_adjust(this.secondaryColor,{l:-30}),this.pie6=this.pie6||methods_adjust(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||methods_adjust(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||methods_adjust(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||methods_adjust(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||methods_adjust(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||methods_adjust(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||methods_adjust(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||methods_adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||methods_adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||methods_adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||methods_adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||methods_adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||methods_adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,is_dark.A)(this.quadrant1Fill)?(0,lighten.A)(this.quadrant1Fill):(0,darken.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.packet={startByteColor:this.primaryTextColor,endByteColor:this.primaryTextColor,labelColor:this.primaryTextColor,titleColor:this.primaryTextColor,blockStrokeColor:this.primaryTextColor,blockFillColor:this.mainBkg},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#CDE498,#FF6B6B,#A0D2DB,#D7BDE2,#F0F0F0,#FFC3A0,#7FD8BE,#FF9A8B,#FAF3E0,#FFF176"},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||methods_adjust(this.primaryColor,{h:-30}),this.git4=this.git4||methods_adjust(this.primaryColor,{h:-60}),this.git5=this.git5||methods_adjust(this.primaryColor,{h:-90}),this.git6=this.git6||methods_adjust(this.primaryColor,{h:60}),this.git7=this.git7||methods_adjust(this.primaryColor,{h:120}),this.darkMode?(this.git0=(0,lighten.A)(this.git0,25),this.git1=(0,lighten.A)(this.git1,25),this.git2=(0,lighten.A)(this.git2,25),this.git3=(0,lighten.A)(this.git3,25),this.git4=(0,lighten.A)(this.git4,25),this.git5=(0,lighten.A)(this.git5,25),this.git6=(0,lighten.A)(this.git6,25),this.git7=(0,lighten.A)(this.git7,25)):(this.git0=(0,darken.A)(this.git0,25),this.git1=(0,darken.A)(this.git1,25),this.git2=(0,darken.A)(this.git2,25),this.git3=(0,darken.A)(this.git3,25),this.git4=(0,darken.A)(this.git4,25),this.git5=(0,darken.A)(this.git5,25),this.git6=(0,darken.A)(this.git6,25),this.git7=(0,darken.A)(this.git7,25)),this.gitInv0=this.gitInv0||methods_invert(this.git0),this.gitInv1=this.gitInv1||methods_invert(this.git1),this.gitInv2=this.gitInv2||methods_invert(this.git2),this.gitInv3=this.gitInv3||methods_invert(this.git3),this.gitInv4=this.gitInv4||methods_invert(this.git4),this.gitInv5=this.gitInv5||methods_invert(this.git5),this.gitInv6=this.gitInv6||methods_invert(this.git6),this.gitInv7=this.gitInv7||methods_invert(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||methods_invert(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||methods_invert(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||"#ffffff",this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||"#f2f2f2"}calculate(overrides){if("object"!=typeof overrides)return void this.updateColors();const keys=Object.keys(overrides);keys.forEach((k=>{this[k]=overrides[k]})),this.updateColors(),keys.forEach((k=>{this[k]=overrides[k]}))}},getThemeVariables4=(0,chunk_AGHRB4JF.K2)((userOverrides=>{const theme=new Theme4;return theme.calculate(userOverrides),theme}),"getThemeVariables"),Theme5=class{static{(0,chunk_AGHRB4JF.K2)(this,"Theme")}constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=(0,lighten.A)(this.contrast,55),this.background="#ffffff",this.tertiaryColor=methods_adjust(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=methods_invert(this.primaryColor),this.secondaryTextColor=methods_invert(this.secondaryColor),this.tertiaryTextColor=methods_invert(this.tertiaryColor),this.lineColor=methods_invert(this.background),this.textColor=methods_invert(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor=this.actorBorder,this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.vertLineColor="calculated",this.personBorder=this.primaryBorderColor,this.personBkg=this.mainBkg,this.archEdgeColor="calculated",this.archEdgeArrowColor="calculated",this.archEdgeWidth="3",this.archGroupBorderColor=this.primaryBorderColor,this.archGroupBorderWidth="2px",this.rowOdd=this.rowOdd||(0,lighten.A)(this.mainBkg,75)||"#ffffff",this.rowEven=this.rowEven||"#f4f4f4",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=(0,lighten.A)(this.contrast,55),this.border2=this.contrast,this.actorBorder=(0,lighten.A)(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.actorBorder,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScaleInv"+i]=this["cScaleInv"+i]||methods_invert(this["cScale"+i]);for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this.darkMode?this["cScalePeer"+i]=this["cScalePeer"+i]||(0,lighten.A)(this["cScale"+i],10):this["cScalePeer"+i]=this["cScalePeer"+i]||(0,darken.A)(this["cScale"+i],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["cScaleLabel"+i]=this["cScaleLabel"+i]||this.scaleLabelColor;for(let i=0;i<5;i++)this["surface"+i]=this["surface"+i]||methods_adjust(this.mainBkg,{l:-(5+5*i)}),this["surfacePeer"+i]=this["surfacePeer"+i]||methods_adjust(this.mainBkg,{l:-(8+5*i)});this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.sectionBkgColor=(0,lighten.A)(this.contrast,30),this.sectionBkgColor2=(0,lighten.A)(this.contrast,30),this.taskBorderColor=(0,darken.A)(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=(0,lighten.A)(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=(0,darken.A)(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.vertLineColor=this.critBkgColor,this.archEdgeColor=this.lineColor,this.archEdgeArrowColor=this.lineColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=methods_adjust(this.primaryColor,{h:64}),this.fillType3=methods_adjust(this.secondaryColor,{h:64}),this.fillType4=methods_adjust(this.primaryColor,{h:-64}),this.fillType5=methods_adjust(this.secondaryColor,{h:-64}),this.fillType6=methods_adjust(this.primaryColor,{h:128}),this.fillType7=methods_adjust(this.secondaryColor,{h:128});for(let i=0;i<this.THEME_COLOR_LIMIT;i++)this["pie"+i]=this["cScale"+i];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOuterStrokeWidth=this.pieOuterStrokeWidth||"2px",this.pieOuterStrokeColor=this.pieOuterStrokeColor||"black",this.pieOpacity=this.pieOpacity||"0.7",this.quadrant1Fill=this.quadrant1Fill||this.primaryColor,this.quadrant2Fill=this.quadrant2Fill||methods_adjust(this.primaryColor,{r:5,g:5,b:5}),this.quadrant3Fill=this.quadrant3Fill||methods_adjust(this.primaryColor,{r:10,g:10,b:10}),this.quadrant4Fill=this.quadrant4Fill||methods_adjust(this.primaryColor,{r:15,g:15,b:15}),this.quadrant1TextFill=this.quadrant1TextFill||this.primaryTextColor,this.quadrant2TextFill=this.quadrant2TextFill||methods_adjust(this.primaryTextColor,{r:-5,g:-5,b:-5}),this.quadrant3TextFill=this.quadrant3TextFill||methods_adjust(this.primaryTextColor,{r:-10,g:-10,b:-10}),this.quadrant4TextFill=this.quadrant4TextFill||methods_adjust(this.primaryTextColor,{r:-15,g:-15,b:-15}),this.quadrantPointFill=this.quadrantPointFill||(0,is_dark.A)(this.quadrant1Fill)?(0,lighten.A)(this.quadrant1Fill):(0,darken.A)(this.quadrant1Fill),this.quadrantPointTextFill=this.quadrantPointTextFill||this.primaryTextColor,this.quadrantXAxisTextFill=this.quadrantXAxisTextFill||this.primaryTextColor,this.quadrantYAxisTextFill=this.quadrantYAxisTextFill||this.primaryTextColor,this.quadrantInternalBorderStrokeFill=this.quadrantInternalBorderStrokeFill||this.primaryBorderColor,this.quadrantExternalBorderStrokeFill=this.quadrantExternalBorderStrokeFill||this.primaryBorderColor,this.quadrantTitleFill=this.quadrantTitleFill||this.primaryTextColor,this.xyChart={backgroundColor:this.xyChart?.backgroundColor||this.background,titleColor:this.xyChart?.titleColor||this.primaryTextColor,xAxisTitleColor:this.xyChart?.xAxisTitleColor||this.primaryTextColor,xAxisLabelColor:this.xyChart?.xAxisLabelColor||this.primaryTextColor,xAxisTickColor:this.xyChart?.xAxisTickColor||this.primaryTextColor,xAxisLineColor:this.xyChart?.xAxisLineColor||this.primaryTextColor,yAxisTitleColor:this.xyChart?.yAxisTitleColor||this.primaryTextColor,yAxisLabelColor:this.xyChart?.yAxisLabelColor||this.primaryTextColor,yAxisTickColor:this.xyChart?.yAxisTickColor||this.primaryTextColor,yAxisLineColor:this.xyChart?.yAxisLineColor||this.primaryTextColor,plotColorPalette:this.xyChart?.plotColorPalette||"#EEE,#6BB8E4,#8ACB88,#C7ACD6,#E8DCC2,#FFB2A8,#FFF380,#7E8D91,#FFD8B1,#FAF3E0"},this.radar={axisColor:this.radar?.axisColor||this.lineColor,axisStrokeWidth:this.radar?.axisStrokeWidth||2,axisLabelFontSize:this.radar?.axisLabelFontSize||12,curveOpacity:this.radar?.curveOpacity||.5,curveStrokeWidth:this.radar?.curveStrokeWidth||2,graticuleColor:this.radar?.graticuleColor||"#DEDEDE",graticuleStrokeWidth:this.radar?.graticuleStrokeWidth||1,graticuleOpacity:this.radar?.graticuleOpacity||.3,legendBoxSize:this.radar?.legendBoxSize||12,legendFontSize:this.radar?.legendFontSize||12},this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||"1",this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=(0,darken.A)(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||methods_adjust(this.primaryColor,{h:-30}),this.git4=this.pie5||methods_adjust(this.primaryColor,{h:-60}),this.git5=this.pie6||methods_adjust(this.primaryColor,{h:-90}),this.git6=this.pie7||methods_adjust(this.primaryColor,{h:60}),this.git7=this.pie8||methods_adjust(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||methods_invert(this.git0),this.gitInv1=this.gitInv1||methods_invert(this.git1),this.gitInv2=this.gitInv2||methods_invert(this.git2),this.gitInv3=this.gitInv3||methods_invert(this.git3),this.gitInv4=this.gitInv4||methods_invert(this.git4),this.gitInv5=this.gitInv5||methods_invert(this.git5),this.gitInv6=this.gitInv6||methods_invert(this.git6),this.gitInv7=this.gitInv7||methods_invert(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||"#ffffff",this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||"#f2f2f2"}calculate(overrides){if("object"!=typeof overrides)return void this.updateColors();const keys=Object.keys(overrides);keys.forEach((k=>{this[k]=overrides[k]})),this.updateColors(),keys.forEach((k=>{this[k]=overrides[k]}))}},themes_default={base:{getThemeVariables},dark:{getThemeVariables:getThemeVariables2},default:{getThemeVariables:getThemeVariables3},forest:{getThemeVariables:getThemeVariables4},neutral:{getThemeVariables:(0,chunk_AGHRB4JF.K2)((userOverrides=>{const theme=new Theme5;return theme.calculate(userOverrides),theme}),"getThemeVariables")}},config_schema_default={flowchart:{useMaxWidth:!0,titleTopMargin:25,subGraphTitleMargin:{top:0,bottom:0},diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,defaultRenderer:"dagre-wrapper",wrappingWidth:200,inheritDir:!1},sequence:{useMaxWidth:!0,hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20},gantt:{useMaxWidth:!0,titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",topAxis:!1,displayMode:"",weekday:"sunday"},journey:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,maxLabelWidth:360,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],titleColor:"",titleFontFamily:'"trebuchet ms", verdana, arial, sans-serif',titleFontSize:"4ex"},class:{useMaxWidth:!0,titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,defaultRenderer:"dagre-wrapper",htmlLabels:!1,hideEmptyMembersBox:!1},state:{useMaxWidth:!0,titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,defaultRenderer:"dagre-wrapper"},er:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,nodeSpacing:140,rankSpacing:80,stroke:"gray",fill:"honeydew",fontSize:12},pie:{useMaxWidth:!0,textPosition:.75},quadrantChart:{useMaxWidth:!0,chartWidth:500,chartHeight:500,titleFontSize:20,titlePadding:10,quadrantPadding:5,xAxisLabelPadding:5,yAxisLabelPadding:5,xAxisLabelFontSize:16,yAxisLabelFontSize:16,quadrantLabelFontSize:16,quadrantTextTopPadding:5,pointTextPadding:5,pointLabelFontSize:12,pointRadius:5,xAxisPosition:"top",yAxisPosition:"left",quadrantInternalBorderStrokeWidth:1,quadrantExternalBorderStrokeWidth:2},xyChart:{useMaxWidth:!0,width:700,height:500,titleFontSize:20,titlePadding:10,showDataLabel:!1,showTitle:!0,xAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},yAxis:{$ref:"#/$defs/XYChartAxisConfig",showLabel:!0,labelFontSize:14,labelPadding:5,showTitle:!0,titleFontSize:16,titlePadding:5,showTick:!0,tickLength:5,tickWidth:2,showAxisLine:!0,axisLineWidth:2},chartOrientation:"vertical",plotReservedSpacePercent:50},requirement:{useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200,layoutAlgorithm:"cose-bilkent"},kanban:{useMaxWidth:!0,padding:8,sectionWidth:200,ticketBaseUrl:""},timeline:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"],disableMulticolor:!1},gitGraph:{useMaxWidth:!0,titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0,parallelCommits:!1,arrowMarkerAbsolute:!1},c4:{useMaxWidth:!0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},sankey:{useMaxWidth:!0,width:600,height:400,linkColor:"gradient",nodeAlignment:"justify",showValues:!0,prefix:"",suffix:""},block:{useMaxWidth:!0,padding:8},packet:{useMaxWidth:!0,rowHeight:32,bitWidth:32,bitsPerRow:32,showBits:!0,paddingX:5,paddingY:5},architecture:{useMaxWidth:!0,padding:40,iconSize:80,fontSize:16},radar:{useMaxWidth:!0,width:600,height:600,marginTop:50,marginRight:50,marginBottom:50,marginLeft:50,axisScaleFactor:1,axisLabelFactor:1.05,curveTension:.17},theme:"default",look:"classic",handDrawnSeed:0,layout:"dagre",maxTextSize:5e4,maxEdges:500,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize","suppressErrorRendering","maxEdges"],legacyMathML:!1,forceLegacyMathML:!1,deterministicIds:!1,fontSize:16,markdownAutoWrap:!0,suppressErrorRendering:!1},config={...config_schema_default,deterministicIDSeed:void 0,elk:{mergeEdges:!1,nodePlacementStrategy:"BRANDES_KOEPF",forceNodeModelOrder:!1,considerModelOrder:"NODES_AND_EDGES"},themeCSS:void 0,themeVariables:themes_default.default.getThemeVariables(),sequence:{...config_schema_default.sequence,messageFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}),"messageFont"),noteFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}}),"noteFont"),actorFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}),"actorFont")},class:{hideEmptyMembersBox:!1},gantt:{...config_schema_default.gantt,tickInterval:void 0,useWidth:void 0},c4:{...config_schema_default.c4,useWidth:void 0,personFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}}),"personFont"),flowchart:{...config_schema_default.flowchart,inheritDir:!1},external_personFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}}),"external_personFont"),systemFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}}),"systemFont"),external_systemFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}}),"external_systemFont"),system_dbFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}}),"system_dbFont"),external_system_dbFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}}),"external_system_dbFont"),system_queueFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}}),"system_queueFont"),external_system_queueFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}}),"external_system_queueFont"),containerFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}}),"containerFont"),external_containerFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}}),"external_containerFont"),container_dbFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}}),"container_dbFont"),external_container_dbFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}}),"external_container_dbFont"),container_queueFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}}),"container_queueFont"),external_container_queueFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}}),"external_container_queueFont"),componentFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}}),"componentFont"),external_componentFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}}),"external_componentFont"),component_dbFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}}),"component_dbFont"),external_component_dbFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}}),"external_component_dbFont"),component_queueFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}}),"component_queueFont"),external_component_queueFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}}),"external_component_queueFont"),boundaryFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}}),"boundaryFont"),messageFont:(0,chunk_AGHRB4JF.K2)((function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}}),"messageFont")},pie:{...config_schema_default.pie,useWidth:984},xyChart:{...config_schema_default.xyChart,useWidth:void 0},requirement:{...config_schema_default.requirement,useWidth:void 0},packet:{...config_schema_default.packet},radar:{...config_schema_default.radar},treemap:{useMaxWidth:!0,padding:10,diagramPadding:8,showValues:!0,nodeWidth:100,nodeHeight:40,borderWidth:1,valueFontSize:12,labelFontSize:14,valueFormat:","}},keyify=(0,chunk_AGHRB4JF.K2)(((obj,prefix="")=>Object.keys(obj).reduce(((res,el)=>Array.isArray(obj[el])?res:"object"==typeof obj[el]&&null!==obj[el]?[...res,prefix+el,...keyify(obj[el],"")]:[...res,prefix+el]),[])),"keyify"),configKeys=new Set(keyify(config,"")),defaultConfig_default=config,sanitizeDirective=(0,chunk_AGHRB4JF.K2)((args=>{if(chunk_AGHRB4JF.Rm.debug("sanitizeDirective called with",args),"object"==typeof args&&null!=args)if(Array.isArray(args))args.forEach((arg=>sanitizeDirective(arg)));else{for(const key of Object.keys(args)){if(chunk_AGHRB4JF.Rm.debug("Checking key",key),key.startsWith("__")||key.includes("proto")||key.includes("constr")||!configKeys.has(key)||null==args[key]){chunk_AGHRB4JF.Rm.debug("sanitize deleting key: ",key),delete args[key];continue}if("object"==typeof args[key]){chunk_AGHRB4JF.Rm.debug("sanitizing object",key),sanitizeDirective(args[key]);continue}const cssMatchers=["themeCSS","fontFamily","altFontFamily"];for(const cssKey of cssMatchers)key.includes(cssKey)&&(chunk_AGHRB4JF.Rm.debug("sanitizing css option",key),args[key]=sanitizeCss(args[key]))}if(args.themeVariables)for(const k of Object.keys(args.themeVariables)){const val=args.themeVariables[k];val?.match&&!val.match(/^[\d "#%(),.;A-Za-z]+$/)&&(args.themeVariables[k]="")}chunk_AGHRB4JF.Rm.debug("After sanitization",args)}}),"sanitizeDirective"),sanitizeCss=(0,chunk_AGHRB4JF.K2)((str=>{let startCnt=0,endCnt=0;for(const element of str){if(startCnt<endCnt)return"{ /* ERROR: Unbalanced CSS */ }";"{"===element?startCnt++:"}"===element&&endCnt++}return startCnt!==endCnt?"{ /* ERROR: Unbalanced CSS */ }":str}),"sanitizeCss"),defaultConfig=Object.freeze(defaultConfig_default),siteConfig=assignWithDepth_default({},defaultConfig),directives=[],currentConfig=assignWithDepth_default({},defaultConfig),updateCurrentConfig=(0,chunk_AGHRB4JF.K2)(((siteCfg,_directives)=>{let cfg=assignWithDepth_default({},siteCfg),sumOfDirectives={};for(const d of _directives)sanitize(d),sumOfDirectives=assignWithDepth_default(sumOfDirectives,d);if(cfg=assignWithDepth_default(cfg,sumOfDirectives),sumOfDirectives.theme&&sumOfDirectives.theme in themes_default){const tmpConfigFromInitialize=assignWithDepth_default({},configFromInitialize),themeVariables=assignWithDepth_default(tmpConfigFromInitialize.themeVariables||{},sumOfDirectives.themeVariables);cfg.theme&&cfg.theme in themes_default&&(cfg.themeVariables=themes_default[cfg.theme].getThemeVariables(themeVariables))}return checkConfig(currentConfig=cfg),currentConfig}),"updateCurrentConfig"),setSiteConfig=(0,chunk_AGHRB4JF.K2)((conf=>(siteConfig=assignWithDepth_default({},defaultConfig),siteConfig=assignWithDepth_default(siteConfig,conf),conf.theme&&themes_default[conf.theme]&&(siteConfig.themeVariables=themes_default[conf.theme].getThemeVariables(conf.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig)),"setSiteConfig"),saveConfigFromInitialize=(0,chunk_AGHRB4JF.K2)((conf=>{configFromInitialize=assignWithDepth_default({},conf)}),"saveConfigFromInitialize"),updateSiteConfig=(0,chunk_AGHRB4JF.K2)((conf=>(siteConfig=assignWithDepth_default(siteConfig,conf),updateCurrentConfig(siteConfig,directives),siteConfig)),"updateSiteConfig"),getSiteConfig=(0,chunk_AGHRB4JF.K2)((()=>assignWithDepth_default({},siteConfig)),"getSiteConfig"),setConfig=(0,chunk_AGHRB4JF.K2)((conf=>(checkConfig(conf),assignWithDepth_default(currentConfig,conf),getConfig())),"setConfig"),getConfig=(0,chunk_AGHRB4JF.K2)((()=>assignWithDepth_default({},currentConfig)),"getConfig"),sanitize=(0,chunk_AGHRB4JF.K2)((options=>{options&&(["secure",...siteConfig.secure??[]].forEach((key=>{Object.hasOwn(options,key)&&(chunk_AGHRB4JF.Rm.debug(`Denied attempt to modify a secure key ${key}`,options[key]),delete options[key])})),Object.keys(options).forEach((key=>{key.startsWith("__")&&delete options[key]})),Object.keys(options).forEach((key=>{"string"==typeof options[key]&&(options[key].includes("<")||options[key].includes(">")||options[key].includes("url(data:"))&&delete options[key],"object"==typeof options[key]&&sanitize(options[key])})))}),"sanitize"),addDirective=(0,chunk_AGHRB4JF.K2)((directive=>{sanitizeDirective(directive),directive.fontFamily&&!directive.themeVariables?.fontFamily&&(directive.themeVariables={...directive.themeVariables,fontFamily:directive.fontFamily}),directives.push(directive),updateCurrentConfig(siteConfig,directives)}),"addDirective"),chunk_ABZYJK2D_reset=(0,chunk_AGHRB4JF.K2)(((config2=siteConfig)=>{updateCurrentConfig(config2,directives=[])}),"reset"),ConfigWarning={LAZY_LOAD_DEPRECATED:"The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead."},issuedWarnings={},issueWarning=(0,chunk_AGHRB4JF.K2)((warning=>{issuedWarnings[warning]||(chunk_AGHRB4JF.Rm.warn(ConfigWarning[warning]),issuedWarnings[warning]=!0)}),"issueWarning"),checkConfig=(0,chunk_AGHRB4JF.K2)((config2=>{config2&&(config2.lazyLoadedDiagrams||config2.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")}),"checkConfig"),getUserDefinedConfig=(0,chunk_AGHRB4JF.K2)((()=>{let userConfig={};configFromInitialize&&(userConfig=assignWithDepth_default(userConfig,configFromInitialize));for(const d of directives)userConfig=assignWithDepth_default(userConfig,d);return userConfig}),"getUserDefinedConfig"),lineBreakRegex=/<br\s*\/?>/gi,getRows=(0,chunk_AGHRB4JF.K2)((s=>{if(!s)return[""];return breakToPlaceholder(s).replace(/\\n/g,"#br#").split("#br#")}),"getRows"),setupDompurifyHooksIfNotSetup=(()=>{let setup=!1;return()=>{setup||(setupDompurifyHooks(),setup=!0)}})();function setupDompurifyHooks(){purify_es.A.addHook("beforeSanitizeAttributes",(node=>{"A"===node.tagName&&node.hasAttribute("target")&&node.setAttribute("data-temp-href-target",node.getAttribute("target")??"")})),purify_es.A.addHook("afterSanitizeAttributes",(node=>{"A"===node.tagName&&node.hasAttribute("data-temp-href-target")&&(node.setAttribute("target",node.getAttribute("data-temp-href-target")??""),node.removeAttribute("data-temp-href-target"),"_blank"===node.getAttribute("target")&&node.setAttribute("rel","noopener"))}))}(0,chunk_AGHRB4JF.K2)(setupDompurifyHooks,"setupDompurifyHooks");var removeScript=(0,chunk_AGHRB4JF.K2)((txt=>{setupDompurifyHooksIfNotSetup();return purify_es.A.sanitize(txt)}),"removeScript"),sanitizeMore=(0,chunk_AGHRB4JF.K2)(((text,config2)=>{if(!1!==config2.flowchart?.htmlLabels){const level=config2.securityLevel;"antiscript"===level||"strict"===level?text=removeScript(text):"loose"!==level&&(text=(text=(text=breakToPlaceholder(text)).replace(/</g,"&lt;").replace(/>/g,"&gt;")).replace(/=/g,"&equals;"),text=placeholderToBreak(text))}return text}),"sanitizeMore"),sanitizeText=(0,chunk_AGHRB4JF.K2)(((text,config2)=>text?text=config2.dompurifyConfig?purify_es.A.sanitize(sanitizeMore(text,config2),config2.dompurifyConfig).toString():purify_es.A.sanitize(sanitizeMore(text,config2),{FORBID_TAGS:["style"]}).toString():text),"sanitizeText"),sanitizeTextOrArray=(0,chunk_AGHRB4JF.K2)(((a,config2)=>"string"==typeof a?sanitizeText(a,config2):a.flat().map((x=>sanitizeText(x,config2)))),"sanitizeTextOrArray"),hasBreaks=(0,chunk_AGHRB4JF.K2)((text=>lineBreakRegex.test(text)),"hasBreaks"),splitBreaks=(0,chunk_AGHRB4JF.K2)((text=>text.split(lineBreakRegex)),"splitBreaks"),placeholderToBreak=(0,chunk_AGHRB4JF.K2)((s=>s.replace(/#br#/g,"<br/>")),"placeholderToBreak"),breakToPlaceholder=(0,chunk_AGHRB4JF.K2)((s=>s.replace(lineBreakRegex,"#br#")),"breakToPlaceholder"),getUrl=(0,chunk_AGHRB4JF.K2)((useAbsolute=>{let url="";return useAbsolute&&(url=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,url=CSS.escape(url)),url}),"getUrl"),evaluate=(0,chunk_AGHRB4JF.K2)((val=>!1!==val&&!["false","null","0"].includes(String(val).trim().toLowerCase())),"evaluate"),getMax=(0,chunk_AGHRB4JF.K2)((function(...values){const newValues=values.filter((value=>!isNaN(value)));return Math.max(...newValues)}),"getMax"),getMin=(0,chunk_AGHRB4JF.K2)((function(...values){const newValues=values.filter((value=>!isNaN(value)));return Math.min(...newValues)}),"getMin"),parseGenericTypes=(0,chunk_AGHRB4JF.K2)((function(input){const inputSets=input.split(/(,)/),output=[];for(let i=0;i<inputSets.length;i++){let thisSet=inputSets[i];if(","===thisSet&&i>0&&i+1<inputSets.length){const previousSet=inputSets[i-1],nextSet=inputSets[i+1];shouldCombineSets(previousSet,nextSet)&&(thisSet=previousSet+","+nextSet,i++,output.pop())}output.push(processSet(thisSet))}return output.join("")}),"parseGenericTypes"),countOccurrence=(0,chunk_AGHRB4JF.K2)(((string,substring)=>Math.max(0,string.split(substring).length-1)),"countOccurrence"),shouldCombineSets=(0,chunk_AGHRB4JF.K2)(((previousSet,nextSet)=>{const prevCount=countOccurrence(previousSet,"~"),nextCount=countOccurrence(nextSet,"~");return 1===prevCount&&1===nextCount}),"shouldCombineSets"),processSet=(0,chunk_AGHRB4JF.K2)((input=>{const tildeCount=countOccurrence(input,"~");let hasStartingTilde=!1;if(tildeCount<=1)return input;tildeCount%2!=0&&input.startsWith("~")&&(input=input.substring(1),hasStartingTilde=!0);const chars=[...input];let first=chars.indexOf("~"),last=chars.lastIndexOf("~");for(;-1!==first&&-1!==last&&first!==last;)chars[first]="<",chars[last]=">",first=chars.indexOf("~"),last=chars.lastIndexOf("~");return hasStartingTilde&&chars.unshift("~"),chars.join("")}),"processSet"),isMathMLSupported=(0,chunk_AGHRB4JF.K2)((()=>void 0!==window.MathMLElement),"isMathMLSupported"),katexRegex=/\$\$(.*)\$\$/g,hasKatex=(0,chunk_AGHRB4JF.K2)((text=>(text.match(katexRegex)?.length??0)>0),"hasKatex"),calculateMathMLDimensions=(0,chunk_AGHRB4JF.K2)((async(text,config2)=>{const divElem=document.createElement("div");divElem.innerHTML=await renderKatexSanitized(text,config2),divElem.id="katex-temp",divElem.style.visibility="hidden",divElem.style.position="absolute",divElem.style.top="0";const body=document.querySelector("body");body?.insertAdjacentElement("beforeend",divElem);const dim={width:divElem.clientWidth,height:divElem.clientHeight};return divElem.remove(),dim}),"calculateMathMLDimensions"),renderKatexUnsanitized=(0,chunk_AGHRB4JF.K2)((async(text,config2)=>{if(!hasKatex(text))return text;if(!(isMathMLSupported()||config2.legacyMathML||config2.forceLegacyMathML))return text.replace(katexRegex,"MathML is unsupported in this environment.");{const{default:katex}=await Promise.resolve().then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/katex@0.16.22/node_modules/katex/dist/katex.mjs")),outputMode=config2.forceLegacyMathML||!isMathMLSupported()&&config2.legacyMathML?"htmlAndMathml":"mathml";return text.split(lineBreakRegex).map((line=>hasKatex(line)?`<div style="display: flex; align-items: center; justify-content: center; white-space: nowrap;">${line}</div>`:`<div>${line}</div>`)).join("").replace(katexRegex,((_,c)=>katex.renderToString(c,{throwOnError:!0,displayMode:!0,output:outputMode}).replace(/\n/g," ").replace(/<annotation.*<\/annotation>/g,"")))}}),"renderKatexUnsanitized"),renderKatexSanitized=(0,chunk_AGHRB4JF.K2)((async(text,config2)=>sanitizeText(await renderKatexUnsanitized(text,config2),config2)),"renderKatexSanitized"),common_default={getRows,sanitizeText,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate,getMax,getMin},d3Attrs=(0,chunk_AGHRB4JF.K2)((function(d3Elem,attrs){for(let attr of attrs)d3Elem.attr(attr[0],attr[1])}),"d3Attrs"),calculateSvgSizeAttrs=(0,chunk_AGHRB4JF.K2)((function(height,width,useMaxWidth){let attrs=new Map;return useMaxWidth?(attrs.set("width","100%"),attrs.set("style",`max-width: ${width}px;`)):(attrs.set("height",height),attrs.set("width",width)),attrs}),"calculateSvgSizeAttrs"),configureSvgSize=(0,chunk_AGHRB4JF.K2)((function(svgElem,height,width,useMaxWidth){const attrs=calculateSvgSizeAttrs(height,width,useMaxWidth);d3Attrs(svgElem,attrs)}),"configureSvgSize"),setupGraphViewbox=(0,chunk_AGHRB4JF.K2)((function(graph,svgElem,padding,useMaxWidth){const svgBounds=svgElem.node().getBBox(),sWidth=svgBounds.width,sHeight=svgBounds.height;chunk_AGHRB4JF.Rm.info(`SVG bounds: ${sWidth}x${sHeight}`,svgBounds);let width=0,height=0;chunk_AGHRB4JF.Rm.info(`Graph bounds: ${width}x${height}`,graph),width=sWidth+2*padding,height=sHeight+2*padding,chunk_AGHRB4JF.Rm.info(`Calculated bounds: ${width}x${height}`),configureSvgSize(svgElem,height,width,useMaxWidth);const vBox=`${svgBounds.x-padding} ${svgBounds.y-padding} ${svgBounds.width+2*padding} ${svgBounds.height+2*padding}`;svgElem.attr("viewBox",vBox)}),"setupGraphViewbox"),themes={},getStyles=(0,chunk_AGHRB4JF.K2)(((type,userStyles,options)=>{let diagramStyles="";return type in themes&&themes[type]?diagramStyles=themes[type](options):chunk_AGHRB4JF.Rm.warn(`No theme found for ${type}`),` & {\n    font-family: ${options.fontFamily};\n    font-size: ${options.fontSize};\n    fill: ${options.textColor}\n  }\n  @keyframes edge-animation-frame {\n    from {\n      stroke-dashoffset: 0;\n    }\n  }\n  @keyframes dash {\n    to {\n      stroke-dashoffset: 0;\n    }\n  }\n  & .edge-animation-slow {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 50s linear infinite;\n    stroke-linecap: round;\n  }\n  & .edge-animation-fast {\n    stroke-dasharray: 9,5 !important;\n    stroke-dashoffset: 900;\n    animation: dash 20s linear infinite;\n    stroke-linecap: round;\n  }\n  /* Classes common for multiple diagrams */\n\n  & .error-icon {\n    fill: ${options.errorBkgColor};\n  }\n  & .error-text {\n    fill: ${options.errorTextColor};\n    stroke: ${options.errorTextColor};\n  }\n\n  & .edge-thickness-normal {\n    stroke-width: 1px;\n  }\n  & .edge-thickness-thick {\n    stroke-width: 3.5px\n  }\n  & .edge-pattern-solid {\n    stroke-dasharray: 0;\n  }\n  & .edge-thickness-invisible {\n    stroke-width: 0;\n    fill: none;\n  }\n  & .edge-pattern-dashed{\n    stroke-dasharray: 3;\n  }\n  .edge-pattern-dotted {\n    stroke-dasharray: 2;\n  }\n\n  & .marker {\n    fill: ${options.lineColor};\n    stroke: ${options.lineColor};\n  }\n  & .marker.cross {\n    stroke: ${options.lineColor};\n  }\n\n  & svg {\n    font-family: ${options.fontFamily};\n    font-size: ${options.fontSize};\n  }\n   & p {\n    margin: 0\n   }\n\n  ${diagramStyles}\n\n  ${userStyles}\n`}),"getStyles"),addStylesForDiagram=(0,chunk_AGHRB4JF.K2)(((type,diagramTheme)=>{void 0!==diagramTheme&&(themes[type]=diagramTheme)}),"addStylesForDiagram"),styles_default=getStyles,commonDb_exports={};(0,chunk_AGHRB4JF.VA)(commonDb_exports,{clear:()=>clear,getAccDescription:()=>getAccDescription,getAccTitle:()=>getAccTitle,getDiagramTitle:()=>getDiagramTitle,setAccDescription:()=>setAccDescription,setAccTitle:()=>setAccTitle,setDiagramTitle:()=>setDiagramTitle});var accTitle="",diagramTitle="",accDescription="",sanitizeText2=(0,chunk_AGHRB4JF.K2)((txt=>sanitizeText(txt,getConfig())),"sanitizeText"),clear=(0,chunk_AGHRB4JF.K2)((()=>{accTitle="",accDescription="",diagramTitle=""}),"clear"),setAccTitle=(0,chunk_AGHRB4JF.K2)((txt=>{accTitle=sanitizeText2(txt).replace(/^\s+/g,"")}),"setAccTitle"),getAccTitle=(0,chunk_AGHRB4JF.K2)((()=>accTitle),"getAccTitle"),setAccDescription=(0,chunk_AGHRB4JF.K2)((txt=>{accDescription=sanitizeText2(txt).replace(/\n\s+/g,"\n")}),"setAccDescription"),getAccDescription=(0,chunk_AGHRB4JF.K2)((()=>accDescription),"getAccDescription"),setDiagramTitle=(0,chunk_AGHRB4JF.K2)((txt=>{diagramTitle=sanitizeText2(txt)}),"setDiagramTitle"),getDiagramTitle=(0,chunk_AGHRB4JF.K2)((()=>diagramTitle),"getDiagramTitle"),log2=chunk_AGHRB4JF.Rm,setLogLevel2=chunk_AGHRB4JF.He,getConfig2=getConfig,setConfig2=setConfig,defaultConfig2=defaultConfig,sanitizeText3=(0,chunk_AGHRB4JF.K2)((text=>sanitizeText(text,getConfig2())),"sanitizeText"),setupGraphViewbox2=setupGraphViewbox,getCommonDb=(0,chunk_AGHRB4JF.K2)((()=>commonDb_exports),"getCommonDb"),diagrams={},registerDiagram=(0,chunk_AGHRB4JF.K2)(((id,diagram,detector)=>{diagrams[id]&&log2.warn(`Diagram with id ${id} already registered. Overwriting.`),diagrams[id]=diagram,detector&&addDetector(id,detector),addStylesForDiagram(id,diagram.styles),diagram.injectUtils?.(log2,setLogLevel2,getConfig2,sanitizeText3,setupGraphViewbox2,getCommonDb(),(()=>{}))}),"registerDiagram"),getDiagram=(0,chunk_AGHRB4JF.K2)((name=>{if(name in diagrams)return diagrams[name];throw new DiagramNotFoundError(name)}),"getDiagram"),DiagramNotFoundError=class extends Error{static{(0,chunk_AGHRB4JF.K2)(this,"DiagramNotFoundError")}constructor(name){super(`Diagram ${name} not found.`)}}},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{He:()=>setLogLevel,K2:()=>__name,Rm:()=>log,VA:()=>__export});var dayjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/dayjs@1.11.18/node_modules/dayjs/dayjs.min.js"),dayjs__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(dayjs__WEBPACK_IMPORTED_MODULE_0__),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js"),__defProp=Object.defineProperty,__name=(target,value)=>__defProp(target,"name",{value,configurable:!0}),__export=(target,all)=>{for(var name in all)__defProp(target,name,{get:all[name],enumerable:!0})},LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log={trace:__name(((..._args)=>{}),"trace"),debug:__name(((..._args)=>{}),"debug"),info:__name(((..._args)=>{}),"info"),warn:__name(((..._args)=>{}),"warn"),error:__name(((..._args)=>{}),"error"),fatal:__name(((..._args)=>{}),"fatal")},setLogLevel=__name((function(level="fatal"){let numericLevel=LEVELS.fatal;"string"==typeof level?level.toLowerCase()in LEVELS&&(numericLevel=LEVELS[level]):"number"==typeof level&&(numericLevel=level),log.trace=()=>{},log.debug=()=>{},log.info=()=>{},log.warn=()=>{},log.error=()=>{},log.fatal=()=>{},numericLevel<=LEVELS.fatal&&(log.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"[35m",format("FATAL"))),numericLevel<=LEVELS.error&&(log.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"[31m",format("ERROR"))),numericLevel<=LEVELS.warn&&(log.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"[33m",format("WARN"))),numericLevel<=LEVELS.info&&(log.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"[34m",format("INFO"))),numericLevel<=LEVELS.debug&&(log.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"[32m",format("DEBUG"))),numericLevel<=LEVELS.trace&&(log.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"[32m",format("TRACE")))}),"setLogLevel"),format=__name((level=>`%c${dayjs__WEBPACK_IMPORTED_MODULE_0___default()().format("ss.SSS")} : ${level} : `),"format")},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{O:()=>getSubGraphTitleMargins});var getSubGraphTitleMargins=(0,__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs").K2)((({flowchart})=>{const subGraphTitleTopMargin=flowchart?.subGraphTitleMargin?.top??0,subGraphTitleBottomMargin=flowchart?.subGraphTitleMargin?.bottom??0;return{subGraphTitleTopMargin,subGraphTitleBottomMargin,subGraphTitleTotalMargin:subGraphTitleTopMargin+subGraphTitleBottomMargin}}),"getSubGraphTitleMargins")},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-CXMOBAN2.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{DA:()=>createLabel_default,IU:()=>clear,U:()=>insertCluster,U7:()=>setNodeElem,U_:()=>positionNode,Zk:()=>labelHelper,aP:()=>isValidShape,gh:()=>clear2,lC:()=>updateNodeBounds,on:()=>insertNode});var _chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs"),_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-QYVHNE3D.mjs"),_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs"),_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs"),_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs"),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs"),d3__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/d3@7.9.0/node_modules/d3/src/index.js"),roughjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/roughjs@4.6.6/node_modules/roughjs/bundled/rough.esm.js"),labelHelper=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)((async(parent,node,_classes)=>{let cssClasses;const useHtmlLabels=node.useHtmlLabels||(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)()?.htmlLabels);cssClasses=_classes||"node default";const shapeSvg=parent.insert("g").attr("class",cssClasses).attr("id",node.domId||node.id),labelEl=shapeSvg.insert("g").attr("class","label").attr("style",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(node.labelStyle));let label;label=void 0===node.label?"":"string"==typeof node.label?node.label:node.label[0];const text2=await(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.GZ)(labelEl,(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.jZ)((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.Sm)(label),(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)()),{useHtmlLabels,width:node.width||(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)().flowchart?.wrappingWidth,cssClasses:"markdown-node-label",style:node.labelStyle,addSvgBackground:!!node.icon||!!node.img});let bbox=text2.getBBox();const halfPadding=(node?.padding??0)/2;if(useHtmlLabels){const div=text2.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(text2),images=div.getElementsByTagName("img");if(images){const noImgText=""===label.replace(/<img[^>]*>/g,"").trim();await Promise.all([...images].map((img=>new Promise((res=>{function setupImage(){if(img.style.display="flex",img.style.flexDirection="column",noImgText){const bodyFontSize=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)().fontSize?(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)().fontSize:window.getComputedStyle(document.body).fontSize,enlargingFactor=5,[parsedBodyFontSize=_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.UI.fontSize]=(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.I5)(bodyFontSize),width=parsedBodyFontSize*enlargingFactor+"px";img.style.minWidth=width,img.style.maxWidth=width}else img.style.width="100%";res(img)}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(setupImage,"setupImage"),setTimeout((()=>{img.complete&&setupImage()})),img.addEventListener("error",setupImage),img.addEventListener("load",setupImage)})))))}bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}return useHtmlLabels?labelEl.attr("transform","translate("+-bbox.width/2+", "+-bbox.height/2+")"):labelEl.attr("transform","translate(0, "+-bbox.height/2+")"),node.centerLabel&&labelEl.attr("transform","translate("+-bbox.width/2+", "+-bbox.height/2+")"),labelEl.insert("rect",":first-child"),{shapeSvg,bbox,halfPadding,label:labelEl}}),"labelHelper"),insertLabel=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)((async(parent,label,options)=>{const useHtmlLabels=options.useHtmlLabels||(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)()?.flowchart?.htmlLabels),labelEl=parent.insert("g").attr("class","label").attr("style",options.labelStyle||""),text2=await(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.GZ)(labelEl,(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.jZ)((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.Sm)(label),(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)()),{useHtmlLabels,width:options.width||(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)()?.flowchart?.wrappingWidth,style:options.labelStyle,addSvgBackground:!!options.icon||!!options.img});let bbox=text2.getBBox();const halfPadding=options.padding/2;if((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)()?.flowchart?.htmlLabels)){const div=text2.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(text2);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}return useHtmlLabels?labelEl.attr("transform","translate("+-bbox.width/2+", "+-bbox.height/2+")"):labelEl.attr("transform","translate(0, "+-bbox.height/2+")"),options.centerLabel&&labelEl.attr("transform","translate("+-bbox.width/2+", "+-bbox.height/2+")"),labelEl.insert("rect",":first-child"),{shapeSvg:parent,bbox,halfPadding,label:labelEl}}),"insertLabel"),updateNodeBounds=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((node,element)=>{const bbox=element.node().getBBox();node.width=bbox.width,node.height=bbox.height}),"updateNodeBounds"),getNodeClasses=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((node,extra)=>("handDrawn"===node.look?"rough-node":"node")+" "+node.cssClasses+" "+(extra||"")),"getNodeClasses");function createPathFromPoints(points){const pointStrings=points.map(((p,i)=>`${0===i?"M":"L"}${p.x},${p.y}`));return pointStrings.push("Z"),pointStrings.join(" ")}function generateFullSineWavePoints(x1,y1,x2,y2,amplitude,numCycles){const points=[],deltaX=x2-x1,deltaY=y2-y1,cycleLength=deltaX/numCycles,frequency=2*Math.PI/cycleLength,midY=y1+deltaY/2;for(let i=0;i<=50;i++){const x=x1+i/50*deltaX,y=midY+amplitude*Math.sin(frequency*(x-x1));points.push({x,y})}return points}function generateCirclePoints(centerX,centerY,radius,numPoints,startAngle,endAngle){const points=[],startAngleRad=startAngle*Math.PI/180,angleStep=(endAngle*Math.PI/180-startAngleRad)/(numPoints-1);for(let i=0;i<numPoints;i++){const angle=startAngleRad+i*angleStep,x=centerX+radius*Math.cos(angle),y=centerY+radius*Math.sin(angle);points.push({x:-x,y:-y})}return points}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(createPathFromPoints,"createPathFromPoints"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(generateFullSineWavePoints,"generateFullSineWavePoints"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(generateCirclePoints,"generateCirclePoints");var intersect_rect_default=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((node,point)=>{var sx,sy,x=node.x,y=node.y,dx=point.x-x,dy=point.y-y,w=node.width/2,h=node.height/2;return Math.abs(dy)*w>Math.abs(dx)*h?(dy<0&&(h=-h),sx=0===dy?0:h*dx/dy,sy=h):(dx<0&&(w=-w),sx=w,sy=0===dx?0:w*dy/dx),{x:x+sx,y:y+sy}}),"intersectRect");function applyStyle(dom,styleFn){styleFn&&dom.attr("style",styleFn)}async function addHtmlLabel(node){const fo=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),div=fo.append("xhtml:div"),config=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)();let label=node.label;node.label&&(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.Wi)(node.label)&&(label=await(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.dj)(node.label.replace(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.Y2.lineBreakRegex,"\n"),config));const labelSpan='<span class="'+(node.isNode?"nodeLabel":"edgeLabel")+'" '+(node.labelStyle?'style="'+node.labelStyle+'"':"")+">"+label+"</span>";return div.html((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.jZ)(labelSpan,config)),applyStyle(div,node.labelStyle),div.style("display","inline-block"),div.style("padding-right","1px"),div.style("white-space","nowrap"),div.attr("xmlns","http://www.w3.org/1999/xhtml"),fo.node()}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(applyStyle,"applyStyle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(addHtmlLabel,"addHtmlLabel");var createLabel_default=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)((async(_vertexText,style,isTitle,isNode)=>{let vertexText=_vertexText||"";if("object"==typeof vertexText&&(vertexText=vertexText[0]),(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)().flowchart.htmlLabels)){vertexText=vertexText.replace(/\\n|\n/g,"<br />"),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("vertexText"+vertexText);const node={isNode,label:(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.Sm)(vertexText).replace(/fa[blrs]?:fa-[\w-]+/g,(s=>`<i class='${s.replace(":"," ")}'></i>`)),labelStyle:style?style.replace("fill:","color:"):style};return await addHtmlLabel(node)}{const svgLabel=document.createElementNS("http://www.w3.org/2000/svg","text");svgLabel.setAttribute("style",style.replace("color:","fill:"));let rows=[];rows="string"==typeof vertexText?vertexText.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(vertexText)?vertexText:[];for(const row of rows){const tspan=document.createElementNS("http://www.w3.org/2000/svg","tspan");tspan.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),tspan.setAttribute("dy","1em"),tspan.setAttribute("x","0"),isTitle?tspan.setAttribute("class","title-row"):tspan.setAttribute("class","row"),tspan.textContent=row.trim(),svgLabel.appendChild(tspan)}return svgLabel}}),"createLabel"),createRoundedRectPathD=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((x,y,totalWidth,totalHeight,radius)=>["M",x+radius,y,"H",x+totalWidth-radius,"A",radius,radius,0,0,1,x+totalWidth,y+radius,"V",y+totalHeight-radius,"A",radius,radius,0,0,1,x+totalWidth-radius,y+totalHeight,"H",x+radius,"A",radius,radius,0,0,1,x,y+totalHeight-radius,"V",y+radius,"A",radius,radius,0,0,1,x+radius,y,"Z"].join(" ")),"createRoundedRectPathD"),rect=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)((async(parent,node)=>{_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("Creating subgraph rect for ",node.id,node);const siteConfig=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)(),{themeVariables,handDrawnSeed}=siteConfig,{clusterBkg,clusterBorder}=themeVariables,{labelStyles,nodeStyles,borderStyles,backgroundStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node),shapeSvg=parent.insert("g").attr("class","cluster "+node.cssClasses).attr("id",node.id).attr("data-look",node.look),useHtmlLabels=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)(siteConfig.flowchart.htmlLabels),labelEl=shapeSvg.insert("g").attr("class","cluster-label "),text2=await(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.GZ)(labelEl,node.label,{style:node.labelStyle,useHtmlLabels,isNode:!0});let bbox=text2.getBBox();if((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)(siteConfig.flowchart.htmlLabels)){const div=text2.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(text2);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}const width=node.width<=bbox.width+node.padding?bbox.width+node.padding:node.width;node.width<=bbox.width+node.padding?node.diff=(width-node.width)/2-node.padding:node.diff=-node.padding;const height=node.height,x=node.x-width/2,y=node.y-height/2;let rect2;if(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.trace("Data ",node,JSON.stringify(node)),"handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{roughness:.7,fill:clusterBkg,stroke:clusterBorder,fillWeight:3,seed:handDrawnSeed}),roughNode=rc.path(createRoundedRectPathD(x,y,width,height,0),options);rect2=shapeSvg.insert((()=>(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.debug("Rough node insert CXC",roughNode),roughNode)),":first-child"),rect2.select("path:nth-child(2)").attr("style",borderStyles.join(";")),rect2.select("path").attr("style",backgroundStyles.join(";").replace("fill","stroke"))}else rect2=shapeSvg.insert("rect",":first-child"),rect2.attr("style",nodeStyles).attr("rx",node.rx).attr("ry",node.ry).attr("x",x).attr("y",y).attr("width",width).attr("height",height);const{subGraphTitleTopMargin}=(0,_chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(siteConfig);if(labelEl.attr("transform",`translate(${node.x-bbox.width/2}, ${node.y-node.height/2+subGraphTitleTopMargin})`),labelStyles){const span=labelEl.select("span");span&&span.attr("style",labelStyles)}const rectBox=rect2.node().getBBox();return node.offsetX=0,node.width=rectBox.width,node.height=rectBox.height,node.offsetY=bbox.height-node.padding/2,node.intersect=function(point){return intersect_rect_default(node,point)},{cluster:shapeSvg,labelBBox:bbox}}),"rect"),noteGroup=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((parent,node)=>{const shapeSvg=parent.insert("g").attr("class","note-cluster").attr("id",node.id),rect2=shapeSvg.insert("rect",":first-child"),padding=0*node.padding,halfPadding=padding/2;rect2.attr("rx",node.rx).attr("ry",node.ry).attr("x",node.x-node.width/2-halfPadding).attr("y",node.y-node.height/2-halfPadding).attr("width",node.width+padding).attr("height",node.height+padding).attr("fill","none");const rectBox=rect2.node().getBBox();return node.width=rectBox.width,node.height=rectBox.height,node.intersect=function(point){return intersect_rect_default(node,point)},{cluster:shapeSvg,labelBBox:{width:0,height:0}}}),"noteGroup"),roundedWithTitle=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)((async(parent,node)=>{const siteConfig=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)(),{themeVariables,handDrawnSeed}=siteConfig,{altBackground,compositeBackground,compositeTitleBackground,nodeBorder}=themeVariables,shapeSvg=parent.insert("g").attr("class",node.cssClasses).attr("id",node.id).attr("data-id",node.id).attr("data-look",node.look),outerRectG=shapeSvg.insert("g",":first-child"),label=shapeSvg.insert("g").attr("class","cluster-label");let innerRect=shapeSvg.append("rect");const text2=label.node().appendChild(await createLabel_default(node.label,node.labelStyle,void 0,!0));let bbox=text2.getBBox();if((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)(siteConfig.flowchart.htmlLabels)){const div=text2.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(text2);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}const padding=0*node.padding,halfPadding=padding/2,width=(node.width<=bbox.width+node.padding?bbox.width+node.padding:node.width)+padding;node.width<=bbox.width+node.padding?node.diff=(width-node.width)/2-node.padding:node.diff=-node.padding;const height=node.height+padding,innerHeight=node.height+padding-bbox.height-6,x=node.x-width/2,y=node.y-height/2;node.width=width;const innerY=node.y-node.height/2-halfPadding+bbox.height+2;let rect2;if("handDrawn"===node.look){const isAlt=node.cssClasses.includes("statediagram-cluster-alt"),rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),roughOuterNode=node.rx||node.ry?rc.path(createRoundedRectPathD(x,y,width,height,10),{roughness:.7,fill:compositeTitleBackground,fillStyle:"solid",stroke:nodeBorder,seed:handDrawnSeed}):rc.rectangle(x,y,width,height,{seed:handDrawnSeed});rect2=shapeSvg.insert((()=>roughOuterNode),":first-child");const roughInnerNode=rc.rectangle(x,innerY,width,innerHeight,{fill:isAlt?altBackground:compositeBackground,fillStyle:isAlt?"hachure":"solid",stroke:nodeBorder,seed:handDrawnSeed});rect2=shapeSvg.insert((()=>roughOuterNode),":first-child"),innerRect=shapeSvg.insert((()=>roughInnerNode))}else{rect2=outerRectG.insert("rect",":first-child");const outerRectClass="outer";rect2.attr("class",outerRectClass).attr("x",x).attr("y",y).attr("width",width).attr("height",height).attr("data-look",node.look),innerRect.attr("class","inner").attr("x",x).attr("y",innerY).attr("width",width).attr("height",innerHeight)}label.attr("transform",`translate(${node.x-bbox.width/2}, ${y+1-((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)(siteConfig.flowchart.htmlLabels)?0:3)})`);const rectBox=rect2.node().getBBox();return node.height=rectBox.height,node.offsetX=0,node.offsetY=bbox.height-node.padding/2,node.labelBBox=bbox,node.intersect=function(point){return intersect_rect_default(node,point)},{cluster:shapeSvg,labelBBox:bbox}}),"roundedWithTitle"),kanbanSection=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)((async(parent,node)=>{_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("Creating subgraph rect for ",node.id,node);const siteConfig=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)(),{themeVariables,handDrawnSeed}=siteConfig,{clusterBkg,clusterBorder}=themeVariables,{labelStyles,nodeStyles,borderStyles,backgroundStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node),shapeSvg=parent.insert("g").attr("class","cluster "+node.cssClasses).attr("id",node.id).attr("data-look",node.look),useHtmlLabels=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)(siteConfig.flowchart.htmlLabels),labelEl=shapeSvg.insert("g").attr("class","cluster-label "),text2=await(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.GZ)(labelEl,node.label,{style:node.labelStyle,useHtmlLabels,isNode:!0,width:node.width});let bbox=text2.getBBox();if((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)(siteConfig.flowchart.htmlLabels)){const div=text2.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(text2);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}const width=node.width<=bbox.width+node.padding?bbox.width+node.padding:node.width;node.width<=bbox.width+node.padding?node.diff=(width-node.width)/2-node.padding:node.diff=-node.padding;const height=node.height,x=node.x-width/2,y=node.y-height/2;let rect2;if(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.trace("Data ",node,JSON.stringify(node)),"handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{roughness:.7,fill:clusterBkg,stroke:clusterBorder,fillWeight:4,seed:handDrawnSeed}),roughNode=rc.path(createRoundedRectPathD(x,y,width,height,node.rx),options);rect2=shapeSvg.insert((()=>(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.debug("Rough node insert CXC",roughNode),roughNode)),":first-child"),rect2.select("path:nth-child(2)").attr("style",borderStyles.join(";")),rect2.select("path").attr("style",backgroundStyles.join(";").replace("fill","stroke"))}else rect2=shapeSvg.insert("rect",":first-child"),rect2.attr("style",nodeStyles).attr("rx",node.rx).attr("ry",node.ry).attr("x",x).attr("y",y).attr("width",width).attr("height",height);const{subGraphTitleTopMargin}=(0,_chunk_CVBHYZKI_mjs__WEBPACK_IMPORTED_MODULE_0__.O)(siteConfig);if(labelEl.attr("transform",`translate(${node.x-bbox.width/2}, ${node.y-node.height/2+subGraphTitleTopMargin})`),labelStyles){const span=labelEl.select("span");span&&span.attr("style",labelStyles)}const rectBox=rect2.node().getBBox();return node.offsetX=0,node.width=rectBox.width,node.height=rectBox.height,node.offsetY=bbox.height-node.padding/2,node.intersect=function(point){return intersect_rect_default(node,point)},{cluster:shapeSvg,labelBBox:bbox}}),"kanbanSection"),shapes={rect,squareRect:rect,roundedWithTitle,noteGroup,divider:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((parent,node)=>{const siteConfig=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)(),{themeVariables,handDrawnSeed}=siteConfig,{nodeBorder}=themeVariables,shapeSvg=parent.insert("g").attr("class",node.cssClasses).attr("id",node.id).attr("data-look",node.look),outerRectG=shapeSvg.insert("g",":first-child"),padding=0*node.padding,width=node.width+padding;node.diff=-node.padding;const height=node.height+padding,x=node.x-width/2,y=node.y-height/2;let rect2;if(node.width=width,"handDrawn"===node.look){const roughOuterNode=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg).rectangle(x,y,width,height,{fill:"lightgrey",roughness:.5,strokeLineDash:[5],stroke:nodeBorder,seed:handDrawnSeed});rect2=shapeSvg.insert((()=>roughOuterNode),":first-child")}else{rect2=outerRectG.insert("rect",":first-child");const outerRectClass="divider";rect2.attr("class",outerRectClass).attr("x",x).attr("y",y).attr("width",width).attr("height",height).attr("data-look",node.look)}const rectBox=rect2.node().getBBox();return node.height=rectBox.height,node.offsetX=0,node.offsetY=0,node.intersect=function(point){return intersect_rect_default(node,point)},{cluster:shapeSvg,labelBBox:{}}}),"divider"),kanbanSection},clusterElems=new Map,insertCluster=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)((async(elem,node)=>{const shape=node.shape||"rect",cluster=await shapes[shape](elem,node);return clusterElems.set(node.id,cluster),cluster}),"insertCluster"),clear=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)((()=>{clusterElems=new Map}),"clear");function intersectNode(node,point){return node.intersect(point)}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(intersectNode,"intersectNode");var intersect_node_default=intersectNode;function intersectEllipse(node,rx,ry,point){var cx=node.x,cy=node.y,px=cx-point.x,py=cy-point.y,det=Math.sqrt(rx*rx*py*py+ry*ry*px*px),dx=Math.abs(rx*ry*px/det);point.x<cx&&(dx=-dx);var dy=Math.abs(rx*ry*py/det);return point.y<cy&&(dy=-dy),{x:cx+dx,y:cy+dy}}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(intersectEllipse,"intersectEllipse");var intersect_ellipse_default=intersectEllipse;function intersectCircle(node,rx,point){return intersect_ellipse_default(node,rx,rx,point)}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(intersectCircle,"intersectCircle");var intersect_circle_default=intersectCircle;function intersectLine(p1,p2,q1,q2){{const a1=p2.y-p1.y,b1=p1.x-p2.x,c1=p2.x*p1.y-p1.x*p2.y,r3=a1*q1.x+b1*q1.y+c1,r4=a1*q2.x+b1*q2.y+c1,epsilon=1e-6;if(0!==r3&&0!==r4&&sameSign(r3,r4))return;const a2=q2.y-q1.y,b2=q1.x-q2.x,c2=q2.x*q1.y-q1.x*q2.y,r1=a2*p1.x+b2*p1.y+c2,r2=a2*p2.x+b2*p2.y+c2;if(Math.abs(r1)<epsilon&&Math.abs(r2)<epsilon&&sameSign(r1,r2))return;const denom=a1*b2-a2*b1;if(0===denom)return;const offset=Math.abs(denom/2);let num=b1*c2-b2*c1;const x=num<0?(num-offset)/denom:(num+offset)/denom;num=a2*c1-a1*c2;return{x,y:num<0?(num-offset)/denom:(num+offset)/denom}}}function sameSign(r1,r2){return r1*r2>0}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(intersectLine,"intersectLine"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(sameSign,"sameSign");var intersect_line_default=intersectLine;function intersectPolygon(node,polyPoints,point){let x1=node.x,y1=node.y,intersections=[],minX=Number.POSITIVE_INFINITY,minY=Number.POSITIVE_INFINITY;"function"==typeof polyPoints.forEach?polyPoints.forEach((function(entry){minX=Math.min(minX,entry.x),minY=Math.min(minY,entry.y)})):(minX=Math.min(minX,polyPoints.x),minY=Math.min(minY,polyPoints.y));let left=x1-node.width/2-minX,top=y1-node.height/2-minY;for(let i=0;i<polyPoints.length;i++){let p1=polyPoints[i],p2=polyPoints[i<polyPoints.length-1?i+1:0],intersect=intersect_line_default(node,point,{x:left+p1.x,y:top+p1.y},{x:left+p2.x,y:top+p2.y});intersect&&intersections.push(intersect)}return intersections.length?(intersections.length>1&&intersections.sort((function(p,q){let pdx=p.x-point.x,pdy=p.y-point.y,distp=Math.sqrt(pdx*pdx+pdy*pdy),qdx=q.x-point.x,qdy=q.y-point.y,distq=Math.sqrt(qdx*qdx+qdy*qdy);return distp<distq?-1:distp===distq?0:1})),intersections[0]):node}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(intersectPolygon,"intersectPolygon");var intersect_default={node:intersect_node_default,circle:intersect_circle_default,ellipse:intersect_ellipse_default,polygon:intersectPolygon,rect:intersect_rect_default};function anchor(parent,node){const{labelStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const classes=getNodeClasses(node);let cssClasses=classes;classes||(cssClasses="anchor");const shapeSvg=parent.insert("g").attr("class",cssClasses).attr("id",node.domId||node.id),{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{fill:"black",stroke:"none",fillStyle:"solid"});"handDrawn"!==node.look&&(options.roughness=0);const roughNode=rc.circle(0,0,2,options),circleElem=shapeSvg.insert((()=>roughNode),":first-child");return circleElem.attr("class","anchor").attr("style",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(cssStyles)),updateNodeBounds(node,circleElem),node.intersect=function(point){return _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("Circle intersect",node,1,point),intersect_default.circle(node,1,point)},shapeSvg}function generateArcPoints(x1,y1,x2,y2,rx,ry,clockwise){const midX=(x1+x2)/2,midY=(y1+y2)/2,angle=Math.atan2(y2-y1,x2-x1),transformedX=(x2-x1)/2/rx,transformedY=(y2-y1)/2/ry,distance=Math.sqrt(transformedX**2+transformedY**2);if(distance>1)throw new Error("The given radii are too small to create an arc between the points.");const scaledCenterDistance=Math.sqrt(1-distance**2),centerX=midX+scaledCenterDistance*ry*Math.sin(angle)*(clockwise?-1:1),centerY=midY-scaledCenterDistance*rx*Math.cos(angle)*(clockwise?-1:1),startAngle=Math.atan2((y1-centerY)/ry,(x1-centerX)/rx);let angleRange=Math.atan2((y2-centerY)/ry,(x2-centerX)/rx)-startAngle;clockwise&&angleRange<0&&(angleRange+=2*Math.PI),!clockwise&&angleRange>0&&(angleRange-=2*Math.PI);const points=[];for(let i=0;i<20;i++){const angle2=startAngle+i/19*angleRange,x=centerX+rx*Math.cos(angle2),y=centerY+ry*Math.sin(angle2);points.push({x,y})}return points}async function bowTieRect(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),w=bbox.width+node.padding+20,h=bbox.height+node.padding,ry=h/2,rx=ry/(2.5+h/50),{cssStyles}=node,points=[{x:w/2,y:-h/2},{x:-w/2,y:-h/2},...generateArcPoints(-w/2,-h/2,-w/2,h/2,rx,ry,!1),{x:w/2,y:h/2},...generateArcPoints(w/2,h/2,w/2,-h/2,rx,ry,!0)],rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const bowTieRectPath=createPathFromPoints(points),bowTieRectShapePath=rc.path(bowTieRectPath,options),bowTieRectShape=shapeSvg.insert((()=>bowTieRectShapePath),":first-child");return bowTieRectShape.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&bowTieRectShape.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&bowTieRectShape.selectAll("path").attr("style",nodeStyles),bowTieRectShape.attr("transform",`translate(${rx/2}, 0)`),updateNodeBounds(node,bowTieRectShape),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}function insertPolygonShape(parent,w,h,points){return parent.insert("polygon",":first-child").attr("points",points.map((function(d){return d.x+","+d.y})).join(" ")).attr("class","label-container").attr("transform","translate("+-w/2+","+h/2+")")}async function card(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),h=bbox.height+node.padding,w=bbox.width+node.padding+12,top=-h,points=[{x:12,y:top},{x:w,y:top},{x:w,y:0},{x:0,y:0},{x:0,y:top+12},{x:12,y:top}];let polygon;const{cssStyles}=node;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),pathData=createPathFromPoints(points),roughNode=rc.path(pathData,options);polygon=shapeSvg.insert((()=>roughNode),":first-child").attr("transform",`translate(${-w/2}, ${h/2})`),cssStyles&&polygon.attr("style",cssStyles)}else polygon=insertPolygonShape(shapeSvg,w,h,points);return nodeStyles&&polygon.attr("style",nodeStyles),updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}function choice(parent,node){const{nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.label="";const shapeSvg=parent.insert("g").attr("class",getNodeClasses(node)).attr("id",node.domId??node.id),{cssStyles}=node,s=Math.max(28,node.width??0),points=[{x:0,y:s/2},{x:s/2,y:0},{x:0,y:-s/2},{x:-s/2,y:0}],rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const choicePath=createPathFromPoints(points),roughNode=rc.path(choicePath,options),choiceShape=shapeSvg.insert((()=>roughNode),":first-child");return cssStyles&&"handDrawn"!==node.look&&choiceShape.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&choiceShape.selectAll("path").attr("style",nodeStyles),node.width=28,node.height=28,node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function circle(parent,node,options){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,halfPadding}=await labelHelper(parent,node,getNodeClasses(node)),padding=options?.padding??halfPadding,radius=bbox.width/2+padding;let circleElem;const{cssStyles}=node;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options2=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),roughNode=rc.circle(0,0,2*radius,options2);circleElem=shapeSvg.insert((()=>roughNode),":first-child"),circleElem.attr("class","basic label-container").attr("style",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(cssStyles))}else circleElem=shapeSvg.insert("circle",":first-child").attr("class","basic label-container").attr("style",nodeStyles).attr("r",radius).attr("cx",0).attr("cy",0);return updateNodeBounds(node,circleElem),node.calcIntersect=function(bounds,point){const radius2=bounds.width/2;return intersect_default.circle(bounds,radius2,point)},node.intersect=function(point){return _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("Circle intersect",node,radius,point),intersect_default.circle(node,radius,point)},shapeSvg}function createLine(r){const xAxis45=Math.cos(Math.PI/4),yAxis45=Math.sin(Math.PI/4),lineLength=2*r;return`M ${-lineLength/2*xAxis45},${lineLength/2*yAxis45} L ${lineLength/2*xAxis45},${-lineLength/2*yAxis45}\n                   M ${lineLength/2*xAxis45},${lineLength/2*yAxis45} L ${-lineLength/2*xAxis45},${-lineLength/2*yAxis45}`}function crossedCircle(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles,node.label="";const shapeSvg=parent.insert("g").attr("class",getNodeClasses(node)).attr("id",node.domId??node.id),radius=Math.max(30,node?.width??0),{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const circleNode=rc.circle(0,0,2*radius,options),linePath=createLine(radius),lineNode=rc.path(linePath,options),crossedCircle2=shapeSvg.insert((()=>circleNode),":first-child");return crossedCircle2.insert((()=>lineNode)),cssStyles&&"handDrawn"!==node.look&&crossedCircle2.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&crossedCircle2.selectAll("path").attr("style",nodeStyles),updateNodeBounds(node,crossedCircle2),node.intersect=function(point){_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("crossedCircle intersect",node,{radius,point});return intersect_default.circle(node,radius,point)},shapeSvg}function generateCirclePoints2(centerX,centerY,radius,numPoints=100,startAngle=0,endAngle=180){const points=[],startAngleRad=startAngle*Math.PI/180,angleStep=(endAngle*Math.PI/180-startAngleRad)/(numPoints-1);for(let i=0;i<numPoints;i++){const angle=startAngleRad+i*angleStep,x=centerX+radius*Math.cos(angle),y=centerY+radius*Math.sin(angle);points.push({x:-x,y:-y})}return points}async function curlyBraceLeft(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=bbox.width+(node.padding??0),h=bbox.height+(node.padding??0),radius=Math.max(5,.1*h),{cssStyles}=node,points=[...generateCirclePoints2(w/2,-h/2,radius,30,-90,0),{x:-w/2-radius,y:radius},...generateCirclePoints2(w/2+2*radius,-radius,radius,20,-180,-270),...generateCirclePoints2(w/2+2*radius,radius,radius,20,-90,-180),{x:-w/2-radius,y:-h/2},...generateCirclePoints2(w/2,h/2,radius,20,0,90)],rectPoints=[{x:w/2,y:-h/2-radius},{x:-w/2,y:-h/2-radius},...generateCirclePoints2(w/2,-h/2,radius,20,-90,0),{x:-w/2-radius,y:-radius},...generateCirclePoints2(w/2+.1*w,-radius,radius,20,-180,-270),...generateCirclePoints2(w/2+.1*w,radius,radius,20,-90,-180),{x:-w/2-radius,y:h/2},...generateCirclePoints2(w/2,h/2,radius,20,0,90),{x:-w/2,y:h/2+radius},{x:w/2,y:h/2+radius}],rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{fill:"none"});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const newCurlyBracePath=createPathFromPoints(points).replace("Z",""),curlyBraceLeftNode=rc.path(newCurlyBracePath,options),rectPath=createPathFromPoints(rectPoints),rectShape=rc.path(rectPath,{...options}),curlyBraceLeftShape=shapeSvg.insert("g",":first-child");return curlyBraceLeftShape.insert((()=>rectShape),":first-child").attr("stroke-opacity",0),curlyBraceLeftShape.insert((()=>curlyBraceLeftNode),":first-child"),curlyBraceLeftShape.attr("class","text"),cssStyles&&"handDrawn"!==node.look&&curlyBraceLeftShape.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&curlyBraceLeftShape.selectAll("path").attr("style",nodeStyles),curlyBraceLeftShape.attr("transform",`translate(${radius}, 0)`),label.attr("transform",`translate(${-w/2+radius-(bbox.x-(bbox.left??0))},${-h/2+(node.padding??0)/2-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,curlyBraceLeftShape),node.intersect=function(point){return intersect_default.polygon(node,rectPoints,point)},shapeSvg}function generateCirclePoints3(centerX,centerY,radius,numPoints=100,startAngle=0,endAngle=180){const points=[],startAngleRad=startAngle*Math.PI/180,angleStep=(endAngle*Math.PI/180-startAngleRad)/(numPoints-1);for(let i=0;i<numPoints;i++){const angle=startAngleRad+i*angleStep,x=centerX+radius*Math.cos(angle),y=centerY+radius*Math.sin(angle);points.push({x,y})}return points}async function curlyBraceRight(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=bbox.width+(node.padding??0),h=bbox.height+(node.padding??0),radius=Math.max(5,.1*h),{cssStyles}=node,points=[...generateCirclePoints3(w/2,-h/2,radius,20,-90,0),{x:w/2+radius,y:-radius},...generateCirclePoints3(w/2+2*radius,-radius,radius,20,-180,-270),...generateCirclePoints3(w/2+2*radius,radius,radius,20,-90,-180),{x:w/2+radius,y:h/2},...generateCirclePoints3(w/2,h/2,radius,20,0,90)],rectPoints=[{x:-w/2,y:-h/2-radius},{x:w/2,y:-h/2-radius},...generateCirclePoints3(w/2,-h/2,radius,20,-90,0),{x:w/2+radius,y:-radius},...generateCirclePoints3(w/2+2*radius,-radius,radius,20,-180,-270),...generateCirclePoints3(w/2+2*radius,radius,radius,20,-90,-180),{x:w/2+radius,y:h/2},...generateCirclePoints3(w/2,h/2,radius,20,0,90),{x:w/2,y:h/2+radius},{x:-w/2,y:h/2+radius}],rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{fill:"none"});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const newCurlyBracePath=createPathFromPoints(points).replace("Z",""),curlyBraceRightNode=rc.path(newCurlyBracePath,options),rectPath=createPathFromPoints(rectPoints),rectShape=rc.path(rectPath,{...options}),curlyBraceRightShape=shapeSvg.insert("g",":first-child");return curlyBraceRightShape.insert((()=>rectShape),":first-child").attr("stroke-opacity",0),curlyBraceRightShape.insert((()=>curlyBraceRightNode),":first-child"),curlyBraceRightShape.attr("class","text"),cssStyles&&"handDrawn"!==node.look&&curlyBraceRightShape.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&curlyBraceRightShape.selectAll("path").attr("style",nodeStyles),curlyBraceRightShape.attr("transform",`translate(${-radius}, 0)`),label.attr("transform",`translate(${-w/2+(node.padding??0)/2-(bbox.x-(bbox.left??0))},${-h/2+(node.padding??0)/2-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,curlyBraceRightShape),node.intersect=function(point){return intersect_default.polygon(node,rectPoints,point)},shapeSvg}function generateCirclePoints4(centerX,centerY,radius,numPoints=100,startAngle=0,endAngle=180){const points=[],startAngleRad=startAngle*Math.PI/180,angleStep=(endAngle*Math.PI/180-startAngleRad)/(numPoints-1);for(let i=0;i<numPoints;i++){const angle=startAngleRad+i*angleStep,x=centerX+radius*Math.cos(angle),y=centerY+radius*Math.sin(angle);points.push({x:-x,y:-y})}return points}async function curlyBraces(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=bbox.width+(node.padding??0),h=bbox.height+(node.padding??0),radius=Math.max(5,.1*h),{cssStyles}=node,leftCurlyBracePoints=[...generateCirclePoints4(w/2,-h/2,radius,30,-90,0),{x:-w/2-radius,y:radius},...generateCirclePoints4(w/2+2*radius,-radius,radius,20,-180,-270),...generateCirclePoints4(w/2+2*radius,radius,radius,20,-90,-180),{x:-w/2-radius,y:-h/2},...generateCirclePoints4(w/2,h/2,radius,20,0,90)],rightCurlyBracePoints=[...generateCirclePoints4(-w/2+radius+radius/2,-h/2,radius,20,-90,-180),{x:w/2-radius/2,y:radius},...generateCirclePoints4(-w/2-radius/2,-radius,radius,20,0,90),...generateCirclePoints4(-w/2-radius/2,radius,radius,20,-90,0),{x:w/2-radius/2,y:-radius},...generateCirclePoints4(-w/2+radius+radius/2,h/2,radius,30,-180,-270)],rectPoints=[{x:w/2,y:-h/2-radius},{x:-w/2,y:-h/2-radius},...generateCirclePoints4(w/2,-h/2,radius,20,-90,0),{x:-w/2-radius,y:-radius},...generateCirclePoints4(w/2+2*radius,-radius,radius,20,-180,-270),...generateCirclePoints4(w/2+2*radius,radius,radius,20,-90,-180),{x:-w/2-radius,y:h/2},...generateCirclePoints4(w/2,h/2,radius,20,0,90),{x:-w/2,y:h/2+radius},{x:w/2-radius-radius/2,y:h/2+radius},...generateCirclePoints4(-w/2+radius+radius/2,-h/2,radius,20,-90,-180),{x:w/2-radius/2,y:radius},...generateCirclePoints4(-w/2-radius/2,-radius,radius,20,0,90),...generateCirclePoints4(-w/2-radius/2,radius,radius,20,-90,0),{x:w/2-radius/2,y:-radius},...generateCirclePoints4(-w/2+radius+radius/2,h/2,radius,30,-180,-270)],rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{fill:"none"});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const newLeftCurlyBracePath=createPathFromPoints(leftCurlyBracePoints).replace("Z",""),leftCurlyBraceNode=rc.path(newLeftCurlyBracePath,options),newRightCurlyBracePath=createPathFromPoints(rightCurlyBracePoints).replace("Z",""),rightCurlyBraceNode=rc.path(newRightCurlyBracePath,options),rectPath=createPathFromPoints(rectPoints),rectShape=rc.path(rectPath,{...options}),curlyBracesShape=shapeSvg.insert("g",":first-child");return curlyBracesShape.insert((()=>rectShape),":first-child").attr("stroke-opacity",0),curlyBracesShape.insert((()=>leftCurlyBraceNode),":first-child"),curlyBracesShape.insert((()=>rightCurlyBraceNode),":first-child"),curlyBracesShape.attr("class","text"),cssStyles&&"handDrawn"!==node.look&&curlyBracesShape.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&curlyBracesShape.selectAll("path").attr("style",nodeStyles),curlyBracesShape.attr("transform",`translate(${radius-radius/4}, 0)`),label.attr("transform",`translate(${-w/2+(node.padding??0)/2-(bbox.x-(bbox.left??0))},${-h/2+(node.padding??0)/2-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,curlyBracesShape),node.intersect=function(point){return intersect_default.polygon(node,rectPoints,point)},shapeSvg}async function curvedTrapezoid(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(80,1.25*(bbox.width+2*(node.padding??0)),node?.width??0),h=Math.max(20,bbox.height+2*(node.padding??0),node?.height??0),radius=h/2,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const rw=w-radius,tw=h/4,points=[{x:rw,y:0},{x:tw,y:0},{x:0,y:h/2},{x:tw,y:h},{x:rw,y:h},...generateCirclePoints(-rw,-h/2,radius,50,270,90)],pathData=createPathFromPoints(points),shapeNode=rc.path(pathData,options),polygon=shapeSvg.insert((()=>shapeNode),":first-child");return polygon.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",nodeStyles),polygon.attr("transform",`translate(${-w/2}, ${-h/2})`),updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(anchor,"anchor"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(generateArcPoints,"generateArcPoints"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(bowTieRect,"bowTieRect"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(insertPolygonShape,"insertPolygonShape"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(card,"card"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(choice,"choice"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(circle,"circle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(createLine,"createLine"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(crossedCircle,"crossedCircle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(generateCirclePoints2,"generateCirclePoints"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(curlyBraceLeft,"curlyBraceLeft"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(generateCirclePoints3,"generateCirclePoints"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(curlyBraceRight,"curlyBraceRight"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(generateCirclePoints4,"generateCirclePoints"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(curlyBraces,"curlyBraces"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(curvedTrapezoid,"curvedTrapezoid");var createCylinderPathD=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((x,y,width,height,rx,ry)=>[`M${x},${y+ry}`,`a${rx},${ry} 0,0,0 ${width},0`,`a${rx},${ry} 0,0,0 ${-width},0`,`l0,${height}`,`a${rx},${ry} 0,0,0 ${width},0`,"l0,"+-height].join(" ")),"createCylinderPathD"),createOuterCylinderPathD=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((x,y,width,height,rx,ry)=>[`M${x},${y+ry}`,`M${x+width},${y+ry}`,`a${rx},${ry} 0,0,0 ${-width},0`,`l0,${height}`,`a${rx},${ry} 0,0,0 ${width},0`,"l0,"+-height].join(" ")),"createOuterCylinderPathD"),createInnerCylinderPathD=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((x,y,width,height,rx,ry)=>[`M${x-width/2},${-height/2}`,`a${rx},${ry} 0,0,0 ${width},0`].join(" ")),"createInnerCylinderPathD");async function cylinder(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+node.padding,node.width??0),rx=w/2,ry=rx/(2.5+w/50),h=Math.max(bbox.height+ry+node.padding,node.height??0);let cylinder2;const{cssStyles}=node;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),outerPathData=createOuterCylinderPathD(0,0,w,h,rx,ry),innerPathData=createInnerCylinderPathD(0,ry,w,h,rx,ry),outerNode=rc.path(outerPathData,(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{})),innerLine=rc.path(innerPathData,(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{fill:"none"}));cylinder2=shapeSvg.insert((()=>innerLine),":first-child"),cylinder2=shapeSvg.insert((()=>outerNode),":first-child"),cylinder2.attr("class","basic label-container"),cssStyles&&cylinder2.attr("style",cssStyles)}else{const pathData=createCylinderPathD(0,0,w,h,rx,ry);cylinder2=shapeSvg.insert("path",":first-child").attr("d",pathData).attr("class","basic label-container").attr("style",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(cssStyles)).attr("style",nodeStyles)}return cylinder2.attr("label-offset-y",ry),cylinder2.attr("transform",`translate(${-w/2}, ${-(h/2+ry)})`),updateNodeBounds(node,cylinder2),label.attr("transform",`translate(${-bbox.width/2-(bbox.x-(bbox.left??0))}, ${-bbox.height/2+(node.padding??0)/1.5-(bbox.y-(bbox.top??0))})`),node.intersect=function(point){const pos=intersect_default.rect(node,point),x=pos.x-(node.x??0);if(0!=rx&&(Math.abs(x)<(node.width??0)/2||Math.abs(x)==(node.width??0)/2&&Math.abs(pos.y-(node.y??0))>(node.height??0)/2-ry)){let y=ry*ry*(1-x*x/(rx*rx));y>0&&(y=Math.sqrt(y)),y=ry-y,point.y-(node.y??0)>0&&(y=-y),pos.y+=y}return pos},shapeSvg}async function dividedRectangle(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=bbox.width+node.padding,h=bbox.height+node.padding,rectOffset=.2*h,x=-w/2,y=-h/2-rectOffset/2,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const pts=[{x,y:y+rectOffset},{x:-x,y:y+rectOffset},{x:-x,y:-y},{x,y:-y},{x,y},{x:-x,y},{x:-x,y:y+rectOffset}],poly=rc.polygon(pts.map((p=>[p.x,p.y])),options),polygon=shapeSvg.insert((()=>poly),":first-child");return polygon.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&polygon.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&polygon.selectAll("path").attr("style",nodeStyles),label.attr("transform",`translate(${x+(node.padding??0)/2-(bbox.x-(bbox.left??0))}, ${y+rectOffset+(node.padding??0)/2-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.rect(node,point)},shapeSvg}async function doublecircle(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,halfPadding}=await labelHelper(parent,node,getNodeClasses(node)),outerRadius=bbox.width/2+halfPadding+5,innerRadius=bbox.width/2+halfPadding;let circleGroup;const{cssStyles}=node;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),outerOptions=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{roughness:.2,strokeWidth:2.5}),innerOptions=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{roughness:.2,strokeWidth:1.5}),outerRoughNode=rc.circle(0,0,2*outerRadius,outerOptions),innerRoughNode=rc.circle(0,0,2*innerRadius,innerOptions);circleGroup=shapeSvg.insert("g",":first-child"),circleGroup.attr("class",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(node.cssClasses)).attr("style",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(cssStyles)),circleGroup.node()?.appendChild(outerRoughNode),circleGroup.node()?.appendChild(innerRoughNode)}else{circleGroup=shapeSvg.insert("g",":first-child");const outerCircle=circleGroup.insert("circle",":first-child"),innerCircle=circleGroup.insert("circle");circleGroup.attr("class","basic label-container").attr("style",nodeStyles),outerCircle.attr("class","outer-circle").attr("style",nodeStyles).attr("r",outerRadius).attr("cx",0).attr("cy",0),innerCircle.attr("class","inner-circle").attr("style",nodeStyles).attr("r",innerRadius).attr("cx",0).attr("cy",0)}return updateNodeBounds(node,circleGroup),node.intersect=function(point){return _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("DoubleCircle intersect",node,outerRadius,point),intersect_default.circle(node,outerRadius,point)},shapeSvg}function filledCircle(parent,node,{config:{themeVariables}}){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.label="",node.labelStyle=labelStyles;const shapeSvg=parent.insert("g").attr("class",getNodeClasses(node)).attr("id",node.domId??node.id),{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),{nodeBorder}=themeVariables,options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{fillStyle:"solid"});"handDrawn"!==node.look&&(options.roughness=0);const circleNode=rc.circle(0,0,14,options),filledCircle2=shapeSvg.insert((()=>circleNode),":first-child");return filledCircle2.selectAll("path").attr("style",`fill: ${nodeBorder} !important;`),cssStyles&&cssStyles.length>0&&"handDrawn"!==node.look&&filledCircle2.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&filledCircle2.selectAll("path").attr("style",nodeStyles),updateNodeBounds(node,filledCircle2),node.intersect=function(point){_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("filledCircle intersect",node,{radius:7,point});return intersect_default.circle(node,7,point)},shapeSvg}async function flippedTriangle(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=bbox.width+(node.padding??0),h=w+bbox.height,tw=w+bbox.height,points=[{x:0,y:-h},{x:tw,y:-h},{x:tw/2,y:0}],{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const pathData=createPathFromPoints(points),roughNode=rc.path(pathData,options),flippedTriangle2=shapeSvg.insert((()=>roughNode),":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return cssStyles&&"handDrawn"!==node.look&&flippedTriangle2.selectChildren("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&flippedTriangle2.selectChildren("path").attr("style",nodeStyles),node.width=w,node.height=h,updateNodeBounds(node,flippedTriangle2),label.attr("transform",`translate(${-bbox.width/2-(bbox.x-(bbox.left??0))}, ${-h/2+(node.padding??0)/2+(bbox.y-(bbox.top??0))})`),node.intersect=function(point){return _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("Triangle intersect",node,points,point),intersect_default.polygon(node,points,point)},shapeSvg}function forkJoin(parent,node,{dir,config:{state:state2,themeVariables}}){const{nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.label="";const shapeSvg=parent.insert("g").attr("class",getNodeClasses(node)).attr("id",node.domId??node.id),{cssStyles}=node;let width=Math.max(70,node?.width??0),height=Math.max(10,node?.height??0);"LR"===dir&&(width=Math.max(10,node?.width??0),height=Math.max(70,node?.height??0));const x=-1*width/2,y=-1*height/2,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{stroke:themeVariables.lineColor,fill:themeVariables.lineColor});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const roughNode=rc.rectangle(x,y,width,height,options),shape=shapeSvg.insert((()=>roughNode),":first-child");cssStyles&&"handDrawn"!==node.look&&shape.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&shape.selectAll("path").attr("style",nodeStyles),updateNodeBounds(node,shape);const padding=state2?.padding??0;return node.width&&node.height&&(node.width+=padding/2||0,node.height+=padding/2||0),node.intersect=function(point){return intersect_default.rect(node,point)},shapeSvg}async function halfRoundedRectangle(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(80,bbox.width+2*(node.padding??0),node?.width??0),h=Math.max(50,bbox.height+2*(node.padding??0),node?.height??0),radius=h/2,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const points=[{x:-w/2,y:-h/2},{x:w/2-radius,y:-h/2},...generateCirclePoints(-w/2+radius,0,radius,50,90,270),{x:w/2-radius,y:h/2},{x:-w/2,y:h/2}],pathData=createPathFromPoints(points),shapeNode=rc.path(pathData,options),polygon=shapeSvg.insert((()=>shapeNode),":first-child");return polygon.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",nodeStyles),updateNodeBounds(node,polygon),node.intersect=function(point){_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("Pill intersect",node,{radius,point});return intersect_default.polygon(node,points,point)},shapeSvg}async function hexagon(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),h=bbox.height+(node.padding??0),w=bbox.width+2.5*(node.padding??0),{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");let halfWidth=w/2;halfWidth+=halfWidth/6;const halfHeight=h/2,deducedWidth=halfWidth-halfHeight/2,points=[{x:-deducedWidth,y:-halfHeight},{x:0,y:-halfHeight},{x:deducedWidth,y:-halfHeight},{x:halfWidth,y:0},{x:deducedWidth,y:halfHeight},{x:0,y:halfHeight},{x:-deducedWidth,y:halfHeight},{x:-halfWidth,y:0}],pathData=createPathFromPoints(points),shapeNode=rc.path(pathData,options),polygon=shapeSvg.insert((()=>shapeNode),":first-child");return polygon.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",nodeStyles),node.width=w,node.height=h,updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function hourglass(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.label="",node.labelStyle=labelStyles;const{shapeSvg}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(30,node?.width??0),h=Math.max(30,node?.height??0),{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const points=[{x:0,y:0},{x:w,y:0},{x:0,y:h},{x:w,y:h}],pathData=createPathFromPoints(points),shapeNode=rc.path(pathData,options),polygon=shapeSvg.insert((()=>shapeNode),":first-child");return polygon.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",nodeStyles),polygon.attr("transform",`translate(${-w/2}, ${-h/2})`),updateNodeBounds(node,polygon),node.intersect=function(point){_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("Pill intersect",node,{points});return intersect_default.polygon(node,points,point)},shapeSvg}async function icon(parent,node,{config:{themeVariables,flowchart}}){const{labelStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const assetHeight=node.assetHeight??48,assetWidth=node.assetWidth??48,iconSize=Math.max(assetHeight,assetWidth),defaultWidth=flowchart?.wrappingWidth;node.width=Math.max(iconSize,defaultWidth??0);const{shapeSvg,bbox,label}=await labelHelper(parent,node,"icon-shape default"),topLabel="t"===node.pos,height=iconSize,width=iconSize,{nodeBorder}=themeVariables,{stylesMap}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.WW)(node),x=-width/2,y=-height/2,labelPadding=node.label?8:0,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{stroke:"none",fill:"none"});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const iconNode=rc.rectangle(x,y,width,height,options),outerWidth=Math.max(width,bbox.width),outerHeight=height+bbox.height+labelPadding,outerNode=rc.rectangle(-outerWidth/2,-outerHeight/2,outerWidth,outerHeight,{...options,fill:"transparent",stroke:"none"}),iconShape=shapeSvg.insert((()=>iconNode),":first-child"),outerShape=shapeSvg.insert((()=>outerNode));if(node.icon){const iconElem=shapeSvg.append("g");iconElem.html(`<g>${await(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.WY)(node.icon,{height:iconSize,width:iconSize,fallbackPrefix:""})}</g>`);const iconBBox=iconElem.node().getBBox(),iconWidth=iconBBox.width,iconHeight=iconBBox.height,iconX=iconBBox.x,iconY=iconBBox.y;iconElem.attr("transform",`translate(${-iconWidth/2-iconX},${topLabel?bbox.height/2+labelPadding/2-iconHeight/2-iconY:-bbox.height/2-labelPadding/2-iconHeight/2-iconY})`),iconElem.attr("style",`color: ${stylesMap.get("stroke")??nodeBorder};`)}return label.attr("transform",`translate(${-bbox.width/2-(bbox.x-(bbox.left??0))},${topLabel?-outerHeight/2:outerHeight/2-bbox.height})`),iconShape.attr("transform",`translate(0,${topLabel?bbox.height/2+labelPadding/2:-bbox.height/2-labelPadding/2})`),updateNodeBounds(node,outerShape),node.intersect=function(point){if(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("iconSquare intersect",node,point),!node.label)return intersect_default.rect(node,point);const dx=node.x??0,dy=node.y??0,nodeHeight=node.height??0;let points=[];points=topLabel?[{x:dx-bbox.width/2,y:dy-nodeHeight/2},{x:dx+bbox.width/2,y:dy-nodeHeight/2},{x:dx+bbox.width/2,y:dy-nodeHeight/2+bbox.height+labelPadding},{x:dx+width/2,y:dy-nodeHeight/2+bbox.height+labelPadding},{x:dx+width/2,y:dy+nodeHeight/2},{x:dx-width/2,y:dy+nodeHeight/2},{x:dx-width/2,y:dy-nodeHeight/2+bbox.height+labelPadding},{x:dx-bbox.width/2,y:dy-nodeHeight/2+bbox.height+labelPadding}]:[{x:dx-width/2,y:dy-nodeHeight/2},{x:dx+width/2,y:dy-nodeHeight/2},{x:dx+width/2,y:dy-nodeHeight/2+height},{x:dx+bbox.width/2,y:dy-nodeHeight/2+height},{x:dx+bbox.width/2/2,y:dy+nodeHeight/2},{x:dx-bbox.width/2,y:dy+nodeHeight/2},{x:dx-bbox.width/2,y:dy-nodeHeight/2+height},{x:dx-width/2,y:dy-nodeHeight/2+height}];return intersect_default.polygon(node,points,point)},shapeSvg}async function iconCircle(parent,node,{config:{themeVariables,flowchart}}){const{labelStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const assetHeight=node.assetHeight??48,assetWidth=node.assetWidth??48,iconSize=Math.max(assetHeight,assetWidth),defaultWidth=flowchart?.wrappingWidth;node.width=Math.max(iconSize,defaultWidth??0);const{shapeSvg,bbox,label}=await labelHelper(parent,node,"icon-shape default"),labelPadding=node.label?8:0,topLabel="t"===node.pos,{nodeBorder,mainBkg}=themeVariables,{stylesMap}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.WW)(node),rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const fill=stylesMap.get("fill");options.stroke=fill??mainBkg;const iconElem=shapeSvg.append("g");node.icon&&iconElem.html(`<g>${await(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.WY)(node.icon,{height:iconSize,width:iconSize,fallbackPrefix:""})}</g>`);const iconBBox=iconElem.node().getBBox(),iconWidth=iconBBox.width,iconHeight=iconBBox.height,iconX=iconBBox.x,iconY=iconBBox.y,diameter=Math.max(iconWidth,iconHeight)*Math.SQRT2+40,iconNode=rc.circle(0,0,diameter,options),outerWidth=Math.max(diameter,bbox.width),outerHeight=diameter+bbox.height+labelPadding,outerNode=rc.rectangle(-outerWidth/2,-outerHeight/2,outerWidth,outerHeight,{...options,fill:"transparent",stroke:"none"}),iconShape=shapeSvg.insert((()=>iconNode),":first-child"),outerShape=shapeSvg.insert((()=>outerNode));return iconElem.attr("transform",`translate(${-iconWidth/2-iconX},${topLabel?bbox.height/2+labelPadding/2-iconHeight/2-iconY:-bbox.height/2-labelPadding/2-iconHeight/2-iconY})`),iconElem.attr("style",`color: ${stylesMap.get("stroke")??nodeBorder};`),label.attr("transform",`translate(${-bbox.width/2-(bbox.x-(bbox.left??0))},${topLabel?-outerHeight/2:outerHeight/2-bbox.height})`),iconShape.attr("transform",`translate(0,${topLabel?bbox.height/2+labelPadding/2:-bbox.height/2-labelPadding/2})`),updateNodeBounds(node,outerShape),node.intersect=function(point){_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("iconSquare intersect",node,point);return intersect_default.rect(node,point)},shapeSvg}async function iconRounded(parent,node,{config:{themeVariables,flowchart}}){const{labelStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const assetHeight=node.assetHeight??48,assetWidth=node.assetWidth??48,iconSize=Math.max(assetHeight,assetWidth),defaultWidth=flowchart?.wrappingWidth;node.width=Math.max(iconSize,defaultWidth??0);const{shapeSvg,bbox,halfPadding,label}=await labelHelper(parent,node,"icon-shape default"),topLabel="t"===node.pos,height=iconSize+2*halfPadding,width=iconSize+2*halfPadding,{nodeBorder,mainBkg}=themeVariables,{stylesMap}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.WW)(node),x=-width/2,y=-height/2,labelPadding=node.label?8:0,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const fill=stylesMap.get("fill");options.stroke=fill??mainBkg;const iconNode=rc.path(createRoundedRectPathD(x,y,width,height,5),options),outerWidth=Math.max(width,bbox.width),outerHeight=height+bbox.height+labelPadding,outerNode=rc.rectangle(-outerWidth/2,-outerHeight/2,outerWidth,outerHeight,{...options,fill:"transparent",stroke:"none"}),iconShape=shapeSvg.insert((()=>iconNode),":first-child").attr("class","icon-shape2"),outerShape=shapeSvg.insert((()=>outerNode));if(node.icon){const iconElem=shapeSvg.append("g");iconElem.html(`<g>${await(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.WY)(node.icon,{height:iconSize,width:iconSize,fallbackPrefix:""})}</g>`);const iconBBox=iconElem.node().getBBox(),iconWidth=iconBBox.width,iconHeight=iconBBox.height,iconX=iconBBox.x,iconY=iconBBox.y;iconElem.attr("transform",`translate(${-iconWidth/2-iconX},${topLabel?bbox.height/2+labelPadding/2-iconHeight/2-iconY:-bbox.height/2-labelPadding/2-iconHeight/2-iconY})`),iconElem.attr("style",`color: ${stylesMap.get("stroke")??nodeBorder};`)}return label.attr("transform",`translate(${-bbox.width/2-(bbox.x-(bbox.left??0))},${topLabel?-outerHeight/2:outerHeight/2-bbox.height})`),iconShape.attr("transform",`translate(0,${topLabel?bbox.height/2+labelPadding/2:-bbox.height/2-labelPadding/2})`),updateNodeBounds(node,outerShape),node.intersect=function(point){if(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("iconSquare intersect",node,point),!node.label)return intersect_default.rect(node,point);const dx=node.x??0,dy=node.y??0,nodeHeight=node.height??0;let points=[];points=topLabel?[{x:dx-bbox.width/2,y:dy-nodeHeight/2},{x:dx+bbox.width/2,y:dy-nodeHeight/2},{x:dx+bbox.width/2,y:dy-nodeHeight/2+bbox.height+labelPadding},{x:dx+width/2,y:dy-nodeHeight/2+bbox.height+labelPadding},{x:dx+width/2,y:dy+nodeHeight/2},{x:dx-width/2,y:dy+nodeHeight/2},{x:dx-width/2,y:dy-nodeHeight/2+bbox.height+labelPadding},{x:dx-bbox.width/2,y:dy-nodeHeight/2+bbox.height+labelPadding}]:[{x:dx-width/2,y:dy-nodeHeight/2},{x:dx+width/2,y:dy-nodeHeight/2},{x:dx+width/2,y:dy-nodeHeight/2+height},{x:dx+bbox.width/2,y:dy-nodeHeight/2+height},{x:dx+bbox.width/2/2,y:dy+nodeHeight/2},{x:dx-bbox.width/2,y:dy+nodeHeight/2},{x:dx-bbox.width/2,y:dy-nodeHeight/2+height},{x:dx-width/2,y:dy-nodeHeight/2+height}];return intersect_default.polygon(node,points,point)},shapeSvg}async function iconSquare(parent,node,{config:{themeVariables,flowchart}}){const{labelStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const assetHeight=node.assetHeight??48,assetWidth=node.assetWidth??48,iconSize=Math.max(assetHeight,assetWidth),defaultWidth=flowchart?.wrappingWidth;node.width=Math.max(iconSize,defaultWidth??0);const{shapeSvg,bbox,halfPadding,label}=await labelHelper(parent,node,"icon-shape default"),topLabel="t"===node.pos,height=iconSize+2*halfPadding,width=iconSize+2*halfPadding,{nodeBorder,mainBkg}=themeVariables,{stylesMap}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.WW)(node),x=-width/2,y=-height/2,labelPadding=node.label?8:0,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const fill=stylesMap.get("fill");options.stroke=fill??mainBkg;const iconNode=rc.path(createRoundedRectPathD(x,y,width,height,.1),options),outerWidth=Math.max(width,bbox.width),outerHeight=height+bbox.height+labelPadding,outerNode=rc.rectangle(-outerWidth/2,-outerHeight/2,outerWidth,outerHeight,{...options,fill:"transparent",stroke:"none"}),iconShape=shapeSvg.insert((()=>iconNode),":first-child"),outerShape=shapeSvg.insert((()=>outerNode));if(node.icon){const iconElem=shapeSvg.append("g");iconElem.html(`<g>${await(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.WY)(node.icon,{height:iconSize,width:iconSize,fallbackPrefix:""})}</g>`);const iconBBox=iconElem.node().getBBox(),iconWidth=iconBBox.width,iconHeight=iconBBox.height,iconX=iconBBox.x,iconY=iconBBox.y;iconElem.attr("transform",`translate(${-iconWidth/2-iconX},${topLabel?bbox.height/2+labelPadding/2-iconHeight/2-iconY:-bbox.height/2-labelPadding/2-iconHeight/2-iconY})`),iconElem.attr("style",`color: ${stylesMap.get("stroke")??nodeBorder};`)}return label.attr("transform",`translate(${-bbox.width/2-(bbox.x-(bbox.left??0))},${topLabel?-outerHeight/2:outerHeight/2-bbox.height})`),iconShape.attr("transform",`translate(0,${topLabel?bbox.height/2+labelPadding/2:-bbox.height/2-labelPadding/2})`),updateNodeBounds(node,outerShape),node.intersect=function(point){if(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("iconSquare intersect",node,point),!node.label)return intersect_default.rect(node,point);const dx=node.x??0,dy=node.y??0,nodeHeight=node.height??0;let points=[];points=topLabel?[{x:dx-bbox.width/2,y:dy-nodeHeight/2},{x:dx+bbox.width/2,y:dy-nodeHeight/2},{x:dx+bbox.width/2,y:dy-nodeHeight/2+bbox.height+labelPadding},{x:dx+width/2,y:dy-nodeHeight/2+bbox.height+labelPadding},{x:dx+width/2,y:dy+nodeHeight/2},{x:dx-width/2,y:dy+nodeHeight/2},{x:dx-width/2,y:dy-nodeHeight/2+bbox.height+labelPadding},{x:dx-bbox.width/2,y:dy-nodeHeight/2+bbox.height+labelPadding}]:[{x:dx-width/2,y:dy-nodeHeight/2},{x:dx+width/2,y:dy-nodeHeight/2},{x:dx+width/2,y:dy-nodeHeight/2+height},{x:dx+bbox.width/2,y:dy-nodeHeight/2+height},{x:dx+bbox.width/2/2,y:dy+nodeHeight/2},{x:dx-bbox.width/2,y:dy+nodeHeight/2},{x:dx-bbox.width/2,y:dy-nodeHeight/2+height},{x:dx-width/2,y:dy-nodeHeight/2+height}];return intersect_default.polygon(node,points,point)},shapeSvg}async function imageSquare(parent,node,{config:{flowchart}}){const img=new Image;img.src=node?.img??"",await img.decode();const imageNaturalWidth=Number(img.naturalWidth.toString().replace("px","")),imageNaturalHeight=Number(img.naturalHeight.toString().replace("px",""));node.imageAspectRatio=imageNaturalWidth/imageNaturalHeight;const{labelStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const defaultWidth=flowchart?.wrappingWidth;node.defaultWidth=flowchart?.wrappingWidth;const imageRawWidth=Math.max(node.label?defaultWidth??0:0,node?.assetWidth??imageNaturalWidth),imageWidth="on"===node.constraint&&node?.assetHeight?node.assetHeight*node.imageAspectRatio:imageRawWidth,imageHeight="on"===node.constraint?imageWidth/node.imageAspectRatio:node?.assetHeight??imageNaturalHeight;node.width=Math.max(imageWidth,defaultWidth??0);const{shapeSvg,bbox,label}=await labelHelper(parent,node,"image-shape default"),topLabel="t"===node.pos,x=-imageWidth/2,y=-imageHeight/2,labelPadding=node.label?8:0,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const imageNode=rc.rectangle(x,y,imageWidth,imageHeight,options),outerWidth=Math.max(imageWidth,bbox.width),outerHeight=imageHeight+bbox.height+labelPadding,outerNode=rc.rectangle(-outerWidth/2,-outerHeight/2,outerWidth,outerHeight,{...options,fill:"none",stroke:"none"}),iconShape=shapeSvg.insert((()=>imageNode),":first-child"),outerShape=shapeSvg.insert((()=>outerNode));if(node.img){const image=shapeSvg.append("image");image.attr("href",node.img),image.attr("width",imageWidth),image.attr("height",imageHeight),image.attr("preserveAspectRatio","none"),image.attr("transform",`translate(${-imageWidth/2},${topLabel?outerHeight/2-imageHeight:-outerHeight/2})`)}return label.attr("transform",`translate(${-bbox.width/2-(bbox.x-(bbox.left??0))},${topLabel?-imageHeight/2-bbox.height/2-labelPadding/2:imageHeight/2-bbox.height/2+labelPadding/2})`),iconShape.attr("transform",`translate(0,${topLabel?bbox.height/2+labelPadding/2:-bbox.height/2-labelPadding/2})`),updateNodeBounds(node,outerShape),node.intersect=function(point){if(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("iconSquare intersect",node,point),!node.label)return intersect_default.rect(node,point);const dx=node.x??0,dy=node.y??0,nodeHeight=node.height??0;let points=[];points=topLabel?[{x:dx-bbox.width/2,y:dy-nodeHeight/2},{x:dx+bbox.width/2,y:dy-nodeHeight/2},{x:dx+bbox.width/2,y:dy-nodeHeight/2+bbox.height+labelPadding},{x:dx+imageWidth/2,y:dy-nodeHeight/2+bbox.height+labelPadding},{x:dx+imageWidth/2,y:dy+nodeHeight/2},{x:dx-imageWidth/2,y:dy+nodeHeight/2},{x:dx-imageWidth/2,y:dy-nodeHeight/2+bbox.height+labelPadding},{x:dx-bbox.width/2,y:dy-nodeHeight/2+bbox.height+labelPadding}]:[{x:dx-imageWidth/2,y:dy-nodeHeight/2},{x:dx+imageWidth/2,y:dy-nodeHeight/2},{x:dx+imageWidth/2,y:dy-nodeHeight/2+imageHeight},{x:dx+bbox.width/2,y:dy-nodeHeight/2+imageHeight},{x:dx+bbox.width/2/2,y:dy+nodeHeight/2},{x:dx-bbox.width/2,y:dy+nodeHeight/2},{x:dx-bbox.width/2,y:dy-nodeHeight/2+imageHeight},{x:dx-imageWidth/2,y:dy-nodeHeight/2+imageHeight}];return intersect_default.polygon(node,points,point)},shapeSvg}async function inv_trapezoid(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+2*(node.padding??0),node?.width??0),h=Math.max(bbox.height+2*(node.padding??0),node?.height??0),points=[{x:0,y:0},{x:w,y:0},{x:w+3*h/6,y:-h},{x:-3*h/6,y:-h}];let polygon;const{cssStyles}=node;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),pathData=createPathFromPoints(points),roughNode=rc.path(pathData,options);polygon=shapeSvg.insert((()=>roughNode),":first-child").attr("transform",`translate(${-w/2}, ${h/2})`),cssStyles&&polygon.attr("style",cssStyles)}else polygon=insertPolygonShape(shapeSvg,w,h,points);return nodeStyles&&polygon.attr("style",nodeStyles),node.width=w,node.height=h,updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function drawRect(parent,node,options){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),totalWidth=Math.max(bbox.width+2*options.labelPaddingX,node?.width||0),totalHeight=Math.max(bbox.height+2*options.labelPaddingY,node?.height||0),x=-totalWidth/2,y=-totalHeight/2;let rect2,{rx,ry}=node;const{cssStyles}=node;if(options?.rx&&options.ry&&(rx=options.rx,ry=options.ry),"handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options2=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),roughNode=rx||ry?rc.path(createRoundedRectPathD(x,y,totalWidth,totalHeight,rx||0),options2):rc.rectangle(x,y,totalWidth,totalHeight,options2);rect2=shapeSvg.insert((()=>roughNode),":first-child"),rect2.attr("class","basic label-container").attr("style",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(cssStyles))}else rect2=shapeSvg.insert("rect",":first-child"),rect2.attr("class","basic label-container").attr("style",nodeStyles).attr("rx",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(rx)).attr("ry",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(ry)).attr("x",x).attr("y",y).attr("width",totalWidth).attr("height",totalHeight);return updateNodeBounds(node,rect2),node.calcIntersect=function(bounds,point){return intersect_default.rect(bounds,point)},node.intersect=function(point){return intersect_default.rect(node,point)},shapeSvg}async function labelRect(parent,node){const{shapeSvg,bbox,label}=await labelHelper(parent,node,"label"),rect2=shapeSvg.insert("rect",":first-child");return rect2.attr("width",.1).attr("height",.1),shapeSvg.attr("class","label edgeLabel"),label.attr("transform",`translate(${-bbox.width/2-(bbox.x-(bbox.left??0))}, ${-bbox.height/2-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,rect2),node.intersect=function(point){return intersect_default.rect(node,point)},shapeSvg}async function lean_left(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+(node.padding??0),node?.width??0),h=Math.max(bbox.height+(node.padding??0),node?.height??0),points=[{x:0,y:0},{x:w+3*h/6,y:0},{x:w,y:-h},{x:-3*h/6,y:-h}];let polygon;const{cssStyles}=node;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),pathData=createPathFromPoints(points),roughNode=rc.path(pathData,options);polygon=shapeSvg.insert((()=>roughNode),":first-child").attr("transform",`translate(${-w/2}, ${h/2})`),cssStyles&&polygon.attr("style",cssStyles)}else polygon=insertPolygonShape(shapeSvg,w,h,points);return nodeStyles&&polygon.attr("style",nodeStyles),node.width=w,node.height=h,updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function lean_right(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+(node.padding??0),node?.width??0),h=Math.max(bbox.height+(node.padding??0),node?.height??0),points=[{x:-3*h/6,y:0},{x:w,y:0},{x:w+3*h/6,y:-h},{x:0,y:-h}];let polygon;const{cssStyles}=node;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),pathData=createPathFromPoints(points),roughNode=rc.path(pathData,options);polygon=shapeSvg.insert((()=>roughNode),":first-child").attr("transform",`translate(${-w/2}, ${h/2})`),cssStyles&&polygon.attr("style",cssStyles)}else polygon=insertPolygonShape(shapeSvg,w,h,points);return nodeStyles&&polygon.attr("style",nodeStyles),node.width=w,node.height=h,updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}function lightningBolt(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.label="",node.labelStyle=labelStyles;const shapeSvg=parent.insert("g").attr("class",getNodeClasses(node)).attr("id",node.domId??node.id),{cssStyles}=node,width=Math.max(35,node?.width??0),height=Math.max(35,node?.height??0),points=[{x:width,y:0},{x:0,y:height+3.5},{x:width-14,y:height+3.5},{x:0,y:2*height},{x:width,y:height-3.5},{x:14,y:height-3.5}],rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const linePath=createPathFromPoints(points),lineNode=rc.path(linePath,options),lightningBolt2=shapeSvg.insert((()=>lineNode),":first-child");return cssStyles&&"handDrawn"!==node.look&&lightningBolt2.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&lightningBolt2.selectAll("path").attr("style",nodeStyles),lightningBolt2.attr("transform",`translate(-${width/2},${-height})`),updateNodeBounds(node,lightningBolt2),node.intersect=function(point){_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("lightningBolt intersect",node,point);return intersect_default.polygon(node,points,point)},shapeSvg}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(cylinder,"cylinder"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(dividedRectangle,"dividedRectangle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(doublecircle,"doublecircle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(filledCircle,"filledCircle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(flippedTriangle,"flippedTriangle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(forkJoin,"forkJoin"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(halfRoundedRectangle,"halfRoundedRectangle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(hexagon,"hexagon"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(hourglass,"hourglass"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(icon,"icon"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(iconCircle,"iconCircle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(iconRounded,"iconRounded"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(iconSquare,"iconSquare"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(imageSquare,"imageSquare"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(inv_trapezoid,"inv_trapezoid"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(drawRect,"drawRect"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(labelRect,"labelRect"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(lean_left,"lean_left"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(lean_right,"lean_right"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(lightningBolt,"lightningBolt");var createCylinderPathD2=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((x,y,width,height,rx,ry,outerOffset)=>[`M${x},${y+ry}`,`a${rx},${ry} 0,0,0 ${width},0`,`a${rx},${ry} 0,0,0 ${-width},0`,`l0,${height}`,`a${rx},${ry} 0,0,0 ${width},0`,"l0,"+-height,`M${x},${y+ry+outerOffset}`,`a${rx},${ry} 0,0,0 ${width},0`].join(" ")),"createCylinderPathD"),createOuterCylinderPathD2=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((x,y,width,height,rx,ry,outerOffset)=>[`M${x},${y+ry}`,`M${x+width},${y+ry}`,`a${rx},${ry} 0,0,0 ${-width},0`,`l0,${height}`,`a${rx},${ry} 0,0,0 ${width},0`,"l0,"+-height,`M${x},${y+ry+outerOffset}`,`a${rx},${ry} 0,0,0 ${width},0`].join(" ")),"createOuterCylinderPathD"),createInnerCylinderPathD2=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((x,y,width,height,rx,ry)=>[`M${x-width/2},${-height/2}`,`a${rx},${ry} 0,0,0 ${width},0`].join(" ")),"createInnerCylinderPathD");async function linedCylinder(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+(node.padding??0),node.width??0),rx=w/2,ry=rx/(2.5+w/50),h=Math.max(bbox.height+ry+(node.padding??0),node.height??0),outerOffset=.1*h;let cylinder2;const{cssStyles}=node;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),outerPathData=createOuterCylinderPathD2(0,0,w,h,rx,ry,outerOffset),innerPathData=createInnerCylinderPathD2(0,ry,w,h,rx,ry),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),outerNode=rc.path(outerPathData,options),innerLine=rc.path(innerPathData,options);shapeSvg.insert((()=>innerLine),":first-child").attr("class","line"),cylinder2=shapeSvg.insert((()=>outerNode),":first-child"),cylinder2.attr("class","basic label-container"),cssStyles&&cylinder2.attr("style",cssStyles)}else{const pathData=createCylinderPathD2(0,0,w,h,rx,ry,outerOffset);cylinder2=shapeSvg.insert("path",":first-child").attr("d",pathData).attr("class","basic label-container").attr("style",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(cssStyles)).attr("style",nodeStyles)}return cylinder2.attr("label-offset-y",ry),cylinder2.attr("transform",`translate(${-w/2}, ${-(h/2+ry)})`),updateNodeBounds(node,cylinder2),label.attr("transform",`translate(${-bbox.width/2-(bbox.x-(bbox.left??0))}, ${-bbox.height/2+ry-(bbox.y-(bbox.top??0))})`),node.intersect=function(point){const pos=intersect_default.rect(node,point),x=pos.x-(node.x??0);if(0!=rx&&(Math.abs(x)<(node.width??0)/2||Math.abs(x)==(node.width??0)/2&&Math.abs(pos.y-(node.y??0))>(node.height??0)/2-ry)){let y=ry*ry*(1-x*x/(rx*rx));y>0&&(y=Math.sqrt(y)),y=ry-y,point.y-(node.y??0)>0&&(y=-y),pos.y+=y}return pos},shapeSvg}async function linedWaveEdgedRect(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+2*(node.padding??0),node?.width??0),h=Math.max(bbox.height+2*(node.padding??0),node?.height??0),waveAmplitude=h/4,finalH=h+waveAmplitude,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const points=[{x:-w/2-w/2*.1,y:-finalH/2},{x:-w/2-w/2*.1,y:finalH/2},...generateFullSineWavePoints(-w/2-w/2*.1,finalH/2,w/2+w/2*.1,finalH/2,waveAmplitude,.8),{x:w/2+w/2*.1,y:-finalH/2},{x:-w/2-w/2*.1,y:-finalH/2},{x:-w/2,y:-finalH/2},{x:-w/2,y:finalH/2*1.1},{x:-w/2,y:-finalH/2}],poly=rc.polygon(points.map((p=>[p.x,p.y])),options),waveEdgeRect=shapeSvg.insert((()=>poly),":first-child");return waveEdgeRect.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&waveEdgeRect.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&waveEdgeRect.selectAll("path").attr("style",nodeStyles),waveEdgeRect.attr("transform",`translate(0,${-waveAmplitude/2})`),label.attr("transform",`translate(${-w/2+(node.padding??0)+w/2*.1/2-(bbox.x-(bbox.left??0))},${-h/2+(node.padding??0)-waveAmplitude/2-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,waveEdgeRect),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function multiRect(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+2*(node.padding??0),node?.width??0),h=Math.max(bbox.height+2*(node.padding??0),node?.height??0),x=-w/2,y=-h/2,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),outerPathPoints=[{x:x-5,y:y+5},{x:x-5,y:y+h+5},{x:x+w-5,y:y+h+5},{x:x+w-5,y:y+h},{x:x+w,y:y+h},{x:x+w,y:y+h-5},{x:x+w+5,y:y+h-5},{x:x+w+5,y:y-5},{x:x+5,y:y-5},{x:x+5,y},{x,y},{x,y:y+5}],innerPathPoints=[{x,y:y+5},{x:x+w-5,y:y+5},{x:x+w-5,y:y+h},{x:x+w,y:y+h},{x:x+w,y},{x,y}];"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const outerPath=createPathFromPoints(outerPathPoints),outerNode=rc.path(outerPath,options),innerPath=createPathFromPoints(innerPathPoints),innerNode=rc.path(innerPath,{...options,fill:"none"}),multiRect2=shapeSvg.insert((()=>innerNode),":first-child");return multiRect2.insert((()=>outerNode),":first-child"),multiRect2.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&multiRect2.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&multiRect2.selectAll("path").attr("style",nodeStyles),label.attr("transform",`translate(${-bbox.width/2-5-(bbox.x-(bbox.left??0))}, ${-bbox.height/2+5-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,multiRect2),node.intersect=function(point){return intersect_default.polygon(node,outerPathPoints,point)},shapeSvg}async function multiWaveEdgedRectangle(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+2*(node.padding??0),node?.width??0),h=Math.max(bbox.height+2*(node.padding??0),node?.height??0),waveAmplitude=h/4,finalH=h+waveAmplitude,x=-w/2,y=-finalH/2,{cssStyles}=node,wavePoints=generateFullSineWavePoints(x-5,y+finalH+5,x+w-5,y+finalH+5,waveAmplitude,.8),lastWavePoint=wavePoints?.[wavePoints.length-1],outerPathPoints=[{x:x-5,y:y+5},{x:x-5,y:y+finalH+5},...wavePoints,{x:x+w-5,y:lastWavePoint.y-5},{x:x+w,y:lastWavePoint.y-5},{x:x+w,y:lastWavePoint.y-10},{x:x+w+5,y:lastWavePoint.y-10},{x:x+w+5,y:y-5},{x:x+5,y:y-5},{x:x+5,y},{x,y},{x,y:y+5}],innerPathPoints=[{x,y:y+5},{x:x+w-5,y:y+5},{x:x+w-5,y:lastWavePoint.y-5},{x:x+w,y:lastWavePoint.y-5},{x:x+w,y},{x,y}],rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const outerPath=createPathFromPoints(outerPathPoints),outerNode=rc.path(outerPath,options),innerPath=createPathFromPoints(innerPathPoints),innerNode=rc.path(innerPath,options),shape=shapeSvg.insert((()=>outerNode),":first-child");return shape.insert((()=>innerNode)),shape.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&shape.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&shape.selectAll("path").attr("style",nodeStyles),shape.attr("transform",`translate(0,${-waveAmplitude/2})`),label.attr("transform",`translate(${-bbox.width/2-5-(bbox.x-(bbox.left??0))}, ${-bbox.height/2+5-waveAmplitude/2-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,shape),node.intersect=function(point){return intersect_default.polygon(node,outerPathPoints,point)},shapeSvg}async function note(parent,node,{config:{themeVariables}}){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;node.useHtmlLabels||!1!==(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.zj)().flowchart?.htmlLabels||(node.centerLabel=!0);const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),totalWidth=Math.max(bbox.width+2*(node.padding??0),node?.width??0),totalHeight=Math.max(bbox.height+2*(node.padding??0),node?.height??0),x=-totalWidth/2,y=-totalHeight/2,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{fill:themeVariables.noteBkgColor,stroke:themeVariables.noteBorderColor});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const noteShapeNode=rc.rectangle(x,y,totalWidth,totalHeight,options),rect2=shapeSvg.insert((()=>noteShapeNode),":first-child");return rect2.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&rect2.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&rect2.selectAll("path").attr("style",nodeStyles),label.attr("transform",`translate(${-bbox.width/2-(bbox.x-(bbox.left??0))}, ${-bbox.height/2-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,rect2),node.intersect=function(point){return intersect_default.rect(node,point)},shapeSvg}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(linedCylinder,"linedCylinder"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(linedWaveEdgedRect,"linedWaveEdgedRect"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(multiRect,"multiRect"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(multiWaveEdgedRectangle,"multiWaveEdgedRectangle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(note,"note");var createDecisionBoxPathD=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((x,y,size)=>[`M${x+size/2},${y}`,`L${x+size},${y-size/2}`,`L${x+size/2},${y-size}`,`L${x},${y-size/2}`,"Z"].join(" ")),"createDecisionBoxPathD");async function question(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),s=bbox.width+node.padding+(bbox.height+node.padding),points=[{x:s/2,y:0},{x:s,y:-s/2},{x:s/2,y:-s},{x:0,y:-s/2}];let polygon;const{cssStyles}=node;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),pathData=createDecisionBoxPathD(0,0,s),roughNode=rc.path(pathData,options);polygon=shapeSvg.insert((()=>roughNode),":first-child").attr("transform",`translate(${-s/2+.5}, ${s/2})`),cssStyles&&polygon.attr("style",cssStyles)}else polygon=insertPolygonShape(shapeSvg,s,s,points),polygon.attr("transform",`translate(${-s/2+.5}, ${s/2})`);return nodeStyles&&polygon.attr("style",nodeStyles),updateNodeBounds(node,polygon),node.calcIntersect=function(bounds,point){const s2=bounds.width,points2=[{x:s2/2,y:0},{x:s2,y:-s2/2},{x:s2/2,y:-s2},{x:0,y:-s2/2}],res=intersect_default.polygon(bounds,points2,point);return{x:res.x-.5,y:res.y-.5}},node.intersect=function(point){return this.calcIntersect(node,point)},shapeSvg}async function rect_left_inv_arrow(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),x=-Math.max(bbox.width+(node.padding??0),node?.width??0)/2,y=-Math.max(bbox.height+(node.padding??0),node?.height??0)/2,notch=y/2,points=[{x:x+notch,y},{x,y:0},{x:x+notch,y:-y},{x:-x,y:-y},{x:-x,y}],{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const pathData=createPathFromPoints(points),roughNode=rc.path(pathData,options),polygon=shapeSvg.insert((()=>roughNode),":first-child");return polygon.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&polygon.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&polygon.selectAll("path").attr("style",nodeStyles),polygon.attr("transform",`translate(${-notch/2},0)`),label.attr("transform",`translate(${-notch/2-bbox.width/2-(bbox.x-(bbox.left??0))}, ${-bbox.height/2-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function rectWithTitle(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);let classes;node.labelStyle=labelStyles,classes=node.cssClasses?"node "+node.cssClasses:"node default";const shapeSvg=parent.insert("g").attr("class",classes).attr("id",node.domId||node.id),g=shapeSvg.insert("g"),label=shapeSvg.insert("g").attr("class","label").attr("style",nodeStyles),description=node.description,title=node.label,text2=label.node().appendChild(await createLabel_default(title,node.labelStyle,!0,!0));let bbox={width:0,height:0};if((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)()?.flowchart?.htmlLabels)){const div2=text2.children[0],dv2=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(text2);bbox=div2.getBoundingClientRect(),dv2.attr("width",bbox.width),dv2.attr("height",bbox.height)}_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("Text 2",description);const textRows=description||[],titleBox=text2.getBBox(),descr=label.node().appendChild(await createLabel_default(textRows.join?textRows.join("<br/>"):textRows,node.labelStyle,!0,!0)),div=descr.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(descr);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height);const halfPadding=(node.padding||0)/2;(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(descr).attr("transform","translate( "+(bbox.width>titleBox.width?0:(titleBox.width-bbox.width)/2)+", "+(titleBox.height+halfPadding+5)+")"),(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(text2).attr("transform","translate( "+(bbox.width<titleBox.width?0:-(titleBox.width-bbox.width)/2)+", 0)"),bbox=label.node().getBBox(),label.attr("transform","translate("+-bbox.width/2+", "+(-bbox.height/2-halfPadding+3)+")");const totalWidth=bbox.width+(node.padding||0),totalHeight=bbox.height+(node.padding||0),x=-bbox.width/2-halfPadding,y=-bbox.height/2-halfPadding;let rect2,innerLine;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),roughNode=rc.path(createRoundedRectPathD(x,y,totalWidth,totalHeight,node.rx||0),options),roughLine=rc.line(-bbox.width/2-halfPadding,-bbox.height/2-halfPadding+titleBox.height+halfPadding,bbox.width/2+halfPadding,-bbox.height/2-halfPadding+titleBox.height+halfPadding,options);innerLine=shapeSvg.insert((()=>(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.debug("Rough node insert CXC",roughNode),roughLine)),":first-child"),rect2=shapeSvg.insert((()=>(_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.debug("Rough node insert CXC",roughNode),roughNode)),":first-child")}else rect2=g.insert("rect",":first-child"),innerLine=g.insert("line"),rect2.attr("class","outer title-state").attr("style",nodeStyles).attr("x",-bbox.width/2-halfPadding).attr("y",-bbox.height/2-halfPadding).attr("width",bbox.width+(node.padding||0)).attr("height",bbox.height+(node.padding||0)),innerLine.attr("class","divider").attr("x1",-bbox.width/2-halfPadding).attr("x2",bbox.width/2+halfPadding).attr("y1",-bbox.height/2-halfPadding+titleBox.height+halfPadding).attr("y2",-bbox.height/2-halfPadding+titleBox.height+halfPadding);return updateNodeBounds(node,rect2),node.intersect=function(point){return intersect_default.rect(node,point)},shapeSvg}function generateArcPoints2(x1,y1,x2,y2,rx,ry,clockwise){const midX=(x1+x2)/2,midY=(y1+y2)/2,angle=Math.atan2(y2-y1,x2-x1),transformedX=(x2-x1)/2/rx,transformedY=(y2-y1)/2/ry,distance=Math.sqrt(transformedX**2+transformedY**2);if(distance>1)throw new Error("The given radii are too small to create an arc between the points.");const scaledCenterDistance=Math.sqrt(1-distance**2),centerX=midX+scaledCenterDistance*ry*Math.sin(angle)*(clockwise?-1:1),centerY=midY-scaledCenterDistance*rx*Math.cos(angle)*(clockwise?-1:1),startAngle=Math.atan2((y1-centerY)/ry,(x1-centerX)/rx);let angleRange=Math.atan2((y2-centerY)/ry,(x2-centerX)/rx)-startAngle;clockwise&&angleRange<0&&(angleRange+=2*Math.PI),!clockwise&&angleRange>0&&(angleRange-=2*Math.PI);const points=[];for(let i=0;i<20;i++){const angle2=startAngle+i/19*angleRange,x=centerX+rx*Math.cos(angle2),y=centerY+ry*Math.sin(angle2);points.push({x,y})}return points}async function roundedRect(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),labelPaddingX=node?.padding??0,labelPaddingY=node?.padding??0,w=(node?.width?node?.width:bbox.width)+2*labelPaddingX,h=(node?.height?node?.height:bbox.height)+2*labelPaddingY,radius=node.radius||5,taper=node.taper||5,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});node.stroke&&(options.stroke=node.stroke),"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const points=[{x:-w/2+taper,y:-h/2},{x:w/2-taper,y:-h/2},...generateArcPoints2(w/2-taper,-h/2,w/2,-h/2+taper,radius,radius,!0),{x:w/2,y:-h/2+taper},{x:w/2,y:h/2-taper},...generateArcPoints2(w/2,h/2-taper,w/2-taper,h/2,radius,radius,!0),{x:w/2-taper,y:h/2},{x:-w/2+taper,y:h/2},...generateArcPoints2(-w/2+taper,h/2,-w/2,h/2-taper,radius,radius,!0),{x:-w/2,y:h/2-taper},{x:-w/2,y:-h/2+taper},...generateArcPoints2(-w/2,-h/2+taper,-w/2+taper,-h/2,radius,radius,!0)],pathData=createPathFromPoints(points),shapeNode=rc.path(pathData,options),polygon=shapeSvg.insert((()=>shapeNode),":first-child");return polygon.attr("class","basic label-container outer-path"),cssStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",nodeStyles),updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function shadedProcess(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),halfPadding=node?.padding??0,w=Math.max(bbox.width+2*(node.padding??0),node?.width??0),h=Math.max(bbox.height+2*(node.padding??0),node?.height??0),x=-bbox.width/2-halfPadding,y=-bbox.height/2-halfPadding,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const points=[{x,y},{x:x+w+8,y},{x:x+w+8,y:y+h},{x:x-8,y:y+h},{x:x-8,y},{x,y},{x,y:y+h}],roughNode=rc.polygon(points.map((p=>[p.x,p.y])),options),rect2=shapeSvg.insert((()=>roughNode),":first-child");return rect2.attr("class","basic label-container").attr("style",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(cssStyles)),nodeStyles&&"handDrawn"!==node.look&&rect2.selectAll("path").attr("style",nodeStyles),cssStyles&&"handDrawn"!==node.look&&rect2.selectAll("path").attr("style",nodeStyles),label.attr("transform",`translate(${-w/2+4+(node.padding??0)-(bbox.x-(bbox.left??0))},${-h/2+(node.padding??0)-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,rect2),node.intersect=function(point){return intersect_default.rect(node,point)},shapeSvg}async function slopedRect(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+2*(node.padding??0),node?.width??0),h=Math.max(bbox.height+2*(node.padding??0),node?.height??0),x=-w/2,y=-h/2,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const points=[{x,y},{x,y:y+h},{x:x+w,y:y+h},{x:x+w,y:y-h/2}],pathData=createPathFromPoints(points),shapeNode=rc.path(pathData,options),polygon=shapeSvg.insert((()=>shapeNode),":first-child");return polygon.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",nodeStyles),polygon.attr("transform",`translate(0, ${h/4})`),label.attr("transform",`translate(${-w/2+(node.padding??0)-(bbox.x-(bbox.left??0))}, ${-h/4+(node.padding??0)-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function squareRect2(parent,node){return drawRect(parent,node,{rx:0,ry:0,classes:"",labelPaddingX:node.labelPaddingX??2*(node?.padding||0),labelPaddingY:1*(node?.padding||0)})}async function stadium(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),h=bbox.height+node.padding,w=bbox.width+h/4+node.padding,radius=h/2,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const points=[{x:-w/2+radius,y:-h/2},{x:w/2-radius,y:-h/2},...generateCirclePoints(-w/2+radius,0,radius,50,90,270),{x:w/2-radius,y:h/2},...generateCirclePoints(w/2-radius,0,radius,50,270,450)],pathData=createPathFromPoints(points),shapeNode=rc.path(pathData,options),polygon=shapeSvg.insert((()=>shapeNode),":first-child");return polygon.attr("class","basic label-container outer-path"),cssStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",nodeStyles),updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function state(parent,node){return drawRect(parent,node,{rx:5,ry:5,classes:"flowchart-node"})}function stateEnd(parent,node,{config:{themeVariables}}){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{cssStyles}=node,{lineColor,stateBorder,nodeBorder}=themeVariables,shapeSvg=parent.insert("g").attr("class","node default").attr("id",node.domId||node.id),rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const roughNode=rc.circle(0,0,14,{...options,stroke:lineColor,strokeWidth:2}),innerFill=stateBorder??nodeBorder,roughInnerNode=rc.circle(0,0,5,{...options,fill:innerFill,stroke:innerFill,strokeWidth:2,fillStyle:"solid"}),circle2=shapeSvg.insert((()=>roughNode),":first-child");return circle2.insert((()=>roughInnerNode)),cssStyles&&circle2.selectAll("path").attr("style",cssStyles),nodeStyles&&circle2.selectAll("path").attr("style",nodeStyles),updateNodeBounds(node,circle2),node.intersect=function(point){return intersect_default.circle(node,7,point)},shapeSvg}function stateStart(parent,node,{config:{themeVariables}}){const{lineColor}=themeVariables,shapeSvg=parent.insert("g").attr("class","node default").attr("id",node.domId||node.id);let circle2;if("handDrawn"===node.look){const roughNode=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg).circle(0,0,14,(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.ue)(lineColor));circle2=shapeSvg.insert((()=>roughNode)),circle2.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14)}else circle2=shapeSvg.insert("circle",":first-child"),circle2.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14);return updateNodeBounds(node,circle2),node.intersect=function(point){return intersect_default.circle(node,7,point)},shapeSvg}async function subroutine(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),halfPadding=(node?.padding||0)/2,w=bbox.width+node.padding,h=bbox.height+node.padding,x=-bbox.width/2-halfPadding,y=-bbox.height/2-halfPadding,points=[{x:0,y:0},{x:w,y:0},{x:w,y:-h},{x:0,y:-h},{x:0,y:0},{x:-8,y:0},{x:w+8,y:0},{x:w+8,y:-h},{x:-8,y:-h},{x:-8,y:0}];if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),roughNode=rc.rectangle(x-8,y,w+16,h,options),l1=rc.line(x,y,x,y+h,options),l2=rc.line(x+w,y,x+w,y+h,options);shapeSvg.insert((()=>l1),":first-child"),shapeSvg.insert((()=>l2),":first-child");const rect2=shapeSvg.insert((()=>roughNode),":first-child"),{cssStyles}=node;rect2.attr("class","basic label-container").attr("style",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(cssStyles)),updateNodeBounds(node,rect2)}else{const el=insertPolygonShape(shapeSvg,w,h,points);nodeStyles&&el.attr("style",nodeStyles),updateNodeBounds(node,el)}return node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function taggedRect(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+2*(node.padding??0),node?.width??0),h=Math.max(bbox.height+2*(node.padding??0),node?.height??0),x=-w/2,y=-h/2,tagWidth=.2*h,tagHeight=.2*h,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),rectPoints=[{x:x-tagWidth/2,y},{x:x+w+tagWidth/2,y},{x:x+w+tagWidth/2,y:y+h},{x:x-tagWidth/2,y:y+h}],tagPoints=[{x:x+w-tagWidth/2,y:y+h},{x:x+w+tagWidth/2,y:y+h},{x:x+w+tagWidth/2,y:y+h-tagHeight}];"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const rectPath=createPathFromPoints(rectPoints),rectNode=rc.path(rectPath,options),tagPath=createPathFromPoints(tagPoints),tagNode=rc.path(tagPath,{...options,fillStyle:"solid"}),taggedRect2=shapeSvg.insert((()=>tagNode),":first-child");return taggedRect2.insert((()=>rectNode),":first-child"),taggedRect2.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&taggedRect2.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&taggedRect2.selectAll("path").attr("style",nodeStyles),updateNodeBounds(node,taggedRect2),node.intersect=function(point){return intersect_default.polygon(node,rectPoints,point)},shapeSvg}async function taggedWaveEdgedRectangle(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+2*(node.padding??0),node?.width??0),h=Math.max(bbox.height+2*(node.padding??0),node?.height??0),waveAmplitude=h/4,tagWidth=.2*w,tagHeight=.2*h,finalH=h+waveAmplitude,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const points=[{x:-w/2-w/2*.1,y:finalH/2},...generateFullSineWavePoints(-w/2-w/2*.1,finalH/2,w/2+w/2*.1,finalH/2,waveAmplitude,.8),{x:w/2+w/2*.1,y:-finalH/2},{x:-w/2-w/2*.1,y:-finalH/2}],x=-w/2+w/2*.1,y=-finalH/2-.4*tagHeight,tagPoints=[{x:x+w-tagWidth,y:1.4*(y+h)},{x:x+w,y:y+h-tagHeight},{x:x+w,y:.9*(y+h)},...generateFullSineWavePoints(x+w,1.3*(y+h),x+w-tagWidth,1.5*(y+h),.03*-h,.5)],waveEdgeRectPath=createPathFromPoints(points),waveEdgeRectNode=rc.path(waveEdgeRectPath,options),taggedWaveEdgeRectPath=createPathFromPoints(tagPoints),taggedWaveEdgeRectNode=rc.path(taggedWaveEdgeRectPath,{...options,fillStyle:"solid"}),waveEdgeRect=shapeSvg.insert((()=>taggedWaveEdgeRectNode),":first-child");return waveEdgeRect.insert((()=>waveEdgeRectNode),":first-child"),waveEdgeRect.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&waveEdgeRect.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&waveEdgeRect.selectAll("path").attr("style",nodeStyles),waveEdgeRect.attr("transform",`translate(0,${-waveAmplitude/2})`),label.attr("transform",`translate(${-w/2+(node.padding??0)-(bbox.x-(bbox.left??0))},${-h/2+(node.padding??0)-waveAmplitude/2-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,waveEdgeRect),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function text(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),totalWidth=Math.max(bbox.width+node.padding,node?.width||0),totalHeight=Math.max(bbox.height+node.padding,node?.height||0),x=-totalWidth/2,y=-totalHeight/2,rect2=shapeSvg.insert("rect",":first-child");return rect2.attr("class","text").attr("style",nodeStyles).attr("rx",0).attr("ry",0).attr("x",x).attr("y",y).attr("width",totalWidth).attr("height",totalHeight),updateNodeBounds(node,rect2),node.intersect=function(point){return intersect_default.rect(node,point)},shapeSvg}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(question,"question"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(rect_left_inv_arrow,"rect_left_inv_arrow"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(rectWithTitle,"rectWithTitle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(generateArcPoints2,"generateArcPoints"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(roundedRect,"roundedRect"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(shadedProcess,"shadedProcess"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(slopedRect,"slopedRect"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(squareRect2,"squareRect"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(stadium,"stadium"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(state,"state"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(stateEnd,"stateEnd"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(stateStart,"stateStart"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(subroutine,"subroutine"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(taggedRect,"taggedRect"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(taggedWaveEdgedRectangle,"taggedWaveEdgedRectangle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(text,"text");var createCylinderPathD3=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((x,y,width,height,rx,ry)=>`M${x},${y}\n    a${rx},${ry} 0,0,1 0,${-height}\n    l${width},0\n    a${rx},${ry} 0,0,1 0,${height}\n    M${width},${-height}\n    a${rx},${ry} 0,0,0 0,${height}\n    l${-width},0`),"createCylinderPathD"),createOuterCylinderPathD3=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((x,y,width,height,rx,ry)=>[`M${x},${y}`,`M${x+width},${y}`,`a${rx},${ry} 0,0,0 0,${-height}`,`l${-width},0`,`a${rx},${ry} 0,0,0 0,${height}`,`l${width},0`].join(" ")),"createOuterCylinderPathD"),createInnerCylinderPathD3=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((x,y,width,height,rx,ry)=>[`M${x+width/2},${-height/2}`,`a${rx},${ry} 0,0,0 0,${height}`].join(" ")),"createInnerCylinderPathD");async function tiltedCylinder(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label,halfPadding}=await labelHelper(parent,node,getNodeClasses(node)),labelPadding="neo"===node.look?2*halfPadding:halfPadding,h=bbox.height+labelPadding,ry=h/2,rx=ry/(2.5+h/50),w=bbox.width+rx+labelPadding,{cssStyles}=node;let cylinder2;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),outerPathData=createOuterCylinderPathD3(0,0,w,h,rx,ry),innerPathData=createInnerCylinderPathD3(0,0,w,h,rx,ry),outerNode=rc.path(outerPathData,(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{})),innerLine=rc.path(innerPathData,(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{fill:"none"}));cylinder2=shapeSvg.insert((()=>innerLine),":first-child"),cylinder2=shapeSvg.insert((()=>outerNode),":first-child"),cylinder2.attr("class","basic label-container"),cssStyles&&cylinder2.attr("style",cssStyles)}else{const pathData=createCylinderPathD3(0,0,w,h,rx,ry);cylinder2=shapeSvg.insert("path",":first-child").attr("d",pathData).attr("class","basic label-container").attr("style",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(cssStyles)).attr("style",nodeStyles),cylinder2.attr("class","basic label-container"),cssStyles&&cylinder2.selectAll("path").attr("style",cssStyles),nodeStyles&&cylinder2.selectAll("path").attr("style",nodeStyles)}return cylinder2.attr("label-offset-x",rx),cylinder2.attr("transform",`translate(${-w/2}, ${h/2} )`),label.attr("transform",`translate(${-bbox.width/2-rx-(bbox.x-(bbox.left??0))}, ${-bbox.height/2-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,cylinder2),node.intersect=function(point){const pos=intersect_default.rect(node,point),y=pos.y-(node.y??0);if(0!=ry&&(Math.abs(y)<(node.height??0)/2||Math.abs(y)==(node.height??0)/2&&Math.abs(pos.x-(node.x??0))>(node.width??0)/2-rx)){let x=rx*rx*(1-y*y/(ry*ry));0!=x&&(x=Math.sqrt(Math.abs(x))),x=rx-x,point.x-(node.x??0)>0&&(x=-x),pos.x+=x}return pos},shapeSvg}async function trapezoid(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),w=bbox.width+node.padding,h=bbox.height+node.padding,points=[{x:-3*h/6,y:0},{x:w+3*h/6,y:0},{x:w,y:-h},{x:0,y:-h}];let polygon;const{cssStyles}=node;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),pathData=createPathFromPoints(points),roughNode=rc.path(pathData,options);polygon=shapeSvg.insert((()=>roughNode),":first-child").attr("transform",`translate(${-w/2}, ${h/2})`),cssStyles&&polygon.attr("style",cssStyles)}else polygon=insertPolygonShape(shapeSvg,w,h,points);return nodeStyles&&polygon.attr("style",nodeStyles),node.width=w,node.height=h,updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function trapezoidalPentagon(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(60,bbox.width+2*(node.padding??0),node?.width??0),h=Math.max(20,bbox.height+2*(node.padding??0),node?.height??0),{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const points=[{x:-w/2*.8,y:-h/2},{x:w/2*.8,y:-h/2},{x:w/2,y:-h/2*.6},{x:w/2,y:h/2},{x:-w/2,y:h/2},{x:-w/2,y:-h/2*.6}],pathData=createPathFromPoints(points),shapeNode=rc.path(pathData,options),polygon=shapeSvg.insert((()=>shapeNode),":first-child");return polygon.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",nodeStyles),updateNodeBounds(node,polygon),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function triangle(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),useHtmlLabels=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)().flowchart?.htmlLabels),w=bbox.width+(node.padding??0),h=w+bbox.height,tw=w+bbox.height,points=[{x:0,y:0},{x:tw,y:0},{x:tw/2,y:-h}],{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const pathData=createPathFromPoints(points),roughNode=rc.path(pathData,options),polygon=shapeSvg.insert((()=>roughNode),":first-child").attr("transform",`translate(${-h/2}, ${h/2})`);return cssStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&polygon.selectChildren("path").attr("style",nodeStyles),node.width=w,node.height=h,updateNodeBounds(node,polygon),label.attr("transform",`translate(${-bbox.width/2-(bbox.x-(bbox.left??0))}, ${h/2-(bbox.height+(node.padding??0)/(useHtmlLabels?2:1)-(bbox.y-(bbox.top??0)))})`),node.intersect=function(point){return _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("Triangle intersect",node,points,point),intersect_default.polygon(node,points,point)},shapeSvg}async function waveEdgedRectangle(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+2*(node.padding??0),node?.width??0),h=Math.max(bbox.height+2*(node.padding??0),node?.height??0),waveAmplitude=h/8,finalH=h+waveAmplitude,{cssStyles}=node,widthDif=70-w,extraW=widthDif>0?widthDif/2:0,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const points=[{x:-w/2-extraW,y:finalH/2},...generateFullSineWavePoints(-w/2-extraW,finalH/2,w/2+extraW,finalH/2,waveAmplitude,.8),{x:w/2+extraW,y:-finalH/2},{x:-w/2-extraW,y:-finalH/2}],waveEdgeRectPath=createPathFromPoints(points),waveEdgeRectNode=rc.path(waveEdgeRectPath,options),waveEdgeRect=shapeSvg.insert((()=>waveEdgeRectNode),":first-child");return waveEdgeRect.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&waveEdgeRect.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&waveEdgeRect.selectAll("path").attr("style",nodeStyles),waveEdgeRect.attr("transform",`translate(0,${-waveAmplitude/2})`),label.attr("transform",`translate(${-w/2+(node.padding??0)-(bbox.x-(bbox.left??0))},${-h/2+(node.padding??0)-waveAmplitude-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,waveEdgeRect),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function waveRectangle(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox}=await labelHelper(parent,node,getNodeClasses(node)),baseWidth=Math.max(bbox.width+2*(node.padding??0),node?.width??0),baseHeight=Math.max(bbox.height+2*(node.padding??0),node?.height??0),aspectRatio=baseWidth/baseHeight;let w=baseWidth,h=baseHeight;w>h*aspectRatio?h=w/aspectRatio:w=h*aspectRatio,w=Math.max(w,100),h=Math.max(h,50);const waveAmplitude=Math.min(.2*h,h/4),finalH=h+2*waveAmplitude,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const points=[{x:-w/2,y:finalH/2},...generateFullSineWavePoints(-w/2,finalH/2,w/2,finalH/2,waveAmplitude,1),{x:w/2,y:-finalH/2},...generateFullSineWavePoints(w/2,-finalH/2,-w/2,-finalH/2,waveAmplitude,-1)],waveRectPath=createPathFromPoints(points),waveRectNode=rc.path(waveRectPath,options),waveRect=shapeSvg.insert((()=>waveRectNode),":first-child");return waveRect.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&waveRect.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&waveRect.selectAll("path").attr("style",nodeStyles),updateNodeBounds(node,waveRect),node.intersect=function(point){return intersect_default.polygon(node,points,point)},shapeSvg}async function windowPane(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,label}=await labelHelper(parent,node,getNodeClasses(node)),w=Math.max(bbox.width+2*(node.padding??0),node?.width??0),h=Math.max(bbox.height+2*(node.padding??0),node?.height??0),x=-w/2,y=-h/2,{cssStyles}=node,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),outerPathPoints=[{x:x-5,y:y-5},{x:x-5,y:y+h},{x:x+w,y:y+h},{x:x+w,y:y-5}],path=`M${x-5},${y-5} L${x+w},${y-5} L${x+w},${y+h} L${x-5},${y+h} L${x-5},${y-5}\n                M${x-5},${y} L${x+w},${y}\n                M${x},${y-5} L${x},${y+h}`;"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const no=rc.path(path,options),windowPane2=shapeSvg.insert((()=>no),":first-child");return windowPane2.attr("transform","translate(2.5, 2.5)"),windowPane2.attr("class","basic label-container"),cssStyles&&"handDrawn"!==node.look&&windowPane2.selectAll("path").attr("style",cssStyles),nodeStyles&&"handDrawn"!==node.look&&windowPane2.selectAll("path").attr("style",nodeStyles),label.attr("transform",`translate(${-bbox.width/2+2.5-(bbox.x-(bbox.left??0))}, ${-bbox.height/2+2.5-(bbox.y-(bbox.top??0))})`),updateNodeBounds(node,windowPane2),node.intersect=function(point){return intersect_default.polygon(node,outerPathPoints,point)},shapeSvg}async function erBox(parent,node){const entityNode=node;if(entityNode.alias&&(node.label=entityNode.alias),"handDrawn"===node.look){const{themeVariables:themeVariables2}=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.zj)(),{background}=themeVariables2,backgroundNode={...node,id:node.id+"-background",look:"default",cssStyles:["stroke: none",`fill: ${background}`]};await erBox(parent,backgroundNode)}const config=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.zj)();node.useHtmlLabels=config.htmlLabels;let PADDING=config.er?.diagramPadding??10,TEXT_PADDING=config.er?.entityPadding??6;const{cssStyles}=node,{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);if(0===entityNode.attributes.length&&node.label){const options2={rx:0,ry:0,labelPaddingX:PADDING,labelPaddingY:1.5*PADDING,classes:""};(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.Un)(node.label,config)+2*options2.labelPaddingX<config.er.minEntityWidth&&(node.width=config.er.minEntityWidth);const shapeSvg2=await drawRect(parent,node,options2);if(!(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)(config.htmlLabels)){const textElement=shapeSvg2.select("text"),bbox=textElement.node()?.getBBox();textElement.attr("transform",`translate(${-bbox.width/2}, 0)`)}return shapeSvg2}config.htmlLabels||(PADDING*=1.25,TEXT_PADDING*=1.25);let cssClasses=getNodeClasses(node);cssClasses||(cssClasses="node default");const shapeSvg=parent.insert("g").attr("class",cssClasses).attr("id",node.domId||node.id),nameBBox=await addText(shapeSvg,node.label??"",config,0,0,["name"],labelStyles);nameBBox.height+=TEXT_PADDING;let yOffset=0;const yOffsets=[],rows=[];let maxTypeWidth=0,maxNameWidth=0,maxKeysWidth=0,maxCommentWidth=0,keysPresent=!0,commentPresent=!0;for(const attribute of entityNode.attributes){const typeBBox=await addText(shapeSvg,attribute.type,config,0,yOffset,["attribute-type"],labelStyles);maxTypeWidth=Math.max(maxTypeWidth,typeBBox.width+PADDING);const nameBBox2=await addText(shapeSvg,attribute.name,config,0,yOffset,["attribute-name"],labelStyles);maxNameWidth=Math.max(maxNameWidth,nameBBox2.width+PADDING);const keysBBox=await addText(shapeSvg,attribute.keys.join(),config,0,yOffset,["attribute-keys"],labelStyles);maxKeysWidth=Math.max(maxKeysWidth,keysBBox.width+PADDING);const commentBBox=await addText(shapeSvg,attribute.comment,config,0,yOffset,["attribute-comment"],labelStyles);maxCommentWidth=Math.max(maxCommentWidth,commentBBox.width+PADDING);const rowHeight=Math.max(typeBBox.height,nameBBox2.height,keysBBox.height,commentBBox.height)+TEXT_PADDING;rows.push({yOffset,rowHeight}),yOffset+=rowHeight}let totalWidthSections=4;maxKeysWidth<=PADDING&&(keysPresent=!1,maxKeysWidth=0,totalWidthSections--),maxCommentWidth<=PADDING&&(commentPresent=!1,maxCommentWidth=0,totalWidthSections--);const shapeBBox=shapeSvg.node().getBBox();if(nameBBox.width+2*PADDING-(maxTypeWidth+maxNameWidth+maxKeysWidth+maxCommentWidth)>0){const difference=nameBBox.width+2*PADDING-(maxTypeWidth+maxNameWidth+maxKeysWidth+maxCommentWidth);maxTypeWidth+=difference/totalWidthSections,maxNameWidth+=difference/totalWidthSections,maxKeysWidth>0&&(maxKeysWidth+=difference/totalWidthSections),maxCommentWidth>0&&(maxCommentWidth+=difference/totalWidthSections)}const maxWidth=maxTypeWidth+maxNameWidth+maxKeysWidth+maxCommentWidth,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");let totalShapeBBoxHeight=0;rows.length>0&&(totalShapeBBoxHeight=rows.reduce(((sum,row)=>sum+(row?.rowHeight??0)),0));const w=Math.max(shapeBBox.width+2*PADDING,node?.width||0,maxWidth),h=Math.max((totalShapeBBoxHeight??0)+nameBBox.height,node?.height||0),x=-w/2,y=-h/2;shapeSvg.selectAll("g:not(:first-child)").each(((_,i,nodes)=>{const text2=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(nodes[i]),transform=text2.attr("transform");let translateX=0,translateY=0;if(transform){const translate=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(transform);translate&&(translateX=parseFloat(translate[1]),translateY=parseFloat(translate[2]),text2.attr("class").includes("attribute-name")?translateX+=maxTypeWidth:text2.attr("class").includes("attribute-keys")?translateX+=maxTypeWidth+maxNameWidth:text2.attr("class").includes("attribute-comment")&&(translateX+=maxTypeWidth+maxNameWidth+maxKeysWidth))}text2.attr("transform",`translate(${x+PADDING/2+translateX}, ${translateY+y+nameBBox.height+TEXT_PADDING/2})`)})),shapeSvg.select(".name").attr("transform","translate("+-nameBBox.width/2+", "+(y+TEXT_PADDING/2)+")");const roughRect=rc.rectangle(x,y,w,h,options),rect2=shapeSvg.insert((()=>roughRect),":first-child").attr("style",cssStyles.join("")),{themeVariables}=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.zj)(),{rowEven,rowOdd,nodeBorder}=themeVariables;yOffsets.push(0);for(const[i,row]of rows.entries()){const isEven=(i+1)%2==0&&0!==row.yOffset,roughRect2=rc.rectangle(x,nameBBox.height+y+row?.yOffset,w,row?.rowHeight,{...options,fill:isEven?rowEven:rowOdd,stroke:nodeBorder});shapeSvg.insert((()=>roughRect2),"g.label").attr("style",cssStyles.join("")).attr("class","row-rect-"+(isEven?"even":"odd"))}let roughLine=rc.line(x,nameBBox.height+y,w+x,nameBBox.height+y,options);shapeSvg.insert((()=>roughLine)).attr("class","divider"),roughLine=rc.line(maxTypeWidth+x,nameBBox.height+y,maxTypeWidth+x,h+y,options),shapeSvg.insert((()=>roughLine)).attr("class","divider"),keysPresent&&(roughLine=rc.line(maxTypeWidth+maxNameWidth+x,nameBBox.height+y,maxTypeWidth+maxNameWidth+x,h+y,options),shapeSvg.insert((()=>roughLine)).attr("class","divider")),commentPresent&&(roughLine=rc.line(maxTypeWidth+maxNameWidth+maxKeysWidth+x,nameBBox.height+y,maxTypeWidth+maxNameWidth+maxKeysWidth+x,h+y,options),shapeSvg.insert((()=>roughLine)).attr("class","divider"));for(const yOffset2 of yOffsets)roughLine=rc.line(x,nameBBox.height+y+yOffset2,w+x,nameBBox.height+y+yOffset2,options),shapeSvg.insert((()=>roughLine)).attr("class","divider");if(updateNodeBounds(node,rect2),nodeStyles&&"handDrawn"!==node.look){const allStyle=nodeStyles.split(";"),strokeStyles=allStyle?.filter((e=>e.includes("stroke")))?.map((s=>`${s}`)).join("; ");shapeSvg.selectAll("path").attr("style",strokeStyles??""),shapeSvg.selectAll(".row-rect-even path").attr("style",nodeStyles)}return node.intersect=function(point){return intersect_default.rect(node,point)},shapeSvg}async function addText(shapeSvg,labelText,config,translateX=0,translateY=0,classes=[],style=""){const label=shapeSvg.insert("g").attr("class",`label ${classes.join(" ")}`).attr("transform",`translate(${translateX}, ${translateY})`).attr("style",style);labelText!==(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.QO)(labelText)&&(labelText=(labelText=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.QO)(labelText)).replaceAll("<","&lt;").replaceAll(">","&gt;"));const text2=label.node().appendChild(await(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.GZ)(label,labelText,{width:(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.Un)(labelText,config)+100,style,useHtmlLabels:config.htmlLabels},config));if(labelText.includes("&lt;")||labelText.includes("&gt;")){let child=text2.children[0];for(child.textContent=child.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">");child.childNodes[0];)child=child.childNodes[0],child.textContent=child.textContent.replaceAll("&lt;","<").replaceAll("&gt;",">")}let bbox=text2.getBBox();if((0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)(config.htmlLabels)){const div=text2.children[0];div.style.textAlign="start";const dv=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(text2);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}return bbox}async function textHelper(parent,node,config,useHtmlLabels,GAP=config.class.padding??12){const TEXT_PADDING=useHtmlLabels?0:3,shapeSvg=parent.insert("g").attr("class",getNodeClasses(node)).attr("id",node.domId||node.id);let annotationGroup=null,labelGroup=null,membersGroup=null,methodsGroup=null,annotationGroupHeight=0,labelGroupHeight=0,membersGroupHeight=0;if(annotationGroup=shapeSvg.insert("g").attr("class","annotation-group text"),node.annotations.length>0){const annotation=node.annotations[0];await addText2(annotationGroup,{text:`«${annotation}»`},0);annotationGroupHeight=annotationGroup.node().getBBox().height}labelGroup=shapeSvg.insert("g").attr("class","label-group text"),await addText2(labelGroup,node,0,["font-weight: bolder"]);const labelGroupBBox=labelGroup.node().getBBox();labelGroupHeight=labelGroupBBox.height,membersGroup=shapeSvg.insert("g").attr("class","members-group text");let yOffset=0;for(const member of node.members){yOffset+=await addText2(membersGroup,member,yOffset,[member.parseClassifier()])+TEXT_PADDING}membersGroupHeight=membersGroup.node().getBBox().height,membersGroupHeight<=0&&(membersGroupHeight=GAP/2),methodsGroup=shapeSvg.insert("g").attr("class","methods-group text");let methodsYOffset=0;for(const method of node.methods){methodsYOffset+=await addText2(methodsGroup,method,methodsYOffset,[method.parseClassifier()])+TEXT_PADDING}let bbox=shapeSvg.node().getBBox();if(null!==annotationGroup){const annotationGroupBBox=annotationGroup.node().getBBox();annotationGroup.attr("transform",`translate(${-annotationGroupBBox.width/2})`)}return labelGroup.attr("transform",`translate(${-labelGroupBBox.width/2}, ${annotationGroupHeight})`),bbox=shapeSvg.node().getBBox(),membersGroup.attr("transform",`translate(0, ${annotationGroupHeight+labelGroupHeight+2*GAP})`),bbox=shapeSvg.node().getBBox(),methodsGroup.attr("transform",`translate(0, ${annotationGroupHeight+labelGroupHeight+(membersGroupHeight?membersGroupHeight+4*GAP:2*GAP)})`),bbox=shapeSvg.node().getBBox(),{shapeSvg,bbox}}async function addText2(parentGroup,node,yOffset,styles=[]){const textEl=parentGroup.insert("g").attr("class","label").attr("style",styles.join("; ")),config=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.zj)();let useHtmlLabels="useHtmlLabels"in node?node.useHtmlLabels:(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)(config.htmlLabels)??!0,textContent="";textContent="text"in node?node.text:node.label,!useHtmlLabels&&textContent.startsWith("\\")&&(textContent=textContent.substring(1)),(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.Wi)(textContent)&&(useHtmlLabels=!0);const text2=await(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.GZ)(textEl,(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.oB)((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.Sm)(textContent)),{width:(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.Un)(textContent,config)+50,classes:"markdown-node-label",useHtmlLabels},config);let bbox,numberOfLines=1;if(useHtmlLabels){const div=text2.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(text2);numberOfLines=div.innerHTML.split("<br>").length,div.innerHTML.includes("</math>")&&(numberOfLines+=div.innerHTML.split("<mrow>").length-1);const images=div.getElementsByTagName("img");if(images){const noImgText=""===textContent.replace(/<img[^>]*>/g,"").trim();await Promise.all([...images].map((img=>new Promise((res=>{function setupImage(){if(img.style.display="flex",img.style.flexDirection="column",noImgText){const bodyFontSize=config.fontSize?.toString()??window.getComputedStyle(document.body).fontSize,enlargingFactor=5,width=parseInt(bodyFontSize,10)*enlargingFactor+"px";img.style.minWidth=width,img.style.maxWidth=width}else img.style.width="100%";res(img)}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(setupImage,"setupImage"),setTimeout((()=>{img.complete&&setupImage()})),img.addEventListener("error",setupImage),img.addEventListener("load",setupImage)})))))}bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}else{styles.includes("font-weight: bolder")&&(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(text2).selectAll("tspan").attr("font-weight",""),numberOfLines=text2.children.length;const textChild=text2.children[0];if(""===text2.textContent||text2.textContent.includes("&gt")){textChild.textContent=textContent[0]+textContent.substring(1).replaceAll("&gt;",">").replaceAll("&lt;","<").trim();" "===textContent[1]&&(textChild.textContent=textChild.textContent[0]+" "+textChild.textContent.substring(1))}"undefined"===textChild.textContent&&(textChild.textContent=""),bbox=text2.getBBox()}return textEl.attr("transform","translate(0,"+(-bbox.height/(2*numberOfLines)+yOffset)+")"),bbox.height}async function classBox(parent,node){const config=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)(),PADDING=config.class.padding??12,GAP=PADDING,useHtmlLabels=node.useHtmlLabels??(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__._3)(config.htmlLabels)??!0,classNode=node;classNode.annotations=classNode.annotations??[],classNode.members=classNode.members??[],classNode.methods=classNode.methods??[];const{shapeSvg,bbox}=await textHelper(parent,node,config,useHtmlLabels,GAP),{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles,node.cssStyles=classNode.styles||"";const styles=classNode.styles?.join(";")||nodeStyles||"";node.cssStyles||(node.cssStyles=styles.replaceAll("!important","").split(";"));const renderExtraBox=0===classNode.members.length&&0===classNode.methods.length&&!config.class?.hideEmptyMembersBox,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const w=bbox.width;let h=bbox.height;0===classNode.members.length&&0===classNode.methods.length?h+=GAP:classNode.members.length>0&&0===classNode.methods.length&&(h+=2*GAP);const x=-w/2,y=-h/2,roughRect=rc.rectangle(x-PADDING,y-PADDING-(renderExtraBox?PADDING:0===classNode.members.length&&0===classNode.methods.length?-PADDING/2:0),w+2*PADDING,h+2*PADDING+(renderExtraBox?2*PADDING:0===classNode.members.length&&0===classNode.methods.length?-PADDING:0),options),rect2=shapeSvg.insert((()=>roughRect),":first-child");rect2.attr("class","basic label-container");const rectBBox=rect2.node().getBBox();shapeSvg.selectAll(".text").each(((_,i,nodes)=>{const text2=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(nodes[i]),transform=text2.attr("transform");let translateY=0;if(transform){const translate=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(transform);translate&&(translateY=parseFloat(translate[2]))}let newTranslateY=translateY+y+PADDING-(renderExtraBox?PADDING:0===classNode.members.length&&0===classNode.methods.length?-PADDING/2:0);useHtmlLabels||(newTranslateY-=4);let newTranslateX=x;(text2.attr("class").includes("label-group")||text2.attr("class").includes("annotation-group"))&&(newTranslateX=-text2.node()?.getBBox().width/2||0,shapeSvg.selectAll("text").each((function(_2,i2,nodes2){"middle"===window.getComputedStyle(nodes2[i2]).textAnchor&&(newTranslateX=0)}))),text2.attr("transform",`translate(${newTranslateX}, ${newTranslateY})`)}));const annotationGroupHeight=shapeSvg.select(".annotation-group").node().getBBox().height-(renderExtraBox?PADDING/2:0)||0,labelGroupHeight=shapeSvg.select(".label-group").node().getBBox().height-(renderExtraBox?PADDING/2:0)||0,membersGroupHeight=shapeSvg.select(".members-group").node().getBBox().height-(renderExtraBox?PADDING/2:0)||0;if(classNode.members.length>0||classNode.methods.length>0||renderExtraBox){const roughLine=rc.line(rectBBox.x,annotationGroupHeight+labelGroupHeight+y+PADDING,rectBBox.x+rectBBox.width,annotationGroupHeight+labelGroupHeight+y+PADDING,options);shapeSvg.insert((()=>roughLine)).attr("class","divider").attr("style",styles)}if(renderExtraBox||classNode.members.length>0||classNode.methods.length>0){const roughLine=rc.line(rectBBox.x,annotationGroupHeight+labelGroupHeight+membersGroupHeight+y+2*GAP+PADDING,rectBBox.x+rectBBox.width,annotationGroupHeight+labelGroupHeight+membersGroupHeight+y+PADDING+2*GAP,options);shapeSvg.insert((()=>roughLine)).attr("class","divider").attr("style",styles)}if("handDrawn"!==classNode.look&&shapeSvg.selectAll("path").attr("style",styles),rect2.select(":nth-child(2)").attr("style",styles),shapeSvg.selectAll(".divider").select("path").attr("style",styles),node.labelStyle?shapeSvg.selectAll("span").attr("style",node.labelStyle):shapeSvg.selectAll("span").attr("style",styles),!useHtmlLabels){const colorRegex=RegExp(/color\s*:\s*([^;]*)/),match=colorRegex.exec(styles);if(match){const colorStyle=match[0].replace("color","fill");shapeSvg.selectAll("tspan").attr("style",colorStyle)}else if(labelStyles){const match2=colorRegex.exec(labelStyles);if(match2){const colorStyle=match2[0].replace("color","fill");shapeSvg.selectAll("tspan").attr("style",colorStyle)}}}return updateNodeBounds(node,rect2),node.intersect=function(point){return intersect_default.rect(node,point)},shapeSvg}async function requirementBox(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const requirementNode=node,elementNode=node,isRequirementNode="verifyMethod"in node,classes=getNodeClasses(node),shapeSvg=parent.insert("g").attr("class",classes).attr("id",node.domId??node.id);let typeHeight;typeHeight=isRequirementNode?await addText3(shapeSvg,`&lt;&lt;${requirementNode.type}&gt;&gt;`,0,node.labelStyle):await addText3(shapeSvg,"&lt;&lt;Element&gt;&gt;",0,node.labelStyle);let accumulativeHeight=typeHeight;const nameHeight=await addText3(shapeSvg,requirementNode.name,accumulativeHeight,node.labelStyle+"; font-weight: bold;");if(accumulativeHeight+=nameHeight+20,isRequirementNode){accumulativeHeight+=await addText3(shapeSvg,""+(requirementNode.requirementId?`ID: ${requirementNode.requirementId}`:""),accumulativeHeight,node.labelStyle);accumulativeHeight+=await addText3(shapeSvg,""+(requirementNode.text?`Text: ${requirementNode.text}`:""),accumulativeHeight,node.labelStyle);accumulativeHeight+=await addText3(shapeSvg,""+(requirementNode.risk?`Risk: ${requirementNode.risk}`:""),accumulativeHeight,node.labelStyle),await addText3(shapeSvg,""+(requirementNode.verifyMethod?`Verification: ${requirementNode.verifyMethod}`:""),accumulativeHeight,node.labelStyle)}else{accumulativeHeight+=await addText3(shapeSvg,""+(elementNode.type?`Type: ${elementNode.type}`:""),accumulativeHeight,node.labelStyle),await addText3(shapeSvg,""+(elementNode.docRef?`Doc Ref: ${elementNode.docRef}`:""),accumulativeHeight,node.labelStyle)}const totalWidth=(shapeSvg.node()?.getBBox().width??200)+20,totalHeight=(shapeSvg.node()?.getBBox().height??200)+20,x=-totalWidth/2,y=-totalHeight/2,rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{});"handDrawn"!==node.look&&(options.roughness=0,options.fillStyle="solid");const roughRect=rc.rectangle(x,y,totalWidth,totalHeight,options),rect2=shapeSvg.insert((()=>roughRect),":first-child");if(rect2.attr("class","basic label-container").attr("style",nodeStyles),shapeSvg.selectAll(".label").each(((_,i,nodes)=>{const text2=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(nodes[i]),transform=text2.attr("transform");let translateX=0,translateY=0;if(transform){const translate=RegExp(/translate\(([^,]+),([^)]+)\)/).exec(transform);translate&&(translateX=parseFloat(translate[1]),translateY=parseFloat(translate[2]))}const newTranslateY=translateY-totalHeight/2;let newTranslateX=x+10;0!==i&&1!==i||(newTranslateX=translateX),text2.attr("transform",`translate(${newTranslateX}, ${newTranslateY+20})`)})),accumulativeHeight>typeHeight+nameHeight+20){const roughLine=rc.line(x,y+typeHeight+nameHeight+20,x+totalWidth,y+typeHeight+nameHeight+20,options);shapeSvg.insert((()=>roughLine)).attr("style",nodeStyles)}return updateNodeBounds(node,rect2),node.intersect=function(point){return intersect_default.rect(node,point)},shapeSvg}async function addText3(parentGroup,inputText,yOffset,style=""){if(""===inputText)return 0;const textEl=parentGroup.insert("g").attr("class","label").attr("style",style),config=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.D7)(),useHtmlLabels=config.htmlLabels??!0,text2=await(0,_chunk_JA3XYJ7Z_mjs__WEBPACK_IMPORTED_MODULE_2__.GZ)(textEl,(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_4__.oB)((0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.Sm)(inputText)),{width:(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.Un)(inputText,config)+50,classes:"markdown-node-label",useHtmlLabels,style},config);let bbox;if(useHtmlLabels){const div=text2.children[0],dv=(0,d3__WEBPACK_IMPORTED_MODULE_6__.Ltv)(text2);bbox=div.getBoundingClientRect(),dv.attr("width",bbox.width),dv.attr("height",bbox.height)}else{const textChild=text2.children[0];for(const child of textChild.children)child.textContent=child.textContent.replaceAll("&gt;",">").replaceAll("&lt;","<"),style&&child.setAttribute("style",style);bbox=text2.getBBox(),bbox.height+=6}return textEl.attr("transform",`translate(${-bbox.width/2},${-bbox.height/2+yOffset})`),bbox.height}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(tiltedCylinder,"tiltedCylinder"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(trapezoid,"trapezoid"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(trapezoidalPentagon,"trapezoidalPentagon"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(triangle,"triangle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(waveEdgedRectangle,"waveEdgedRectangle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(waveRectangle,"waveRectangle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(windowPane,"windowPane"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(erBox,"erBox"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(addText,"addText"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(textHelper,"textHelper"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(addText2,"addText"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(classBox,"classBox"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(requirementBox,"requirementBox"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(addText3,"addText");var colorFromPriority=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)((priority=>{switch(priority){case"Very High":return"red";case"High":return"orange";case"Medium":return null;case"Low":return"blue";case"Very Low":return"lightblue"}}),"colorFromPriority");async function kanbanItem(parent,kanbanNode,{config}){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(kanbanNode);kanbanNode.labelStyle=labelStyles||"";const orgWidth=kanbanNode.width;kanbanNode.width=(kanbanNode.width??200)-10;const{shapeSvg,bbox,label:labelElTitle}=await labelHelper(parent,kanbanNode,getNodeClasses(kanbanNode)),padding=kanbanNode.padding||10;let link,ticketUrl="";"ticket"in kanbanNode&&kanbanNode.ticket&&config?.kanban?.ticketBaseUrl&&(ticketUrl=config?.kanban?.ticketBaseUrl.replace("#TICKET#",kanbanNode.ticket),link=shapeSvg.insert("svg:a",":first-child").attr("class","kanban-ticket-link").attr("xlink:href",ticketUrl).attr("target","_blank"));const options={useHtmlLabels:kanbanNode.useHtmlLabels,labelStyle:kanbanNode.labelStyle||"",width:kanbanNode.width,img:kanbanNode.img,padding:kanbanNode.padding||8,centerLabel:!1};let labelEl,bbox2;({label:labelEl,bbox:bbox2}=link?await insertLabel(link,"ticket"in kanbanNode&&kanbanNode.ticket||"",options):await insertLabel(shapeSvg,"ticket"in kanbanNode&&kanbanNode.ticket||"",options));const{label:labelElAssigned,bbox:bboxAssigned}=await insertLabel(shapeSvg,"assigned"in kanbanNode&&kanbanNode.assigned||"",options);kanbanNode.width=orgWidth;const totalWidth=kanbanNode?.width||0,heightAdj=Math.max(bbox2.height,bboxAssigned.height)/2,totalHeight=Math.max(bbox.height+20,kanbanNode?.height||0)+heightAdj,x=-totalWidth/2,y=-totalHeight/2;let rect2;labelElTitle.attr("transform","translate("+(padding-totalWidth/2)+", "+(-heightAdj-bbox.height/2)+")"),labelEl.attr("transform","translate("+(padding-totalWidth/2)+", "+(-heightAdj+bbox.height/2)+")"),labelElAssigned.attr("transform","translate("+(padding+totalWidth/2-bboxAssigned.width-20)+", "+(-heightAdj+bbox.height/2)+")");const{rx,ry}=kanbanNode,{cssStyles}=kanbanNode;if("handDrawn"===kanbanNode.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options2=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(kanbanNode,{}),roughNode=rx||ry?rc.path(createRoundedRectPathD(x,y,totalWidth,totalHeight,rx||0),options2):rc.rectangle(x,y,totalWidth,totalHeight,options2);rect2=shapeSvg.insert((()=>roughNode),":first-child"),rect2.attr("class","basic label-container").attr("style",cssStyles||null)}else{rect2=shapeSvg.insert("rect",":first-child"),rect2.attr("class","basic label-container __APA__").attr("style",nodeStyles).attr("rx",rx??5).attr("ry",ry??5).attr("x",x).attr("y",y).attr("width",totalWidth).attr("height",totalHeight);const priority="priority"in kanbanNode&&kanbanNode.priority;if(priority){const line=shapeSvg.append("line"),lineX=x+2,y1=y+Math.floor((rx??0)/2),y2=y+totalHeight-Math.floor((rx??0)/2);line.attr("x1",lineX).attr("y1",y1).attr("x2",lineX).attr("y2",y2).attr("stroke-width","4").attr("stroke",colorFromPriority(priority))}}return updateNodeBounds(kanbanNode,rect2),kanbanNode.height=totalHeight,kanbanNode.intersect=function(point){return intersect_default.rect(kanbanNode,point)},shapeSvg}async function bang(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,halfPadding,label}=await labelHelper(parent,node,getNodeClasses(node)),w=bbox.width+10*halfPadding,h=bbox.height+8*halfPadding,r=.15*w,{cssStyles}=node,minWidth=bbox.width+20,minHeight=bbox.height+20,effectiveWidth=Math.max(w,minWidth),effectiveHeight=Math.max(h,minHeight);let bangElem;label.attr("transform",`translate(${-bbox.width/2}, ${-bbox.height/2})`);const path=`M0 0 \n    a${r},${r} 1 0,0 ${.25*effectiveWidth},${-1*effectiveHeight*.1}\n    a${r},${r} 1 0,0 ${.25*effectiveWidth},0\n    a${r},${r} 1 0,0 ${.25*effectiveWidth},0\n    a${r},${r} 1 0,0 ${.25*effectiveWidth},${.1*effectiveHeight}\n\n    a${r},${r} 1 0,0 ${.15*effectiveWidth},${.33*effectiveHeight}\n    a${.8*r},${.8*r} 1 0,0 0,${.34*effectiveHeight}\n    a${r},${r} 1 0,0 ${-1*effectiveWidth*.15},${.33*effectiveHeight}\n\n    a${r},${r} 1 0,0 ${-1*effectiveWidth*.25},${.15*effectiveHeight}\n    a${r},${r} 1 0,0 ${-1*effectiveWidth*.25},0\n    a${r},${r} 1 0,0 ${-1*effectiveWidth*.25},0\n    a${r},${r} 1 0,0 ${-1*effectiveWidth*.25},${-1*effectiveHeight*.15}\n\n    a${r},${r} 1 0,0 ${-1*effectiveWidth*.1},${-1*effectiveHeight*.33}\n    a${.8*r},${.8*r} 1 0,0 0,${-1*effectiveHeight*.34}\n    a${r},${r} 1 0,0 ${.1*effectiveWidth},${-1*effectiveHeight*.33}\n  H0 V0 Z`;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),roughNode=rc.path(path,options);bangElem=shapeSvg.insert((()=>roughNode),":first-child"),bangElem.attr("class","basic label-container").attr("style",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(cssStyles))}else bangElem=shapeSvg.insert("path",":first-child").attr("class","basic label-container").attr("style",nodeStyles).attr("d",path);return bangElem.attr("transform",`translate(${-effectiveWidth/2}, ${-effectiveHeight/2})`),updateNodeBounds(node,bangElem),node.calcIntersect=function(bounds,point){return intersect_default.rect(bounds,point)},node.intersect=function(point){return _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("Bang intersect",node,point),intersect_default.rect(node,point)},shapeSvg}async function cloud(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,halfPadding,label}=await labelHelper(parent,node,getNodeClasses(node)),w=bbox.width+2*halfPadding,h=bbox.height+2*halfPadding,r1=.15*w,r2=.25*w,r3=.35*w,r4=.2*w,{cssStyles}=node;let cloudElem;const path=`M0 0 \n    a${r1},${r1} 0 0,1 ${.25*w},${-1*w*.1}\n    a${r3},${r3} 1 0,1 ${.4*w},${-1*w*.1}\n    a${r2},${r2} 1 0,1 ${.35*w},${.2*w}\n\n    a${r1},${r1} 1 0,1 ${.15*w},${.35*h}\n    a${r4},${r4} 1 0,1 ${-1*w*.15},${.65*h}\n\n    a${r2},${r1} 1 0,1 ${-1*w*.25},${.15*w}\n    a${r3},${r3} 1 0,1 ${-1*w*.5},0\n    a${r1},${r1} 1 0,1 ${-1*w*.25},${-1*w*.15}\n\n    a${r1},${r1} 1 0,1 ${-1*w*.1},${-1*h*.35}\n    a${r4},${r4} 1 0,1 ${.1*w},${-1*h*.65}\n  H0 V0 Z`;if("handDrawn"===node.look){const rc=roughjs__WEBPACK_IMPORTED_MODULE_7__.A.svg(shapeSvg),options=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.Fr)(node,{}),roughNode=rc.path(path,options);cloudElem=shapeSvg.insert((()=>roughNode),":first-child"),cloudElem.attr("class","basic label-container").attr("style",(0,_chunk_S3R3BYOJ_mjs__WEBPACK_IMPORTED_MODULE_3__.KL)(cssStyles))}else cloudElem=shapeSvg.insert("path",":first-child").attr("class","basic label-container").attr("style",nodeStyles).attr("d",path);return label.attr("transform",`translate(${-bbox.width/2}, ${-bbox.height/2})`),cloudElem.attr("transform",`translate(${-w/2}, ${-h/2})`),updateNodeBounds(node,cloudElem),node.calcIntersect=function(bounds,point){return intersect_default.rect(bounds,point)},node.intersect=function(point){return _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.info("Cloud intersect",node,point),intersect_default.rect(node,point)},shapeSvg}async function defaultMindmapNode(parent,node){const{labelStyles,nodeStyles}=(0,_chunk_QYVHNE3D_mjs__WEBPACK_IMPORTED_MODULE_1__.GX)(node);node.labelStyle=labelStyles;const{shapeSvg,bbox,halfPadding,label}=await labelHelper(parent,node,getNodeClasses(node)),w=bbox.width+8*halfPadding,h=bbox.height+2*halfPadding,rectPath=`\n    M${-w/2} ${h/2-5}\n    v${10-h}\n    q0,-5 5,-5\n    h${w-10}\n    q5,0 5,5\n    v${h-10}\n    q0,5 -5,5\n    h${10-w}\n    q-5,0 -5,-5\n    Z\n  `,bg=shapeSvg.append("path").attr("id","node-"+node.id).attr("class","node-bkg node-"+node.type).attr("style",nodeStyles).attr("d",rectPath);return shapeSvg.append("line").attr("class","node-line-").attr("x1",-w/2).attr("y1",h/2).attr("x2",w/2).attr("y2",h/2),label.attr("transform",`translate(${-bbox.width/2}, ${-bbox.height/2})`),shapeSvg.append((()=>label.node())),updateNodeBounds(node,bg),node.calcIntersect=function(bounds,point){return intersect_default.rect(bounds,point)},node.intersect=function(point){return intersect_default.rect(node,point)},shapeSvg}async function mindmapCircle(parent,node){return circle(parent,node,{padding:node.padding??0})}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(kanbanItem,"kanbanItem"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(bang,"bang"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(cloud,"cloud"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(defaultMindmapNode,"defaultMindmapNode"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(mindmapCircle,"mindmapCircle");var shapesDefs=[{semanticName:"Process",name:"Rectangle",shortName:"rect",description:"Standard process shape",aliases:["proc","process","rectangle"],internalAliases:["squareRect"],handler:squareRect2},{semanticName:"Event",name:"Rounded Rectangle",shortName:"rounded",description:"Represents an event",aliases:["event"],internalAliases:["roundedRect"],handler:roundedRect},{semanticName:"Terminal Point",name:"Stadium",shortName:"stadium",description:"Terminal point",aliases:["terminal","pill"],handler:stadium},{semanticName:"Subprocess",name:"Framed Rectangle",shortName:"fr-rect",description:"Subprocess",aliases:["subprocess","subproc","framed-rectangle","subroutine"],handler:subroutine},{semanticName:"Database",name:"Cylinder",shortName:"cyl",description:"Database storage",aliases:["db","database","cylinder"],handler:cylinder},{semanticName:"Start",name:"Circle",shortName:"circle",description:"Starting point",aliases:["circ"],handler:circle},{semanticName:"Bang",name:"Bang",shortName:"bang",description:"Bang",aliases:["bang"],handler:bang},{semanticName:"Cloud",name:"Cloud",shortName:"cloud",description:"cloud",aliases:["cloud"],handler:cloud},{semanticName:"Decision",name:"Diamond",shortName:"diam",description:"Decision-making step",aliases:["decision","diamond","question"],handler:question},{semanticName:"Prepare Conditional",name:"Hexagon",shortName:"hex",description:"Preparation or condition step",aliases:["hexagon","prepare"],handler:hexagon},{semanticName:"Data Input/Output",name:"Lean Right",shortName:"lean-r",description:"Represents input or output",aliases:["lean-right","in-out"],internalAliases:["lean_right"],handler:lean_right},{semanticName:"Data Input/Output",name:"Lean Left",shortName:"lean-l",description:"Represents output or input",aliases:["lean-left","out-in"],internalAliases:["lean_left"],handler:lean_left},{semanticName:"Priority Action",name:"Trapezoid Base Bottom",shortName:"trap-b",description:"Priority action",aliases:["priority","trapezoid-bottom","trapezoid"],handler:trapezoid},{semanticName:"Manual Operation",name:"Trapezoid Base Top",shortName:"trap-t",description:"Represents a manual task",aliases:["manual","trapezoid-top","inv-trapezoid"],internalAliases:["inv_trapezoid"],handler:inv_trapezoid},{semanticName:"Stop",name:"Double Circle",shortName:"dbl-circ",description:"Represents a stop point",aliases:["double-circle"],internalAliases:["doublecircle"],handler:doublecircle},{semanticName:"Text Block",name:"Text Block",shortName:"text",description:"Text block",handler:text},{semanticName:"Card",name:"Notched Rectangle",shortName:"notch-rect",description:"Represents a card",aliases:["card","notched-rectangle"],handler:card},{semanticName:"Lined/Shaded Process",name:"Lined Rectangle",shortName:"lin-rect",description:"Lined process shape",aliases:["lined-rectangle","lined-process","lin-proc","shaded-process"],handler:shadedProcess},{semanticName:"Start",name:"Small Circle",shortName:"sm-circ",description:"Small starting point",aliases:["start","small-circle"],internalAliases:["stateStart"],handler:stateStart},{semanticName:"Stop",name:"Framed Circle",shortName:"fr-circ",description:"Stop point",aliases:["stop","framed-circle"],internalAliases:["stateEnd"],handler:stateEnd},{semanticName:"Fork/Join",name:"Filled Rectangle",shortName:"fork",description:"Fork or join in process flow",aliases:["join"],internalAliases:["forkJoin"],handler:forkJoin},{semanticName:"Collate",name:"Hourglass",shortName:"hourglass",description:"Represents a collate operation",aliases:["hourglass","collate"],handler:hourglass},{semanticName:"Comment",name:"Curly Brace",shortName:"brace",description:"Adds a comment",aliases:["comment","brace-l"],handler:curlyBraceLeft},{semanticName:"Comment Right",name:"Curly Brace",shortName:"brace-r",description:"Adds a comment",handler:curlyBraceRight},{semanticName:"Comment with braces on both sides",name:"Curly Braces",shortName:"braces",description:"Adds a comment",handler:curlyBraces},{semanticName:"Com Link",name:"Lightning Bolt",shortName:"bolt",description:"Communication link",aliases:["com-link","lightning-bolt"],handler:lightningBolt},{semanticName:"Document",name:"Document",shortName:"doc",description:"Represents a document",aliases:["doc","document"],handler:waveEdgedRectangle},{semanticName:"Delay",name:"Half-Rounded Rectangle",shortName:"delay",description:"Represents a delay",aliases:["half-rounded-rectangle"],handler:halfRoundedRectangle},{semanticName:"Direct Access Storage",name:"Horizontal Cylinder",shortName:"h-cyl",description:"Direct access storage",aliases:["das","horizontal-cylinder"],handler:tiltedCylinder},{semanticName:"Disk Storage",name:"Lined Cylinder",shortName:"lin-cyl",description:"Disk storage",aliases:["disk","lined-cylinder"],handler:linedCylinder},{semanticName:"Display",name:"Curved Trapezoid",shortName:"curv-trap",description:"Represents a display",aliases:["curved-trapezoid","display"],handler:curvedTrapezoid},{semanticName:"Divided Process",name:"Divided Rectangle",shortName:"div-rect",description:"Divided process shape",aliases:["div-proc","divided-rectangle","divided-process"],handler:dividedRectangle},{semanticName:"Extract",name:"Triangle",shortName:"tri",description:"Extraction process",aliases:["extract","triangle"],handler:triangle},{semanticName:"Internal Storage",name:"Window Pane",shortName:"win-pane",description:"Internal storage",aliases:["internal-storage","window-pane"],handler:windowPane},{semanticName:"Junction",name:"Filled Circle",shortName:"f-circ",description:"Junction point",aliases:["junction","filled-circle"],handler:filledCircle},{semanticName:"Loop Limit",name:"Trapezoidal Pentagon",shortName:"notch-pent",description:"Loop limit step",aliases:["loop-limit","notched-pentagon"],handler:trapezoidalPentagon},{semanticName:"Manual File",name:"Flipped Triangle",shortName:"flip-tri",description:"Manual file operation",aliases:["manual-file","flipped-triangle"],handler:flippedTriangle},{semanticName:"Manual Input",name:"Sloped Rectangle",shortName:"sl-rect",description:"Manual input step",aliases:["manual-input","sloped-rectangle"],handler:slopedRect},{semanticName:"Multi-Document",name:"Stacked Document",shortName:"docs",description:"Multiple documents",aliases:["documents","st-doc","stacked-document"],handler:multiWaveEdgedRectangle},{semanticName:"Multi-Process",name:"Stacked Rectangle",shortName:"st-rect",description:"Multiple processes",aliases:["procs","processes","stacked-rectangle"],handler:multiRect},{semanticName:"Stored Data",name:"Bow Tie Rectangle",shortName:"bow-rect",description:"Stored data",aliases:["stored-data","bow-tie-rectangle"],handler:bowTieRect},{semanticName:"Summary",name:"Crossed Circle",shortName:"cross-circ",description:"Summary",aliases:["summary","crossed-circle"],handler:crossedCircle},{semanticName:"Tagged Document",name:"Tagged Document",shortName:"tag-doc",description:"Tagged document",aliases:["tag-doc","tagged-document"],handler:taggedWaveEdgedRectangle},{semanticName:"Tagged Process",name:"Tagged Rectangle",shortName:"tag-rect",description:"Tagged process",aliases:["tagged-rectangle","tag-proc","tagged-process"],handler:taggedRect},{semanticName:"Paper Tape",name:"Flag",shortName:"flag",description:"Paper tape",aliases:["paper-tape"],handler:waveRectangle},{semanticName:"Odd",name:"Odd",shortName:"odd",description:"Odd shape",internalAliases:["rect_left_inv_arrow"],handler:rect_left_inv_arrow},{semanticName:"Lined Document",name:"Lined Document",shortName:"lin-doc",description:"Lined document",aliases:["lined-document"],handler:linedWaveEdgedRect}],shapes2=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)((()=>{const undocumentedShapes={state,choice,note,rectWithTitle,labelRect,iconSquare,iconCircle,icon,iconRounded,imageSquare,anchor,kanbanItem,mindmapCircle,defaultMindmapNode,classBox,erBox,requirementBox},entries=[...Object.entries(undocumentedShapes),...shapesDefs.flatMap((shape=>[shape.shortName,..."aliases"in shape?shape.aliases:[],..."internalAliases"in shape?shape.internalAliases:[]].map((alias=>[alias,shape.handler]))))];return Object.fromEntries(entries)}),"generateShapeMap")();function isValidShape(shape){return shape in shapes2}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(isValidShape,"isValidShape");var nodeElems=new Map;async function insertNode(elem,node,renderOptions){let newEl,el;"rect"===node.shape&&(node.rx&&node.ry?node.shape="roundedRect":node.shape="squareRect");const shapeHandler=node.shape?shapes2[node.shape]:void 0;if(!shapeHandler)throw new Error(`No such shape: ${node.shape}. Please check your syntax.`);if(node.link){let target;"sandbox"===renderOptions.config.securityLevel?target="_top":node.linkTarget&&(target=node.linkTarget||"_blank"),newEl=elem.insert("svg:a").attr("xlink:href",node.link).attr("target",target??null),el=await shapeHandler(newEl,node,renderOptions)}else el=await shapeHandler(elem,node,renderOptions),newEl=el;return node.tooltip&&el.attr("title",node.tooltip),nodeElems.set(node.id,newEl),node.haveCallback&&newEl.attr("class",newEl.attr("class")+" clickable"),newEl}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(insertNode,"insertNode");var setNodeElem=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)(((elem,node)=>{nodeElems.set(node.id,elem)}),"setNodeElem"),clear2=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)((()=>{nodeElems.clear()}),"clear"),positionNode=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.K2)((node=>{const el=nodeElems.get(node.id);_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_5__.Rm.trace("Transforming node",node.diff,node,"translate("+(node.x-node.width/2-5)+", "+node.width/2+")");const diff=node.diff||0;return node.clusterNode?el.attr("transform","translate("+(node.x+diff-node.width/2)+", "+(node.y-node.height/2-8)+")"):el.attr("transform","translate("+node.x+", "+node.y+")"),diff}),"positionNode")},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{D:()=>selectSvgElement});var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs"),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs"),d3__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/d3@7.9.0/node_modules/d3/src/index.js"),selectSvgElement=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((id=>{const{securityLevel}=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.D7)();let root=(0,d3__WEBPACK_IMPORTED_MODULE_2__.Ltv)("body");if("sandbox"===securityLevel){const sandboxElement=(0,d3__WEBPACK_IMPORTED_MODULE_2__.Ltv)(`#i${id}`),doc=sandboxElement.node()?.contentDocument??document;root=(0,d3__WEBPACK_IMPORTED_MODULE_2__.Ltv)(doc.body)}return root.select(`#${id}`)}),"selectSvgElement")},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{W6:()=>computeDimensionOfText,GZ:()=>createText,WY:()=>getIconSVG,pC:()=>registerIconPacks,hE:()=>replaceIconSubstring,Gc:()=>unknownIcon});var chunk_S3R3BYOJ=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs"),chunk_ABZYJK2D=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs"),chunk_AGHRB4JF=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");const validateIconName=(icon,allowSimpleName)=>!!icon&&!(!(allowSimpleName&&""===icon.prefix||icon.prefix)||!icon.name),defaultIconDimensions=Object.freeze({left:0,top:0,width:16,height:16}),defaultIconTransformations=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),defaultIconProps=Object.freeze({...defaultIconDimensions,...defaultIconTransformations}),defaultExtendedIconProps=Object.freeze({...defaultIconProps,body:"",hidden:!1});function mergeIconData(parent,child){const result=function mergeIconTransformations(obj1,obj2){const result={};!obj1.hFlip!=!obj2.hFlip&&(result.hFlip=!0),!obj1.vFlip!=!obj2.vFlip&&(result.vFlip=!0);const rotate=((obj1.rotate||0)+(obj2.rotate||0))%4;return rotate&&(result.rotate=rotate),result}(parent,child);for(const key in defaultExtendedIconProps)key in defaultIconTransformations?key in parent&&!(key in result)&&(result[key]=defaultIconTransformations[key]):key in child?result[key]=child[key]:key in parent&&(result[key]=parent[key]);return result}function internalGetIconData(data,name,tree){const icons=data.icons,aliases=data.aliases||Object.create(null);let currentProps={};function parse(name$1){currentProps=mergeIconData(icons[name$1]||aliases[name$1],currentProps)}return parse(name),tree.forEach(parse),mergeIconData(data,currentProps)}function getIconData(data,name){if(data.icons[name])return internalGetIconData(data,name,[]);const tree=function getIconsTree(data,names){const icons=data.icons,aliases=data.aliases||Object.create(null),resolved=Object.create(null);return(names||Object.keys(icons).concat(Object.keys(aliases))).forEach((function resolve(name){if(icons[name])return resolved[name]=[];if(!(name in resolved)){resolved[name]=null;const parent=aliases[name]&&aliases[name].parent,value=parent&&resolve(parent);value&&(resolved[name]=[parent].concat(value))}return resolved[name]})),resolved}(data,[name])[name];return tree?internalGetIconData(data,name,tree):null}const defaultIconSizeCustomisations=Object.freeze({width:null,height:null}),defaultIconCustomisations=Object.freeze({...defaultIconSizeCustomisations,...defaultIconTransformations}),unitsSplit=/(-?[0-9.]*[0-9]+[0-9.]*)/g,unitsTest=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function calculateSize(size,ratio,precision){if(1===ratio)return size;if(precision=precision||100,"number"==typeof size)return Math.ceil(size*ratio*precision)/precision;if("string"!=typeof size)return size;const oldParts=size.split(unitsSplit);if(null===oldParts||!oldParts.length)return size;const newParts=[];let code=oldParts.shift(),isNumber=unitsTest.test(code);for(;;){if(isNumber){const num=parseFloat(code);isNaN(num)?newParts.push(code):newParts.push(Math.ceil(num*ratio*precision)/precision)}else newParts.push(code);if(code=oldParts.shift(),void 0===code)return newParts.join("");isNumber=!isNumber}}const regex=/\sid="(\S+)"/g,randomPrefix="IconifyId"+Date.now().toString(16)+(16777216*Math.random()|0).toString(16);let counter=0;var src=__webpack_require__("./node_modules/.pnpm/d3@7.9.0/node_modules/d3/src/index.js"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");function _getDefaults(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var _defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};function changeDefaults(newDefaults){_defaults=newDefaults}var noopTest={exec:()=>null};function edit(regex,opt=""){let source="string"==typeof regex?regex:regex.source;const obj={replace:(name,val)=>{let valSource="string"==typeof val?val:val.source;return valSource=valSource.replace(other.caret,"$1"),source=source.replace(name,valSource),obj},getRegex:()=>new RegExp(source,opt)};return obj}var other={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:bull=>new RegExp(`^( {0,3}${bull})((?:[\t ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:indent=>new RegExp(`^ {0,${Math.min(3,indent-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ \t][^\\n]*)?(?:\\n|$))`),hrRegex:indent=>new RegExp(`^ {0,${Math.min(3,indent-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:indent=>new RegExp(`^ {0,${Math.min(3,indent-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:indent=>new RegExp(`^ {0,${Math.min(3,indent-1)}}#`),htmlBeginRegex:indent=>new RegExp(`^ {0,${Math.min(3,indent-1)}}<(?:[a-z].*>|!--)`,"i")},hr=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,bullet=/(?:[*+-]|\d{1,9}[.)])/,lheadingCore=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,lheading=edit(lheadingCore).replace(/bull/g,bullet).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),lheadingGfm=edit(lheadingCore).replace(/bull/g,bullet).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),_paragraph=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,_blockLabel=/(?!\s*\])(?:\\.|[^\[\]\\])+/,def=edit(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",_blockLabel).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),list=edit(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,bullet).getRegex(),_tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",_comment=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,html=edit("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ \t]*)+\\n|$))","i").replace("comment",_comment).replace("tag",_tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),paragraph=edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockNormal={blockquote:edit(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",paragraph).getRegex(),code:/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,def,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,hr,html,lheading,list,newline:/^(?:[ \t]*(?:\n|$))+/,paragraph,table:noopTest,text:/^[^\n]+/},gfmTable=edit("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}\t)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex(),blockGfm={...blockNormal,lheading:lheadingGfm,table:gfmTable,paragraph:edit(_paragraph).replace("hr",hr).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",gfmTable).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_tag).getRegex()},blockPedantic={...blockNormal,html:edit("^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:\"[^\"]*\"|'[^']*'|\\s[^'\"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))").replace("comment",_comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:noopTest,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:edit(_paragraph).replace("hr",hr).replace("heading"," *#{1,6} *[^\n]").replace("lheading",lheading).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},br=/^( {2,}|\\)\n(?!\s*$)/,_punctuation=/[\p{P}\p{S}]/u,_punctuationOrSpace=/[\s\p{P}\p{S}]/u,_notPunctuationOrSpace=/[^\s\p{P}\p{S}]/u,punctuation=edit(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,_punctuationOrSpace).getRegex(),_punctuationGfmStrongEm=/(?!~)[\p{P}\p{S}]/u,emStrongLDelimCore=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,emStrongLDelim=edit(emStrongLDelimCore,"u").replace(/punct/g,_punctuation).getRegex(),emStrongLDelimGfm=edit(emStrongLDelimCore,"u").replace(/punct/g,_punctuationGfmStrongEm).getRegex(),emStrongRDelimAstCore="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",emStrongRDelimAst=edit(emStrongRDelimAstCore,"gu").replace(/notPunctSpace/g,_notPunctuationOrSpace).replace(/punctSpace/g,_punctuationOrSpace).replace(/punct/g,_punctuation).getRegex(),emStrongRDelimAstGfm=edit(emStrongRDelimAstCore,"gu").replace(/notPunctSpace/g,/(?:[^\s\p{P}\p{S}]|~)/u).replace(/punctSpace/g,/(?!~)[\s\p{P}\p{S}]/u).replace(/punct/g,_punctuationGfmStrongEm).getRegex(),emStrongRDelimUnd=edit("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,_notPunctuationOrSpace).replace(/punctSpace/g,_punctuationOrSpace).replace(/punct/g,_punctuation).getRegex(),anyPunctuation=edit(/\\(punct)/,"gu").replace(/punct/g,_punctuation).getRegex(),autolink=edit(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),_inlineComment=edit(_comment).replace("(?:--\x3e|$)","--\x3e").getRegex(),tag=edit("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",_inlineComment).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),_inlineLabel=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,marked_esm_link=edit(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",_inlineLabel).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),reflink=edit(/^!?\[(label)\]\[(ref)\]/).replace("label",_inlineLabel).replace("ref",_blockLabel).getRegex(),nolink=edit(/^!?\[(ref)\](?:\[\])?/).replace("ref",_blockLabel).getRegex(),inlineNormal={_backpedal:noopTest,anyPunctuation,autolink,blockSkip:/\[[^[\]]*?\]\((?:\\.|[^\\\(\)]|\((?:\\.|[^\\\(\)])*\))*\)|`[^`]*?`|<[^<>]*?>/g,br,code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,del:noopTest,emStrongLDelim,emStrongRDelimAst,emStrongRDelimUnd,escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,link:marked_esm_link,nolink,punctuation,reflink,reflinkSearch:edit("reflink|nolink(?!\\()","g").replace("reflink",reflink).replace("nolink",nolink).getRegex(),tag,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,url:noopTest},inlinePedantic={...inlineNormal,link:edit(/^!?\[(label)\]\((.*?)\)/).replace("label",_inlineLabel).getRegex(),reflink:edit(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",_inlineLabel).getRegex()},inlineGfm={...inlineNormal,emStrongRDelimAst:emStrongRDelimAstGfm,emStrongLDelim:emStrongLDelimGfm,url:edit(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\.|[^\\])*?(?:\\.|[^\s~\\]))\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},inlineBreaks={...inlineGfm,br:edit(br).replace("{2,}","*").getRegex(),text:edit(inlineGfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},block={normal:blockNormal,gfm:blockGfm,pedantic:blockPedantic},inline={normal:inlineNormal,gfm:inlineGfm,breaks:inlineBreaks,pedantic:inlinePedantic},escapeReplacements={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},getEscapeReplacement=ch=>escapeReplacements[ch];function escape2(html2,encode){if(encode){if(other.escapeTest.test(html2))return html2.replace(other.escapeReplace,getEscapeReplacement)}else if(other.escapeTestNoEncode.test(html2))return html2.replace(other.escapeReplaceNoEncode,getEscapeReplacement);return html2}function cleanUrl(href){try{href=encodeURI(href).replace(other.percentDecode,"%")}catch{return null}return href}function splitCells(tableRow,count){const cells=tableRow.replace(other.findPipe,((match,offset,str)=>{let escaped=!1,curr=offset;for(;--curr>=0&&"\\"===str[curr];)escaped=!escaped;return escaped?"|":" |"})).split(other.splitPipe);let i=0;if(cells[0].trim()||cells.shift(),cells.length>0&&!cells.at(-1)?.trim()&&cells.pop(),count)if(cells.length>count)cells.splice(count);else for(;cells.length<count;)cells.push("");for(;i<cells.length;i++)cells[i]=cells[i].trim().replace(other.slashPipe,"|");return cells}function rtrim(str,c,invert){const l=str.length;if(0===l)return"";let suffLen=0;for(;suffLen<l;){const currChar=str.charAt(l-suffLen-1);if(currChar!==c||invert){if(currChar===c||!invert)break;suffLen++}else suffLen++}return str.slice(0,l-suffLen)}function outputLink(cap,link2,raw,lexer2,rules){const href=link2.href,title=link2.title||null,text=cap[1].replace(rules.other.outputLinkReplace,"$1");lexer2.state.inLink=!0;const token={type:"!"===cap[0].charAt(0)?"image":"link",raw,href,title,text,tokens:lexer2.inlineTokens(text)};return lexer2.state.inLink=!1,token}var _Tokenizer=class{options;rules;lexer;constructor(options2){this.options=options2||_defaults}space(src){const cap=this.rules.block.newline.exec(src);if(cap&&cap[0].length>0)return{type:"space",raw:cap[0]}}code(src){const cap=this.rules.block.code.exec(src);if(cap){const text=cap[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:cap[0],codeBlockStyle:"indented",text:this.options.pedantic?text:rtrim(text,"\n")}}}fences(src){const cap=this.rules.block.fences.exec(src);if(cap){const raw=cap[0],text=function indentCodeCompensation(raw,text,rules){const matchIndentToCode=raw.match(rules.other.indentCodeCompensation);if(null===matchIndentToCode)return text;const indentToCode=matchIndentToCode[1];return text.split("\n").map((node=>{const matchIndentInNode=node.match(rules.other.beginningSpace);if(null===matchIndentInNode)return node;const[indentInNode]=matchIndentInNode;return indentInNode.length>=indentToCode.length?node.slice(indentToCode.length):node})).join("\n")}(raw,cap[3]||"",this.rules);return{type:"code",raw,lang:cap[2]?cap[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):cap[2],text}}}heading(src){const cap=this.rules.block.heading.exec(src);if(cap){let text=cap[2].trim();if(this.rules.other.endingHash.test(text)){const trimmed=rtrim(text,"#");this.options.pedantic?text=trimmed.trim():trimmed&&!this.rules.other.endingSpaceChar.test(trimmed)||(text=trimmed.trim())}return{type:"heading",raw:cap[0],depth:cap[1].length,text,tokens:this.lexer.inline(text)}}}hr(src){const cap=this.rules.block.hr.exec(src);if(cap)return{type:"hr",raw:rtrim(cap[0],"\n")}}blockquote(src){const cap=this.rules.block.blockquote.exec(src);if(cap){let lines=rtrim(cap[0],"\n").split("\n"),raw="",text="";const tokens=[];for(;lines.length>0;){let inBlockquote=!1;const currentLines=[];let i;for(i=0;i<lines.length;i++)if(this.rules.other.blockquoteStart.test(lines[i]))currentLines.push(lines[i]),inBlockquote=!0;else{if(inBlockquote)break;currentLines.push(lines[i])}lines=lines.slice(i);const currentRaw=currentLines.join("\n"),currentText=currentRaw.replace(this.rules.other.blockquoteSetextReplace,"\n    $1").replace(this.rules.other.blockquoteSetextReplace2,"");raw=raw?`${raw}\n${currentRaw}`:currentRaw,text=text?`${text}\n${currentText}`:currentText;const top=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(currentText,tokens,!0),this.lexer.state.top=top,0===lines.length)break;const lastToken=tokens.at(-1);if("code"===lastToken?.type)break;if("blockquote"===lastToken?.type){const oldToken=lastToken,newText=oldToken.raw+"\n"+lines.join("\n"),newToken=this.blockquote(newText);tokens[tokens.length-1]=newToken,raw=raw.substring(0,raw.length-oldToken.raw.length)+newToken.raw,text=text.substring(0,text.length-oldToken.text.length)+newToken.text;break}if("list"!==lastToken?.type);else{const oldToken=lastToken,newText=oldToken.raw+"\n"+lines.join("\n"),newToken=this.list(newText);tokens[tokens.length-1]=newToken,raw=raw.substring(0,raw.length-lastToken.raw.length)+newToken.raw,text=text.substring(0,text.length-oldToken.raw.length)+newToken.raw,lines=newText.substring(tokens.at(-1).raw.length).split("\n")}}return{type:"blockquote",raw,tokens,text}}}list(src){let cap=this.rules.block.list.exec(src);if(cap){let bull=cap[1].trim();const isordered=bull.length>1,list2={type:"list",raw:"",ordered:isordered,start:isordered?+bull.slice(0,-1):"",loose:!1,items:[]};bull=isordered?`\\d{1,9}\\${bull.slice(-1)}`:`\\${bull}`,this.options.pedantic&&(bull=isordered?bull:"[*+-]");const itemRegex=this.rules.other.listItemRegex(bull);let endsWithBlankLine=!1;for(;src;){let endEarly=!1,raw="",itemContents="";if(!(cap=itemRegex.exec(src)))break;if(this.rules.block.hr.test(src))break;raw=cap[0],src=src.substring(raw.length);let line=cap[2].split("\n",1)[0].replace(this.rules.other.listReplaceTabs,(t=>" ".repeat(3*t.length))),nextLine=src.split("\n",1)[0],blankLine=!line.trim(),indent=0;if(this.options.pedantic?(indent=2,itemContents=line.trimStart()):blankLine?indent=cap[1].length+1:(indent=cap[2].search(this.rules.other.nonSpaceChar),indent=indent>4?1:indent,itemContents=line.slice(indent),indent+=cap[1].length),blankLine&&this.rules.other.blankLine.test(nextLine)&&(raw+=nextLine+"\n",src=src.substring(nextLine.length+1),endEarly=!0),!endEarly){const nextBulletRegex=this.rules.other.nextBulletRegex(indent),hrRegex=this.rules.other.hrRegex(indent),fencesBeginRegex=this.rules.other.fencesBeginRegex(indent),headingBeginRegex=this.rules.other.headingBeginRegex(indent),htmlBeginRegex=this.rules.other.htmlBeginRegex(indent);for(;src;){const rawLine=src.split("\n",1)[0];let nextLineWithoutTabs;if(nextLine=rawLine,this.options.pedantic?(nextLine=nextLine.replace(this.rules.other.listReplaceNesting,"  "),nextLineWithoutTabs=nextLine):nextLineWithoutTabs=nextLine.replace(this.rules.other.tabCharGlobal,"    "),fencesBeginRegex.test(nextLine))break;if(headingBeginRegex.test(nextLine))break;if(htmlBeginRegex.test(nextLine))break;if(nextBulletRegex.test(nextLine))break;if(hrRegex.test(nextLine))break;if(nextLineWithoutTabs.search(this.rules.other.nonSpaceChar)>=indent||!nextLine.trim())itemContents+="\n"+nextLineWithoutTabs.slice(indent);else{if(blankLine)break;if(line.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4)break;if(fencesBeginRegex.test(line))break;if(headingBeginRegex.test(line))break;if(hrRegex.test(line))break;itemContents+="\n"+nextLine}blankLine||nextLine.trim()||(blankLine=!0),raw+=rawLine+"\n",src=src.substring(rawLine.length+1),line=nextLineWithoutTabs.slice(indent)}}list2.loose||(endsWithBlankLine?list2.loose=!0:this.rules.other.doubleBlankLine.test(raw)&&(endsWithBlankLine=!0));let ischecked,istask=null;this.options.gfm&&(istask=this.rules.other.listIsTask.exec(itemContents),istask&&(ischecked="[ ] "!==istask[0],itemContents=itemContents.replace(this.rules.other.listReplaceTask,""))),list2.items.push({type:"list_item",raw,task:!!istask,checked:ischecked,loose:!1,text:itemContents,tokens:[]}),list2.raw+=raw}const lastItem=list2.items.at(-1);if(!lastItem)return;lastItem.raw=lastItem.raw.trimEnd(),lastItem.text=lastItem.text.trimEnd(),list2.raw=list2.raw.trimEnd();for(let i=0;i<list2.items.length;i++)if(this.lexer.state.top=!1,list2.items[i].tokens=this.lexer.blockTokens(list2.items[i].text,[]),!list2.loose){const spacers=list2.items[i].tokens.filter((t=>"space"===t.type)),hasMultipleLineBreaks=spacers.length>0&&spacers.some((t=>this.rules.other.anyLine.test(t.raw)));list2.loose=hasMultipleLineBreaks}if(list2.loose)for(let i=0;i<list2.items.length;i++)list2.items[i].loose=!0;return list2}}html(src){const cap=this.rules.block.html.exec(src);if(cap){return{type:"html",block:!0,raw:cap[0],pre:"pre"===cap[1]||"script"===cap[1]||"style"===cap[1],text:cap[0]}}}def(src){const cap=this.rules.block.def.exec(src);if(cap){const tag2=cap[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),href=cap[2]?cap[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",title=cap[3]?cap[3].substring(1,cap[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):cap[3];return{type:"def",tag:tag2,raw:cap[0],href,title}}}table(src){const cap=this.rules.block.table.exec(src);if(!cap)return;if(!this.rules.other.tableDelimiter.test(cap[2]))return;const headers=splitCells(cap[1]),aligns=cap[2].replace(this.rules.other.tableAlignChars,"").split("|"),rows=cap[3]?.trim()?cap[3].replace(this.rules.other.tableRowBlankLine,"").split("\n"):[],item={type:"table",raw:cap[0],header:[],align:[],rows:[]};if(headers.length===aligns.length){for(const align of aligns)this.rules.other.tableAlignRight.test(align)?item.align.push("right"):this.rules.other.tableAlignCenter.test(align)?item.align.push("center"):this.rules.other.tableAlignLeft.test(align)?item.align.push("left"):item.align.push(null);for(let i=0;i<headers.length;i++)item.header.push({text:headers[i],tokens:this.lexer.inline(headers[i]),header:!0,align:item.align[i]});for(const row of rows)item.rows.push(splitCells(row,item.header.length).map(((cell,i)=>({text:cell,tokens:this.lexer.inline(cell),header:!1,align:item.align[i]}))));return item}}lheading(src){const cap=this.rules.block.lheading.exec(src);if(cap)return{type:"heading",raw:cap[0],depth:"="===cap[2].charAt(0)?1:2,text:cap[1],tokens:this.lexer.inline(cap[1])}}paragraph(src){const cap=this.rules.block.paragraph.exec(src);if(cap){const text="\n"===cap[1].charAt(cap[1].length-1)?cap[1].slice(0,-1):cap[1];return{type:"paragraph",raw:cap[0],text,tokens:this.lexer.inline(text)}}}text(src){const cap=this.rules.block.text.exec(src);if(cap)return{type:"text",raw:cap[0],text:cap[0],tokens:this.lexer.inline(cap[0])}}escape(src){const cap=this.rules.inline.escape.exec(src);if(cap)return{type:"escape",raw:cap[0],text:cap[1]}}tag(src){const cap=this.rules.inline.tag.exec(src);if(cap)return!this.lexer.state.inLink&&this.rules.other.startATag.test(cap[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(cap[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(cap[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(cap[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:cap[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:cap[0]}}link(src){const cap=this.rules.inline.link.exec(src);if(cap){const trimmedUrl=cap[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(trimmedUrl)){if(!this.rules.other.endAngleBracket.test(trimmedUrl))return;const rtrimSlash=rtrim(trimmedUrl.slice(0,-1),"\\");if((trimmedUrl.length-rtrimSlash.length)%2==0)return}else{const lastParenIndex=function findClosingBracket(str,b){if(-1===str.indexOf(b[1]))return-1;let level=0;for(let i=0;i<str.length;i++)if("\\"===str[i])i++;else if(str[i]===b[0])level++;else if(str[i]===b[1]&&(level--,level<0))return i;return level>0?-2:-1}(cap[2],"()");if(-2===lastParenIndex)return;if(lastParenIndex>-1){const linkLen=(0===cap[0].indexOf("!")?5:4)+cap[1].length+lastParenIndex;cap[2]=cap[2].substring(0,lastParenIndex),cap[0]=cap[0].substring(0,linkLen).trim(),cap[3]=""}}let href=cap[2],title="";if(this.options.pedantic){const link2=this.rules.other.pedanticHrefTitle.exec(href);link2&&(href=link2[1],title=link2[3])}else title=cap[3]?cap[3].slice(1,-1):"";return href=href.trim(),this.rules.other.startAngleBracket.test(href)&&(href=this.options.pedantic&&!this.rules.other.endAngleBracket.test(trimmedUrl)?href.slice(1):href.slice(1,-1)),outputLink(cap,{href:href?href.replace(this.rules.inline.anyPunctuation,"$1"):href,title:title?title.replace(this.rules.inline.anyPunctuation,"$1"):title},cap[0],this.lexer,this.rules)}}reflink(src,links){let cap;if((cap=this.rules.inline.reflink.exec(src))||(cap=this.rules.inline.nolink.exec(src))){const link2=links[(cap[2]||cap[1]).replace(this.rules.other.multipleSpaceGlobal," ").toLowerCase()];if(!link2){const text=cap[0].charAt(0);return{type:"text",raw:text,text}}return outputLink(cap,link2,cap[0],this.lexer,this.rules)}}emStrong(src,maskedSrc,prevChar=""){let match=this.rules.inline.emStrongLDelim.exec(src);if(!match)return;if(match[3]&&prevChar.match(this.rules.other.unicodeAlphaNumeric))return;if(!(match[1]||match[2]||"")||!prevChar||this.rules.inline.punctuation.exec(prevChar)){const lLength=[...match[0]].length-1;let rDelim,rLength,delimTotal=lLength,midDelimTotal=0;const endReg="*"===match[0][0]?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(endReg.lastIndex=0,maskedSrc=maskedSrc.slice(-1*src.length+lLength);null!=(match=endReg.exec(maskedSrc));){if(rDelim=match[1]||match[2]||match[3]||match[4]||match[5]||match[6],!rDelim)continue;if(rLength=[...rDelim].length,match[3]||match[4]){delimTotal+=rLength;continue}if((match[5]||match[6])&&lLength%3&&!((lLength+rLength)%3)){midDelimTotal+=rLength;continue}if(delimTotal-=rLength,delimTotal>0)continue;rLength=Math.min(rLength,rLength+delimTotal+midDelimTotal);const lastCharLength=[...match[0]][0].length,raw=src.slice(0,lLength+match.index+lastCharLength+rLength);if(Math.min(lLength,rLength)%2){const text2=raw.slice(1,-1);return{type:"em",raw,text:text2,tokens:this.lexer.inlineTokens(text2)}}const text=raw.slice(2,-2);return{type:"strong",raw,text,tokens:this.lexer.inlineTokens(text)}}}}codespan(src){const cap=this.rules.inline.code.exec(src);if(cap){let text=cap[2].replace(this.rules.other.newLineCharGlobal," ");const hasNonSpaceChars=this.rules.other.nonSpaceChar.test(text),hasSpaceCharsOnBothEnds=this.rules.other.startingSpaceChar.test(text)&&this.rules.other.endingSpaceChar.test(text);return hasNonSpaceChars&&hasSpaceCharsOnBothEnds&&(text=text.substring(1,text.length-1)),{type:"codespan",raw:cap[0],text}}}br(src){const cap=this.rules.inline.br.exec(src);if(cap)return{type:"br",raw:cap[0]}}del(src){const cap=this.rules.inline.del.exec(src);if(cap)return{type:"del",raw:cap[0],text:cap[2],tokens:this.lexer.inlineTokens(cap[2])}}autolink(src){const cap=this.rules.inline.autolink.exec(src);if(cap){let text,href;return"@"===cap[2]?(text=cap[1],href="mailto:"+text):(text=cap[1],href=text),{type:"link",raw:cap[0],text,href,tokens:[{type:"text",raw:text,text}]}}}url(src){let cap;if(cap=this.rules.inline.url.exec(src)){let text,href;if("@"===cap[2])text=cap[0],href="mailto:"+text;else{let prevCapZero;do{prevCapZero=cap[0],cap[0]=this.rules.inline._backpedal.exec(cap[0])?.[0]??""}while(prevCapZero!==cap[0]);text=cap[0],href="www."===cap[1]?"http://"+cap[0]:cap[0]}return{type:"link",raw:cap[0],text,href,tokens:[{type:"text",raw:text,text}]}}}inlineText(src){const cap=this.rules.inline.text.exec(src);if(cap){const escaped=this.lexer.state.inRawBlock;return{type:"text",raw:cap[0],text:cap[0],escaped}}}},_Lexer=class __Lexer{tokens;options;state;tokenizer;inlineQueue;constructor(options2){this.tokens=[],this.tokens.links=Object.create(null),this.options=options2||_defaults,this.options.tokenizer=this.options.tokenizer||new _Tokenizer,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const rules={other,block:block.normal,inline:inline.normal};this.options.pedantic?(rules.block=block.pedantic,rules.inline=inline.pedantic):this.options.gfm&&(rules.block=block.gfm,this.options.breaks?rules.inline=inline.breaks:rules.inline=inline.gfm),this.tokenizer.rules=rules}static get rules(){return{block,inline}}static lex(src,options2){return new __Lexer(options2).lex(src)}static lexInline(src,options2){return new __Lexer(options2).inlineTokens(src)}lex(src){src=src.replace(other.carriageReturn,"\n"),this.blockTokens(src,this.tokens);for(let i=0;i<this.inlineQueue.length;i++){const next=this.inlineQueue[i];this.inlineTokens(next.src,next.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(src,tokens=[],lastParagraphClipped=!1){for(this.options.pedantic&&(src=src.replace(other.tabCharGlobal,"    ").replace(other.spaceLine,""));src;){let token;if(this.options.extensions?.block?.some((extTokenizer=>!!(token=extTokenizer.call({lexer:this},src,tokens))&&(src=src.substring(token.raw.length),tokens.push(token),!0))))continue;if(token=this.tokenizer.space(src)){src=src.substring(token.raw.length);const lastToken=tokens.at(-1);1===token.raw.length&&void 0!==lastToken?lastToken.raw+="\n":tokens.push(token);continue}if(token=this.tokenizer.code(src)){src=src.substring(token.raw.length);const lastToken=tokens.at(-1);"paragraph"===lastToken?.type||"text"===lastToken?.type?(lastToken.raw+="\n"+token.raw,lastToken.text+="\n"+token.text,this.inlineQueue.at(-1).src=lastToken.text):tokens.push(token);continue}if(token=this.tokenizer.fences(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.heading(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.hr(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.blockquote(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.list(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.html(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.def(src)){src=src.substring(token.raw.length);const lastToken=tokens.at(-1);"paragraph"===lastToken?.type||"text"===lastToken?.type?(lastToken.raw+="\n"+token.raw,lastToken.text+="\n"+token.raw,this.inlineQueue.at(-1).src=lastToken.text):this.tokens.links[token.tag]||(this.tokens.links[token.tag]={href:token.href,title:token.title});continue}if(token=this.tokenizer.table(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.lheading(src)){src=src.substring(token.raw.length),tokens.push(token);continue}let cutSrc=src;if(this.options.extensions?.startBlock){let startIndex=1/0;const tempSrc=src.slice(1);let tempStart;this.options.extensions.startBlock.forEach((getStartIndex=>{tempStart=getStartIndex.call({lexer:this},tempSrc),"number"==typeof tempStart&&tempStart>=0&&(startIndex=Math.min(startIndex,tempStart))})),startIndex<1/0&&startIndex>=0&&(cutSrc=src.substring(0,startIndex+1))}if(this.state.top&&(token=this.tokenizer.paragraph(cutSrc))){const lastToken=tokens.at(-1);lastParagraphClipped&&"paragraph"===lastToken?.type?(lastToken.raw+="\n"+token.raw,lastToken.text+="\n"+token.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=lastToken.text):tokens.push(token),lastParagraphClipped=cutSrc.length!==src.length,src=src.substring(token.raw.length)}else if(token=this.tokenizer.text(src)){src=src.substring(token.raw.length);const lastToken=tokens.at(-1);"text"===lastToken?.type?(lastToken.raw+="\n"+token.raw,lastToken.text+="\n"+token.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=lastToken.text):tokens.push(token)}else if(src){const errMsg="Infinite loop on byte: "+src.charCodeAt(0);if(this.options.silent){console.error(errMsg);break}throw new Error(errMsg)}}return this.state.top=!0,tokens}inline(src,tokens=[]){return this.inlineQueue.push({src,tokens}),tokens}inlineTokens(src,tokens=[]){let maskedSrc=src,match=null;if(this.tokens.links){const links=Object.keys(this.tokens.links);if(links.length>0)for(;null!=(match=this.tokenizer.rules.inline.reflinkSearch.exec(maskedSrc));)links.includes(match[0].slice(match[0].lastIndexOf("[")+1,-1))&&(maskedSrc=maskedSrc.slice(0,match.index)+"["+"a".repeat(match[0].length-2)+"]"+maskedSrc.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;null!=(match=this.tokenizer.rules.inline.anyPunctuation.exec(maskedSrc));)maskedSrc=maskedSrc.slice(0,match.index)+"++"+maskedSrc.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;null!=(match=this.tokenizer.rules.inline.blockSkip.exec(maskedSrc));)maskedSrc=maskedSrc.slice(0,match.index)+"["+"a".repeat(match[0].length-2)+"]"+maskedSrc.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);let keepPrevChar=!1,prevChar="";for(;src;){let token;if(keepPrevChar||(prevChar=""),keepPrevChar=!1,this.options.extensions?.inline?.some((extTokenizer=>!!(token=extTokenizer.call({lexer:this},src,tokens))&&(src=src.substring(token.raw.length),tokens.push(token),!0))))continue;if(token=this.tokenizer.escape(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.tag(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.link(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.reflink(src,this.tokens.links)){src=src.substring(token.raw.length);const lastToken=tokens.at(-1);"text"===token.type&&"text"===lastToken?.type?(lastToken.raw+=token.raw,lastToken.text+=token.text):tokens.push(token);continue}if(token=this.tokenizer.emStrong(src,maskedSrc,prevChar)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.codespan(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.br(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.del(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(token=this.tokenizer.autolink(src)){src=src.substring(token.raw.length),tokens.push(token);continue}if(!this.state.inLink&&(token=this.tokenizer.url(src))){src=src.substring(token.raw.length),tokens.push(token);continue}let cutSrc=src;if(this.options.extensions?.startInline){let startIndex=1/0;const tempSrc=src.slice(1);let tempStart;this.options.extensions.startInline.forEach((getStartIndex=>{tempStart=getStartIndex.call({lexer:this},tempSrc),"number"==typeof tempStart&&tempStart>=0&&(startIndex=Math.min(startIndex,tempStart))})),startIndex<1/0&&startIndex>=0&&(cutSrc=src.substring(0,startIndex+1))}if(token=this.tokenizer.inlineText(cutSrc)){src=src.substring(token.raw.length),"_"!==token.raw.slice(-1)&&(prevChar=token.raw.slice(-1)),keepPrevChar=!0;const lastToken=tokens.at(-1);"text"===lastToken?.type?(lastToken.raw+=token.raw,lastToken.text+=token.text):tokens.push(token)}else if(src){const errMsg="Infinite loop on byte: "+src.charCodeAt(0);if(this.options.silent){console.error(errMsg);break}throw new Error(errMsg)}}return tokens}},_Renderer=class{options;parser;constructor(options2){this.options=options2||_defaults}space(token){return""}code({text,lang,escaped}){const langString=(lang||"").match(other.notSpaceStart)?.[0],code=text.replace(other.endingNewline,"")+"\n";return langString?'<pre><code class="language-'+escape2(langString)+'">'+(escaped?code:escape2(code,!0))+"</code></pre>\n":"<pre><code>"+(escaped?code:escape2(code,!0))+"</code></pre>\n"}blockquote({tokens}){return`<blockquote>\n${this.parser.parse(tokens)}</blockquote>\n`}html({text}){return text}heading({tokens,depth}){return`<h${depth}>${this.parser.parseInline(tokens)}</h${depth}>\n`}hr(token){return"<hr>\n"}list(token){const ordered=token.ordered,start=token.start;let body="";for(let j=0;j<token.items.length;j++){const item=token.items[j];body+=this.listitem(item)}const type=ordered?"ol":"ul";return"<"+type+(ordered&&1!==start?' start="'+start+'"':"")+">\n"+body+"</"+type+">\n"}listitem(item){let itemBody="";if(item.task){const checkbox=this.checkbox({checked:!!item.checked});item.loose?"paragraph"===item.tokens[0]?.type?(item.tokens[0].text=checkbox+" "+item.tokens[0].text,item.tokens[0].tokens&&item.tokens[0].tokens.length>0&&"text"===item.tokens[0].tokens[0].type&&(item.tokens[0].tokens[0].text=checkbox+" "+escape2(item.tokens[0].tokens[0].text),item.tokens[0].tokens[0].escaped=!0)):item.tokens.unshift({type:"text",raw:checkbox+" ",text:checkbox+" ",escaped:!0}):itemBody+=checkbox+" "}return itemBody+=this.parser.parse(item.tokens,!!item.loose),`<li>${itemBody}</li>\n`}checkbox({checked}){return"<input "+(checked?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens}){return`<p>${this.parser.parseInline(tokens)}</p>\n`}table(token){let header="",cell="";for(let j=0;j<token.header.length;j++)cell+=this.tablecell(token.header[j]);header+=this.tablerow({text:cell});let body="";for(let j=0;j<token.rows.length;j++){const row=token.rows[j];cell="";for(let k=0;k<row.length;k++)cell+=this.tablecell(row[k]);body+=this.tablerow({text:cell})}return body&&(body=`<tbody>${body}</tbody>`),"<table>\n<thead>\n"+header+"</thead>\n"+body+"</table>\n"}tablerow({text}){return`<tr>\n${text}</tr>\n`}tablecell(token){const content=this.parser.parseInline(token.tokens),type=token.header?"th":"td";return(token.align?`<${type} align="${token.align}">`:`<${type}>`)+content+`</${type}>\n`}strong({tokens}){return`<strong>${this.parser.parseInline(tokens)}</strong>`}em({tokens}){return`<em>${this.parser.parseInline(tokens)}</em>`}codespan({text}){return`<code>${escape2(text,!0)}</code>`}br(token){return"<br>"}del({tokens}){return`<del>${this.parser.parseInline(tokens)}</del>`}link({href,title,tokens}){const text=this.parser.parseInline(tokens),cleanHref=cleanUrl(href);if(null===cleanHref)return text;let out='<a href="'+(href=cleanHref)+'"';return title&&(out+=' title="'+escape2(title)+'"'),out+=">"+text+"</a>",out}image({href,title,text,tokens}){tokens&&(text=this.parser.parseInline(tokens,this.parser.textRenderer));const cleanHref=cleanUrl(href);if(null===cleanHref)return escape2(text);let out=`<img src="${href=cleanHref}" alt="${text}"`;return title&&(out+=` title="${escape2(title)}"`),out+=">",out}text(token){return"tokens"in token&&token.tokens?this.parser.parseInline(token.tokens):"escaped"in token&&token.escaped?token.text:escape2(token.text)}},_TextRenderer=class{strong({text}){return text}em({text}){return text}codespan({text}){return text}del({text}){return text}html({text}){return text}text({text}){return text}link({text}){return""+text}image({text}){return""+text}br(){return""}},_Parser=class __Parser{options;renderer;textRenderer;constructor(options2){this.options=options2||_defaults,this.options.renderer=this.options.renderer||new _Renderer,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new _TextRenderer}static parse(tokens,options2){return new __Parser(options2).parse(tokens)}static parseInline(tokens,options2){return new __Parser(options2).parseInline(tokens)}parse(tokens,top=!0){let out="";for(let i=0;i<tokens.length;i++){const anyToken=tokens[i];if(this.options.extensions?.renderers?.[anyToken.type]){const genericToken=anyToken,ret=this.options.extensions.renderers[genericToken.type].call({parser:this},genericToken);if(!1!==ret||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(genericToken.type)){out+=ret||"";continue}}const token=anyToken;switch(token.type){case"space":out+=this.renderer.space(token);continue;case"hr":out+=this.renderer.hr(token);continue;case"heading":out+=this.renderer.heading(token);continue;case"code":out+=this.renderer.code(token);continue;case"table":out+=this.renderer.table(token);continue;case"blockquote":out+=this.renderer.blockquote(token);continue;case"list":out+=this.renderer.list(token);continue;case"html":out+=this.renderer.html(token);continue;case"paragraph":out+=this.renderer.paragraph(token);continue;case"text":{let textToken=token,body=this.renderer.text(textToken);for(;i+1<tokens.length&&"text"===tokens[i+1].type;)textToken=tokens[++i],body+="\n"+this.renderer.text(textToken);out+=top?this.renderer.paragraph({type:"paragraph",raw:body,text:body,tokens:[{type:"text",raw:body,text:body,escaped:!0}]}):body;continue}default:{const errMsg='Token with "'+token.type+'" type was not found.';if(this.options.silent)return console.error(errMsg),"";throw new Error(errMsg)}}}return out}parseInline(tokens,renderer=this.renderer){let out="";for(let i=0;i<tokens.length;i++){const anyToken=tokens[i];if(this.options.extensions?.renderers?.[anyToken.type]){const ret=this.options.extensions.renderers[anyToken.type].call({parser:this},anyToken);if(!1!==ret||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(anyToken.type)){out+=ret||"";continue}}const token=anyToken;switch(token.type){case"escape":case"text":out+=renderer.text(token);break;case"html":out+=renderer.html(token);break;case"link":out+=renderer.link(token);break;case"image":out+=renderer.image(token);break;case"strong":out+=renderer.strong(token);break;case"em":out+=renderer.em(token);break;case"codespan":out+=renderer.codespan(token);break;case"br":out+=renderer.br(token);break;case"del":out+=renderer.del(token);break;default:{const errMsg='Token with "'+token.type+'" type was not found.';if(this.options.silent)return console.error(errMsg),"";throw new Error(errMsg)}}}return out}},_Hooks=class{options;block;constructor(options2){this.options=options2||_defaults}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(markdown){return markdown}postprocess(html2){return html2}processAllTokens(tokens){return tokens}provideLexer(){return this.block?_Lexer.lex:_Lexer.lexInline}provideParser(){return this.block?_Parser.parse:_Parser.parseInline}},markedInstance=new class{defaults={async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null};options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=_Parser;Renderer=_Renderer;TextRenderer=_TextRenderer;Lexer=_Lexer;Tokenizer=_Tokenizer;Hooks=_Hooks;constructor(...args){this.use(...args)}walkTokens(tokens,callback){let values=[];for(const token of tokens)switch(values=values.concat(callback.call(this,token)),token.type){case"table":{const tableToken=token;for(const cell of tableToken.header)values=values.concat(this.walkTokens(cell.tokens,callback));for(const row of tableToken.rows)for(const cell of row)values=values.concat(this.walkTokens(cell.tokens,callback));break}case"list":{const listToken=token;values=values.concat(this.walkTokens(listToken.items,callback));break}default:{const genericToken=token;this.defaults.extensions?.childTokens?.[genericToken.type]?this.defaults.extensions.childTokens[genericToken.type].forEach((childTokens=>{const tokens2=genericToken[childTokens].flat(1/0);values=values.concat(this.walkTokens(tokens2,callback))})):genericToken.tokens&&(values=values.concat(this.walkTokens(genericToken.tokens,callback)))}}return values}use(...args){const extensions=this.defaults.extensions||{renderers:{},childTokens:{}};return args.forEach((pack=>{const opts={...pack};if(opts.async=this.defaults.async||opts.async||!1,pack.extensions&&(pack.extensions.forEach((ext=>{if(!ext.name)throw new Error("extension name required");if("renderer"in ext){const prevRenderer=extensions.renderers[ext.name];extensions.renderers[ext.name]=prevRenderer?function(...args2){let ret=ext.renderer.apply(this,args2);return!1===ret&&(ret=prevRenderer.apply(this,args2)),ret}:ext.renderer}if("tokenizer"in ext){if(!ext.level||"block"!==ext.level&&"inline"!==ext.level)throw new Error("extension level must be 'block' or 'inline'");const extLevel=extensions[ext.level];extLevel?extLevel.unshift(ext.tokenizer):extensions[ext.level]=[ext.tokenizer],ext.start&&("block"===ext.level?extensions.startBlock?extensions.startBlock.push(ext.start):extensions.startBlock=[ext.start]:"inline"===ext.level&&(extensions.startInline?extensions.startInline.push(ext.start):extensions.startInline=[ext.start]))}"childTokens"in ext&&ext.childTokens&&(extensions.childTokens[ext.name]=ext.childTokens)})),opts.extensions=extensions),pack.renderer){const renderer=this.defaults.renderer||new _Renderer(this.defaults);for(const prop in pack.renderer){if(!(prop in renderer))throw new Error(`renderer '${prop}' does not exist`);if(["options","parser"].includes(prop))continue;const rendererProp=prop,rendererFunc=pack.renderer[rendererProp],prevRenderer=renderer[rendererProp];renderer[rendererProp]=(...args2)=>{let ret=rendererFunc.apply(renderer,args2);return!1===ret&&(ret=prevRenderer.apply(renderer,args2)),ret||""}}opts.renderer=renderer}if(pack.tokenizer){const tokenizer=this.defaults.tokenizer||new _Tokenizer(this.defaults);for(const prop in pack.tokenizer){if(!(prop in tokenizer))throw new Error(`tokenizer '${prop}' does not exist`);if(["options","rules","lexer"].includes(prop))continue;const tokenizerProp=prop,tokenizerFunc=pack.tokenizer[tokenizerProp],prevTokenizer=tokenizer[tokenizerProp];tokenizer[tokenizerProp]=(...args2)=>{let ret=tokenizerFunc.apply(tokenizer,args2);return!1===ret&&(ret=prevTokenizer.apply(tokenizer,args2)),ret}}opts.tokenizer=tokenizer}if(pack.hooks){const hooks=this.defaults.hooks||new _Hooks;for(const prop in pack.hooks){if(!(prop in hooks))throw new Error(`hook '${prop}' does not exist`);if(["options","block"].includes(prop))continue;const hooksProp=prop,hooksFunc=pack.hooks[hooksProp],prevHook=hooks[hooksProp];_Hooks.passThroughHooks.has(prop)?hooks[hooksProp]=arg=>{if(this.defaults.async)return Promise.resolve(hooksFunc.call(hooks,arg)).then((ret2=>prevHook.call(hooks,ret2)));const ret=hooksFunc.call(hooks,arg);return prevHook.call(hooks,ret)}:hooks[hooksProp]=(...args2)=>{let ret=hooksFunc.apply(hooks,args2);return!1===ret&&(ret=prevHook.apply(hooks,args2)),ret}}opts.hooks=hooks}if(pack.walkTokens){const walkTokens2=this.defaults.walkTokens,packWalktokens=pack.walkTokens;opts.walkTokens=function(token){let values=[];return values.push(packWalktokens.call(this,token)),walkTokens2&&(values=values.concat(walkTokens2.call(this,token))),values}}this.defaults={...this.defaults,...opts}})),this}setOptions(opt){return this.defaults={...this.defaults,...opt},this}lexer(src,options2){return _Lexer.lex(src,options2??this.defaults)}parser(tokens,options2){return _Parser.parse(tokens,options2??this.defaults)}parseMarkdown(blockType){return(src,options2)=>{const origOpt={...options2},opt={...this.defaults,...origOpt},throwError=this.onError(!!opt.silent,!!opt.async);if(!0===this.defaults.async&&!1===origOpt.async)return throwError(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(null==src)return throwError(new Error("marked(): input parameter is undefined or null"));if("string"!=typeof src)return throwError(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(src)+", string expected"));opt.hooks&&(opt.hooks.options=opt,opt.hooks.block=blockType);const lexer2=opt.hooks?opt.hooks.provideLexer():blockType?_Lexer.lex:_Lexer.lexInline,parser2=opt.hooks?opt.hooks.provideParser():blockType?_Parser.parse:_Parser.parseInline;if(opt.async)return Promise.resolve(opt.hooks?opt.hooks.preprocess(src):src).then((src2=>lexer2(src2,opt))).then((tokens=>opt.hooks?opt.hooks.processAllTokens(tokens):tokens)).then((tokens=>opt.walkTokens?Promise.all(this.walkTokens(tokens,opt.walkTokens)).then((()=>tokens)):tokens)).then((tokens=>parser2(tokens,opt))).then((html2=>opt.hooks?opt.hooks.postprocess(html2):html2)).catch(throwError);try{opt.hooks&&(src=opt.hooks.preprocess(src));let tokens=lexer2(src,opt);opt.hooks&&(tokens=opt.hooks.processAllTokens(tokens)),opt.walkTokens&&this.walkTokens(tokens,opt.walkTokens);let html2=parser2(tokens,opt);return opt.hooks&&(html2=opt.hooks.postprocess(html2)),html2}catch(e){return throwError(e)}}}onError(silent,async){return e=>{if(e.message+="\nPlease report this to https://github.com/markedjs/marked.",silent){const msg="<p>An error occurred:</p><pre>"+escape2(e.message+"",!0)+"</pre>";return async?Promise.resolve(msg):msg}if(async)return Promise.reject(e);throw e}}};function marked(src,opt){return markedInstance.parse(src,opt)}marked.options=marked.setOptions=function(options2){return markedInstance.setOptions(options2),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked},marked.getDefaults=_getDefaults,marked.defaults=_defaults,marked.use=function(...args){return markedInstance.use(...args),marked.defaults=markedInstance.defaults,changeDefaults(marked.defaults),marked},marked.walkTokens=function(tokens,callback){return markedInstance.walkTokens(tokens,callback)},marked.parseInline=markedInstance.parseInline,marked.Parser=_Parser,marked.parser=_Parser.parse,marked.Renderer=_Renderer,marked.TextRenderer=_TextRenderer,marked.Lexer=_Lexer,marked.lexer=_Lexer.lex,marked.Tokenizer=_Tokenizer,marked.Hooks=_Hooks,marked.parse=marked;marked.options,marked.setOptions,marked.use,marked.walkTokens,marked.parseInline,_Parser.parse,_Lexer.lex;var esm=__webpack_require__("./node_modules/.pnpm/ts-dedent@2.2.0/node_modules/ts-dedent/esm/index.js"),unknownIcon={body:'<g><rect width="80" height="80" style="fill: #087ebf; stroke-width: 0px;"/><text transform="translate(21.16 64.67)" style="fill: #fff; font-family: ArialMT, Arial; font-size: 67.75px;"><tspan x="0" y="0">?</tspan></text></g>',height:80,width:80},iconsStore=new Map,loaderStore=new Map,registerIconPacks=(0,chunk_AGHRB4JF.K2)((iconLoaders=>{for(const iconLoader of iconLoaders){if(!iconLoader.name)throw new Error('Invalid icon loader. Must have a "name" property with non-empty string value.');if(chunk_AGHRB4JF.Rm.debug("Registering icon pack:",iconLoader.name),"loader"in iconLoader)loaderStore.set(iconLoader.name,iconLoader.loader);else{if(!("icons"in iconLoader))throw chunk_AGHRB4JF.Rm.error("Invalid icon loader:",iconLoader),new Error('Invalid icon loader. Must have either "icons" or "loader" property.');iconsStore.set(iconLoader.name,iconLoader.icons)}}}),"registerIconPacks"),getRegisteredIconData=(0,chunk_AGHRB4JF.K2)((async(iconName,fallbackPrefix)=>{const data=((value,validate,allowSimpleName,provider="")=>{const colonSeparated=value.split(":");if("@"===value.slice(0,1)){if(colonSeparated.length<2||colonSeparated.length>3)return null;provider=colonSeparated.shift().slice(1)}if(colonSeparated.length>3||!colonSeparated.length)return null;if(colonSeparated.length>1){const name$1=colonSeparated.pop(),prefix=colonSeparated.pop(),result={provider:colonSeparated.length>0?colonSeparated[0]:provider,prefix,name:name$1};return validate&&!validateIconName(result)?null:result}const name=colonSeparated[0],dashSeparated=name.split("-");if(dashSeparated.length>1){const result={provider,prefix:dashSeparated.shift(),name:dashSeparated.join("-")};return validate&&!validateIconName(result)?null:result}if(allowSimpleName&&""===provider){const result={provider,prefix:"",name};return validate&&!validateIconName(result,allowSimpleName)?null:result}return null})(iconName,!0,void 0!==fallbackPrefix);if(!data)throw new Error(`Invalid icon name: ${iconName}`);const prefix=data.prefix||fallbackPrefix;if(!prefix)throw new Error(`Icon name must contain a prefix: ${iconName}`);let icons=iconsStore.get(prefix);if(!icons){const loader=loaderStore.get(prefix);if(!loader)throw new Error(`Icon set not found: ${data.prefix}`);try{icons={...await loader(),prefix},iconsStore.set(prefix,icons)}catch(e){throw chunk_AGHRB4JF.Rm.error(e),new Error(`Failed to load icon set: ${data.prefix}`)}}const iconData=getIconData(icons,data.name);if(!iconData)throw new Error(`Icon not found: ${iconName}`);return iconData}),"getRegisteredIconData"),isIconAvailable=(0,chunk_AGHRB4JF.K2)((async iconName=>{try{return await getRegisteredIconData(iconName),!0}catch{return!1}}),"isIconAvailable"),getIconSVG=(0,chunk_AGHRB4JF.K2)((async(iconName,customisations,extraAttributes)=>{let iconData;try{iconData=await getRegisteredIconData(iconName,customisations?.fallbackPrefix)}catch(e){chunk_AGHRB4JF.Rm.error(e),iconData=unknownIcon}const renderData=function iconToSVG(icon,customisations){const fullIcon={...defaultIconProps,...icon},fullCustomisations={...defaultIconCustomisations,...customisations},box={left:fullIcon.left,top:fullIcon.top,width:fullIcon.width,height:fullIcon.height};let body=fullIcon.body;[fullIcon,fullCustomisations].forEach((props=>{const transformations=[],hFlip=props.hFlip,vFlip=props.vFlip;let tempValue,rotation=props.rotate;switch(hFlip?vFlip?rotation+=2:(transformations.push("translate("+(box.width+box.left).toString()+" "+(0-box.top).toString()+")"),transformations.push("scale(-1 1)"),box.top=box.left=0):vFlip&&(transformations.push("translate("+(0-box.left).toString()+" "+(box.height+box.top).toString()+")"),transformations.push("scale(1 -1)"),box.top=box.left=0),rotation<0&&(rotation-=4*Math.floor(rotation/4)),rotation%=4,rotation){case 1:tempValue=box.height/2+box.top,transformations.unshift("rotate(90 "+tempValue.toString()+" "+tempValue.toString()+")");break;case 2:transformations.unshift("rotate(180 "+(box.width/2+box.left).toString()+" "+(box.height/2+box.top).toString()+")");break;case 3:tempValue=box.width/2+box.left,transformations.unshift("rotate(-90 "+tempValue.toString()+" "+tempValue.toString()+")")}rotation%2==1&&(box.left!==box.top&&(tempValue=box.left,box.left=box.top,box.top=tempValue),box.width!==box.height&&(tempValue=box.width,box.width=box.height,box.height=tempValue)),transformations.length&&(body=function wrapSVGContent(body,start,end){const split=function splitSVGDefs(content,tag="defs"){let defs="";const index=content.indexOf("<"+tag);for(;index>=0;){const start=content.indexOf(">",index),end=content.indexOf("</"+tag);if(-1===start||-1===end)break;const endEnd=content.indexOf(">",end);if(-1===endEnd)break;defs+=content.slice(start+1,end).trim(),content=content.slice(0,index).trim()+content.slice(endEnd+1)}return{defs,content}}(body);return function mergeDefsAndContent(defs,content){return defs?"<defs>"+defs+"</defs>"+content:content}(split.defs,start+split.content+end)}(body,'<g transform="'+transformations.join(" ")+'">',"</g>"))}));const customisationsWidth=fullCustomisations.width,customisationsHeight=fullCustomisations.height,boxWidth=box.width,boxHeight=box.height;let width,height;null===customisationsWidth?(height=null===customisationsHeight?"1em":"auto"===customisationsHeight?boxHeight:customisationsHeight,width=calculateSize(height,boxWidth/boxHeight)):(width="auto"===customisationsWidth?boxWidth:customisationsWidth,height=null===customisationsHeight?calculateSize(width,boxHeight/boxWidth):"auto"===customisationsHeight?boxHeight:customisationsHeight);const attributes={},setAttr=(prop,value)=>{(value=>"unset"===value||"undefined"===value||"none"===value)(value)||(attributes[prop]=value.toString())};setAttr("width",width),setAttr("height",height);const viewBox=[box.left,box.top,boxWidth,boxHeight];return attributes.viewBox=viewBox.join(" "),{attributes,viewBox,body}}(iconData,customisations),svg=function iconToHTML(body,attributes){let renderAttribsHTML=-1===body.indexOf("xlink:")?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const attr in attributes)renderAttribsHTML+=" "+attr+'="'+attributes[attr]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+renderAttribsHTML+">"+body+"</svg>"}(function replaceIDs(body,prefix=randomPrefix){const ids=[];let match;for(;match=regex.exec(body);)ids.push(match[1]);if(!ids.length)return body;const suffix="suffix"+(16777216*Math.random()|Date.now()).toString(16);return ids.forEach((id=>{const newID="function"==typeof prefix?prefix(id):prefix+(counter++).toString(),escapedID=id.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");body=body.replace(new RegExp('([#;"])('+escapedID+')([")]|\\.[a-z])',"g"),"$1"+newID+suffix+"$3")})),body=body.replace(new RegExp(suffix,"g"),"")}(renderData.body),{...renderData.attributes,...extraAttributes});return(0,chunk_ABZYJK2D.jZ)(svg,(0,chunk_ABZYJK2D.zj)())}),"getIconSVG");function preprocessMarkdown(markdown,{markdownAutoWrap}){const withoutMultipleNewlines=markdown.replace(/<br\/>/g,"\n").replace(/\n{2,}/g,"\n"),withoutExtraSpaces=(0,esm.T)(withoutMultipleNewlines);return!1===markdownAutoWrap?withoutExtraSpaces.replace(/ /g,"&nbsp;"):withoutExtraSpaces}function markdownToLines(markdown,config={}){const preprocessedMarkdown=preprocessMarkdown(markdown,config),nodes=marked.lexer(preprocessedMarkdown),lines=[[]];let currentLine=0;function processNode(node,parentType="normal"){if("text"===node.type){node.text.split("\n").forEach(((textLine,index)=>{0!==index&&(currentLine++,lines.push([])),textLine.split(" ").forEach((word=>{(word=word.replace(/&#39;/g,"'"))&&lines[currentLine].push({content:word,type:parentType})}))}))}else"strong"===node.type||"em"===node.type?node.tokens.forEach((contentNode=>{processNode(contentNode,node.type)})):"html"===node.type&&lines[currentLine].push({content:node.text,type:"normal"})}return(0,chunk_AGHRB4JF.K2)(processNode,"processNode"),nodes.forEach((treeNode=>{"paragraph"===treeNode.type?treeNode.tokens?.forEach((contentNode=>{processNode(contentNode)})):"html"===treeNode.type?lines[currentLine].push({content:treeNode.text,type:"normal"}):lines[currentLine].push({content:treeNode.raw,type:"normal"})})),lines}function markdownToHTML(markdown,{markdownAutoWrap}={}){const nodes=marked.lexer(markdown);function output(node){return"text"===node.type?!1===markdownAutoWrap?node.text.replace(/\n */g,"<br/>").replace(/ /g,"&nbsp;"):node.text.replace(/\n */g,"<br/>"):"strong"===node.type?`<strong>${node.tokens?.map(output).join("")}</strong>`:"em"===node.type?`<em>${node.tokens?.map(output).join("")}</em>`:"paragraph"===node.type?`<p>${node.tokens?.map(output).join("")}</p>`:"space"===node.type?"":"html"===node.type?`${node.text}`:"escape"===node.type?node.text:(chunk_AGHRB4JF.Rm.warn(`Unsupported markdown: ${node.type}`),node.raw)}return(0,chunk_AGHRB4JF.K2)(output,"output"),nodes.map(output).join("")}function splitTextToChars(text){return Intl.Segmenter?[...(new Intl.Segmenter).segment(text)].map((s=>s.segment)):[...text]}function splitWordToFitWidth(checkFit,word){return splitWordToFitWidthRecursion(checkFit,[],splitTextToChars(word.content),word.type)}function splitWordToFitWidthRecursion(checkFit,usedChars,remainingChars,type){if(0===remainingChars.length)return[{content:usedChars.join(""),type},{content:"",type}];const[nextChar,...rest]=remainingChars,newWord=[...usedChars,nextChar];return checkFit([{content:newWord.join(""),type}])?splitWordToFitWidthRecursion(checkFit,newWord,rest,type):(0===usedChars.length&&nextChar&&(usedChars.push(nextChar),remainingChars.shift()),[{content:usedChars.join(""),type},{content:remainingChars.join(""),type}])}function splitLineToFitWidth(line,checkFit){if(line.some((({content})=>content.includes("\n"))))throw new Error("splitLineToFitWidth does not support newlines in the line");return splitLineToFitWidthRecursion(line,checkFit)}function splitLineToFitWidthRecursion(words,checkFit,lines=[],newLine=[]){if(0===words.length)return newLine.length>0&&lines.push(newLine),lines.length>0?lines:[];let joiner="";" "===words[0].content&&(joiner=" ",words.shift());const nextWord=words.shift()??{content:" ",type:"normal"},lineWithNextWord=[...newLine];if(""!==joiner&&lineWithNextWord.push({content:joiner,type:"normal"}),lineWithNextWord.push(nextWord),checkFit(lineWithNextWord))return splitLineToFitWidthRecursion(words,checkFit,lines,lineWithNextWord);if(newLine.length>0)lines.push(newLine),words.unshift(nextWord);else if(nextWord.content){const[line,rest]=splitWordToFitWidth(checkFit,nextWord);lines.push([line]),rest.content&&words.unshift(rest)}return splitLineToFitWidthRecursion(words,checkFit,lines)}function applyStyle(dom,styleFn){styleFn&&dom.attr("style",styleFn)}async function addHtmlSpan(element,node,width,classes,addBackground=!1,config=(0,chunk_ABZYJK2D.zj)()){const fo=element.append("foreignObject");fo.attr("width",10*width+"px"),fo.attr("height",10*width+"px");const div=fo.append("xhtml:div"),sanitizedLabel=(0,chunk_ABZYJK2D.Wi)(node.label)?await(0,chunk_ABZYJK2D.dj)(node.label.replace(chunk_ABZYJK2D.Y2.lineBreakRegex,"\n"),config):(0,chunk_ABZYJK2D.jZ)(node.label,config),labelClass=node.isNode?"nodeLabel":"edgeLabel",span=div.append("span");span.html(sanitizedLabel),applyStyle(span,node.labelStyle),span.attr("class",`${labelClass} ${classes}`),applyStyle(div,node.labelStyle),div.style("display","table-cell"),div.style("white-space","nowrap"),div.style("line-height","1.5"),div.style("max-width",width+"px"),div.style("text-align","center"),div.attr("xmlns","http://www.w3.org/1999/xhtml"),addBackground&&div.attr("class","labelBkg");let bbox=div.node().getBoundingClientRect();return bbox.width===width&&(div.style("display","table"),div.style("white-space","break-spaces"),div.style("width",width+"px"),bbox=div.node().getBoundingClientRect()),fo.node()}function createTspan(textElement,lineIndex,lineHeight){return textElement.append("tspan").attr("class","text-outer-tspan").attr("x",0).attr("y",lineIndex*lineHeight-.1+"em").attr("dy",lineHeight+"em")}function computeWidthOfText(parentNode,lineHeight,line){const testElement=parentNode.append("text"),testSpan=createTspan(testElement,1,lineHeight);updateTextContentAndStyles(testSpan,line);const textLength=testSpan.node().getComputedTextLength();return testElement.remove(),textLength}function computeDimensionOfText(parentNode,lineHeight,text){const testElement=parentNode.append("text"),testSpan=createTspan(testElement,1,lineHeight);updateTextContentAndStyles(testSpan,[{content:text,type:"normal"}]);const textDimension=testSpan.node()?.getBoundingClientRect();return textDimension&&testElement.remove(),textDimension}function createFormattedText(width,g,structuredText,addBackground=!1){const labelGroup=g.append("g"),bkg=labelGroup.insert("rect").attr("class","background").attr("style","stroke: none"),textElement=labelGroup.append("text").attr("y","-10.1");let lineIndex=0;for(const line of structuredText){const checkWidth=(0,chunk_AGHRB4JF.K2)((line2=>computeWidthOfText(labelGroup,1.1,line2)<=width),"checkWidth"),linesUnderWidth=checkWidth(line)?[line]:splitLineToFitWidth(line,checkWidth);for(const preparedLine of linesUnderWidth){updateTextContentAndStyles(createTspan(textElement,lineIndex,1.1),preparedLine),lineIndex++}}if(addBackground){const bbox=textElement.node().getBBox(),padding=2;return bkg.attr("x",bbox.x-padding).attr("y",bbox.y-padding).attr("width",bbox.width+2*padding).attr("height",bbox.height+2*padding),labelGroup.node()}return textElement.node()}function updateTextContentAndStyles(tspan,wrappedLine){tspan.text(""),wrappedLine.forEach(((word,index)=>{const innerTspan=tspan.append("tspan").attr("font-style","em"===word.type?"italic":"normal").attr("class","text-inner-tspan").attr("font-weight","strong"===word.type?"bold":"normal");0===index?innerTspan.text(word.content):innerTspan.text(" "+word.content)}))}async function replaceIconSubstring(text,config={}){const pendingReplacements=[];text.replace(/(fa[bklrs]?):fa-([\w-]+)/g,((fullMatch,prefix,iconName)=>(pendingReplacements.push((async()=>{const registeredIconName=`${prefix}:${iconName}`;return await isIconAvailable(registeredIconName)?await getIconSVG(registeredIconName,void 0,{class:"label-icon"}):`<i class='${(0,chunk_ABZYJK2D.jZ)(fullMatch,config).replace(":"," ")}'></i>`})()),fullMatch)));const replacements=await Promise.all(pendingReplacements);return text.replace(/(fa[bklrs]?):fa-([\w-]+)/g,(()=>replacements.shift()??""))}(0,chunk_AGHRB4JF.K2)(preprocessMarkdown,"preprocessMarkdown"),(0,chunk_AGHRB4JF.K2)(markdownToLines,"markdownToLines"),(0,chunk_AGHRB4JF.K2)(markdownToHTML,"markdownToHTML"),(0,chunk_AGHRB4JF.K2)(splitTextToChars,"splitTextToChars"),(0,chunk_AGHRB4JF.K2)(splitWordToFitWidth,"splitWordToFitWidth"),(0,chunk_AGHRB4JF.K2)(splitWordToFitWidthRecursion,"splitWordToFitWidthRecursion"),(0,chunk_AGHRB4JF.K2)(splitLineToFitWidth,"splitLineToFitWidth"),(0,chunk_AGHRB4JF.K2)(splitLineToFitWidthRecursion,"splitLineToFitWidthRecursion"),(0,chunk_AGHRB4JF.K2)(applyStyle,"applyStyle"),(0,chunk_AGHRB4JF.K2)(addHtmlSpan,"addHtmlSpan"),(0,chunk_AGHRB4JF.K2)(createTspan,"createTspan"),(0,chunk_AGHRB4JF.K2)(computeWidthOfText,"computeWidthOfText"),(0,chunk_AGHRB4JF.K2)(computeDimensionOfText,"computeDimensionOfText"),(0,chunk_AGHRB4JF.K2)(createFormattedText,"createFormattedText"),(0,chunk_AGHRB4JF.K2)(updateTextContentAndStyles,"updateTextContentAndStyles"),(0,chunk_AGHRB4JF.K2)(replaceIconSubstring,"replaceIconSubstring");var createText=(0,chunk_AGHRB4JF.K2)((async(el,text="",{style="",isTitle=!1,classes="",useHtmlLabels=!0,isNode=!0,width=200,addSvgBackground=!1}={},config)=>{if(chunk_AGHRB4JF.Rm.debug("XYZ createText",text,style,isTitle,classes,useHtmlLabels,isNode,"addSvgBackground: ",addSvgBackground),useHtmlLabels){const htmlText=markdownToHTML(text,config),decodedReplacedText=await replaceIconSubstring((0,chunk_S3R3BYOJ.Sm)(htmlText),config),inputForKatex=text.replace(/\\\\/g,"\\"),node={isNode,label:(0,chunk_ABZYJK2D.Wi)(text)?inputForKatex:decodedReplacedText,labelStyle:style.replace("fill:","color:")};return await addHtmlSpan(el,node,width,classes,addSvgBackground,config)}{const svgLabel=createFormattedText(width,el,markdownToLines(text.replace(/<br\s*\/?>/g,"<br/>").replace("<br>","<br/>"),config),!!text&&addSvgBackground);if(isNode){/stroke:/.exec(style)&&(style=style.replace("stroke:","lineColor:"));const nodeLabelTextStyle=style.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");(0,src.Ltv)(svgLabel).attr("style",nodeLabelTextStyle)}else{const edgeLabelRectStyle=style.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/background:/g,"fill:");(0,src.Ltv)(svgLabel).select("rect").attr("style",edgeLabelRectStyle.replace(/background:/g,"fill:"));const edgeLabelTextStyle=style.replace(/stroke:[^;]+;?/g,"").replace(/stroke-width:[^;]+;?/g,"").replace(/fill:[^;]+;?/g,"").replace(/color:/g,"fill:");(0,src.Ltv)(svgLabel).select("text").attr("style",edgeLabelTextStyle)}return svgLabel}}),"createText")},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-QYVHNE3D.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Fr:()=>userNodeOverrides,GX:()=>styles2String,KX:()=>isLabelStyle,WW:()=>compileStyles,ue:()=>solidStateFill});var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs"),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs"),solidStateFill=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((color=>{const{handDrawnSeed}=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.D7)();return{fill:color,hachureAngle:120,hachureGap:4,fillWeight:2,roughness:.7,stroke:color,seed:handDrawnSeed}}),"solidStateFill"),compileStyles=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((node=>{const stylesMap=styles2Map([...node.cssCompiledStyles||[],...node.cssStyles||[]]);return{stylesMap,stylesArray:[...stylesMap]}}),"compileStyles"),styles2Map=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((styles=>{const styleMap=new Map;return styles.forEach((style=>{const[key,value]=style.split(":");styleMap.set(key.trim(),value?.trim())})),styleMap}),"styles2Map"),isLabelStyle=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((key=>"color"===key||"font-size"===key||"font-family"===key||"font-weight"===key||"font-style"===key||"text-decoration"===key||"text-align"===key||"text-transform"===key||"line-height"===key||"letter-spacing"===key||"word-spacing"===key||"text-shadow"===key||"text-overflow"===key||"white-space"===key||"word-wrap"===key||"word-break"===key||"overflow-wrap"===key||"hyphens"===key),"isLabelStyle"),styles2String=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((node=>{const{stylesArray}=compileStyles(node),labelStyles=[],nodeStyles=[],borderStyles=[],backgroundStyles=[];return stylesArray.forEach((style=>{const key=style[0];isLabelStyle(key)?labelStyles.push(style.join(":")+" !important"):(nodeStyles.push(style.join(":")+" !important"),key.includes("stroke")&&borderStyles.push(style.join(":")+" !important"),"fill"===key&&backgroundStyles.push(style.join(":")+" !important"))})),{labelStyles:labelStyles.join(";"),nodeStyles:nodeStyles.join(";"),stylesArray,borderStyles,backgroundStyles}}),"styles2String"),userNodeOverrides=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(((node,options)=>{const{themeVariables,handDrawnSeed}=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.D7)(),{nodeBorder,mainBkg}=themeVariables,{stylesMap}=compileStyles(node);return Object.assign({roughness:.7,fill:stylesMap.get("fill")||mainBkg,fillStyle:"hachure",fillWeight:4,hachureGap:5.2,stroke:stylesMap.get("stroke")||nodeBorder,seed:handDrawnSeed,strokeWidth:stylesMap.get("stroke-width")?.replace("px","")||1.3,fillLineDash:[0,0],strokeLineDash:getStrokeDashArray(stylesMap.get("stroke-dasharray"))},options)}),"userNodeOverrides"),getStrokeDashArray=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((strokeDasharrayStyle=>{if(!strokeDasharrayStyle)return[0,0];const dashArray=strokeDasharrayStyle.trim().split(/\s+/).map(Number);if(1===dashArray.length){const val=isNaN(dashArray[0])?0:dashArray[0];return[val,val]}return[isNaN(dashArray[0])?0:dashArray[0],isNaN(dashArray[1])?0:dashArray[1]]}),"getStrokeDashArray")},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$C:()=>generateId,$t:()=>cleanAndMerge,C4:()=>encodeEntities,I5:()=>parseFontSize,Ib:()=>interpolateToCurve,KL:()=>handleUndefinedAttr,Sm:()=>decodeEntities,Un:()=>calculateTextWidth,_K:()=>utils_default,bH:()=>wrapLabel,dq:()=>isDetailedError,pe:()=>ZERO_WIDTH_SPACE,rY:()=>getEdgeId,ru:()=>calculateTextHeight,sM:()=>getStylesFromArray,vU:()=>removeDirectives,yT:()=>random});var _chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs"),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs"),_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@braintree+sanitize-url@7.1.1/node_modules/@braintree/sanitize-url/dist/index.js"),d3__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/d3@7.9.0/node_modules/d3/src/index.js"),lodash_es_memoize_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/memoize.js"),lodash_es_merge_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/merge.js"),ZERO_WIDTH_SPACE="​",d3CurveTypes={curveBasis:d3__WEBPACK_IMPORTED_MODULE_3__.qrM,curveBasisClosed:d3__WEBPACK_IMPORTED_MODULE_3__.Yu4,curveBasisOpen:d3__WEBPACK_IMPORTED_MODULE_3__.IA3,curveBumpX:d3__WEBPACK_IMPORTED_MODULE_3__.Wi0,curveBumpY:d3__WEBPACK_IMPORTED_MODULE_3__.PGM,curveBundle:d3__WEBPACK_IMPORTED_MODULE_3__.OEq,curveCardinalClosed:d3__WEBPACK_IMPORTED_MODULE_3__.olC,curveCardinalOpen:d3__WEBPACK_IMPORTED_MODULE_3__.IrU,curveCardinal:d3__WEBPACK_IMPORTED_MODULE_3__.y8u,curveCatmullRomClosed:d3__WEBPACK_IMPORTED_MODULE_3__.Q7f,curveCatmullRomOpen:d3__WEBPACK_IMPORTED_MODULE_3__.cVp,curveCatmullRom:d3__WEBPACK_IMPORTED_MODULE_3__.oDi,curveLinear:d3__WEBPACK_IMPORTED_MODULE_3__.lUB,curveLinearClosed:d3__WEBPACK_IMPORTED_MODULE_3__.Lx9,curveMonotoneX:d3__WEBPACK_IMPORTED_MODULE_3__.nVG,curveMonotoneY:d3__WEBPACK_IMPORTED_MODULE_3__.uxU,curveNatural:d3__WEBPACK_IMPORTED_MODULE_3__.Xf2,curveStep:d3__WEBPACK_IMPORTED_MODULE_3__.GZz,curveStepAfter:d3__WEBPACK_IMPORTED_MODULE_3__.UPb,curveStepBefore:d3__WEBPACK_IMPORTED_MODULE_3__.dyv},directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((function(text,config){const inits=detectDirective(text,/(?:init\b)|(?:initialize\b)/);let results={};if(Array.isArray(inits)){const args=inits.map((init=>init.args));(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.$i)(args),results=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.hH)(results,[...args])}else results=inits.args;if(!results)return;let type=(0,_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.Ch)(text,config);return void 0!==results.config&&("flowchart-v2"===type&&(type="flowchart"),results[type]=results.config,delete results.config),results}),"detectInit"),detectDirective=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((function(text,type=null){try{const commentWithoutDirectives=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*\n`,"ig");let match;text=text.trim().replace(commentWithoutDirectives,"").replace(/'/gm,'"'),_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.Rm.debug(`Detecting diagram directive${null!==type?" type:"+type:""} based on the text:${text}`);const result=[];for(;null!==(match=_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.DB.exec(text));)if(match.index===_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.DB.lastIndex&&_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.DB.lastIndex++,match&&!type||type&&match[1]?.match(type)||type&&match[2]?.match(type)){const type2=match[1]?match[1]:match[2],args=match[3]?match[3].trim():match[4]?JSON.parse(match[4].trim()):null;result.push({type:type2,args})}return 0===result.length?{type:text,args:null}:1===result.length?result[0]:result}catch(error){return _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.Rm.error(`ERROR: ${error.message} - Unable to parse directive type: '${type}' based on the text: '${text}'`),{type:void 0,args:null}}}),"detectDirective"),removeDirectives=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((function(text){return text.replace(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.DB,"")}),"removeDirectives"),isSubstringInArray=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((function(str,arr){for(const[i,element]of arr.entries())if(element.match(str))return i;return-1}),"isSubstringInArray");function interpolateToCurve(interpolate,defaultCurve){if(!interpolate)return defaultCurve;const curveName=`curve${interpolate.charAt(0).toUpperCase()+interpolate.slice(1)}`;return d3CurveTypes[curveName]??defaultCurve}function formatUrl(linkStr,config){const url=linkStr.trim();if(url)return"loose"!==config.securityLevel?(0,_braintree_sanitize_url__WEBPACK_IMPORTED_MODULE_2__.J)(url):url}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(interpolateToCurve,"interpolateToCurve"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(formatUrl,"formatUrl");var runFunc=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(((functionName,...params)=>{const arrPaths=functionName.split("."),len=arrPaths.length-1,fnName=arrPaths[len];let obj=window;for(let i=0;i<len;i++)if(obj=obj[arrPaths[i]],!obj)return void _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.Rm.error(`Function name: ${functionName} not found in window`);obj[fnName](...params)}),"runFunc");function distance(p1,p2){return p1&&p2?Math.sqrt(Math.pow(p2.x-p1.x,2)+Math.pow(p2.y-p1.y,2)):0}function traverseEdge(points){let prevPoint,totalDistance=0;points.forEach((point=>{totalDistance+=distance(point,prevPoint),prevPoint=point}));return calculatePoint(points,totalDistance/2)}function calcLabelPosition(points){return 1===points.length?points[0]:traverseEdge(points)}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(distance,"distance"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(traverseEdge,"traverseEdge"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(calcLabelPosition,"calcLabelPosition");var roundNumber=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(((num,precision=2)=>{const factor=Math.pow(10,precision);return Math.round(num*factor)/factor}),"roundNumber"),calculatePoint=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(((points,distanceToTraverse)=>{let prevPoint,remainingDistance=distanceToTraverse;for(const point of points){if(prevPoint){const vectorDistance=distance(point,prevPoint);if(0===vectorDistance)return prevPoint;if(vectorDistance<remainingDistance)remainingDistance-=vectorDistance;else{const distanceRatio=remainingDistance/vectorDistance;if(distanceRatio<=0)return prevPoint;if(distanceRatio>=1)return{x:point.x,y:point.y};if(distanceRatio>0&&distanceRatio<1)return{x:roundNumber((1-distanceRatio)*prevPoint.x+distanceRatio*point.x,5),y:roundNumber((1-distanceRatio)*prevPoint.y+distanceRatio*point.y,5)}}}prevPoint=point}throw new Error("Could not find a suitable point for the given distance")}),"calculatePoint"),calcCardinalityPosition=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(((isRelationTypePresent,points,initialPosition)=>{_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.Rm.info(`our points ${JSON.stringify(points)}`),points[0]!==initialPosition&&(points=points.reverse());const center=calculatePoint(points,25),d=isRelationTypePresent?10:5,angle=Math.atan2(points[0].y-center.y,points[0].x-center.x),cardinalityPosition={x:0,y:0};return cardinalityPosition.x=Math.sin(angle)*d+(points[0].x+center.x)/2,cardinalityPosition.y=-Math.cos(angle)*d+(points[0].y+center.y)/2,cardinalityPosition}),"calcCardinalityPosition");function calcTerminalLabelPosition(terminalMarkerSize,position,_points){const points=structuredClone(_points);_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.Rm.info("our points",points),"start_left"!==position&&"start_right"!==position&&points.reverse();const center=calculatePoint(points,25+terminalMarkerSize),d=10+.5*terminalMarkerSize,angle=Math.atan2(points[0].y-center.y,points[0].x-center.x),cardinalityPosition={x:0,y:0};return"start_left"===position?(cardinalityPosition.x=Math.sin(angle+Math.PI)*d+(points[0].x+center.x)/2,cardinalityPosition.y=-Math.cos(angle+Math.PI)*d+(points[0].y+center.y)/2):"end_right"===position?(cardinalityPosition.x=Math.sin(angle-Math.PI)*d+(points[0].x+center.x)/2-5,cardinalityPosition.y=-Math.cos(angle-Math.PI)*d+(points[0].y+center.y)/2-5):"end_left"===position?(cardinalityPosition.x=Math.sin(angle)*d+(points[0].x+center.x)/2-5,cardinalityPosition.y=-Math.cos(angle)*d+(points[0].y+center.y)/2-5):(cardinalityPosition.x=Math.sin(angle)*d+(points[0].x+center.x)/2,cardinalityPosition.y=-Math.cos(angle)*d+(points[0].y+center.y)/2),cardinalityPosition}function getStylesFromArray(arr){let style="",labelStyle="";for(const element of arr)void 0!==element&&(element.startsWith("color:")||element.startsWith("text-align:")?labelStyle=labelStyle+element+";":style=style+element+";");return{style,labelStyle}}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(calcTerminalLabelPosition,"calcTerminalLabelPosition"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(getStylesFromArray,"getStylesFromArray");var cnt=0,generateId=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt)),"generateId");function makeRandomHex(length){let result="";for(let i=0;i<length;i++)result+="0123456789abcdef".charAt(Math.floor(16*Math.random()));return result}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(makeRandomHex,"makeRandomHex");var random=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((options=>makeRandomHex(options.length)),"random"),getTextObj=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0,text:""}}),"getTextObj"),drawSimpleText=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((function(elem,textData){const nText=textData.text.replace(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.Y2.lineBreakRegex," "),[,_fontSizePx]=parseFontSize(textData.fontSize),textElem=elem.append("text");textElem.attr("x",textData.x),textElem.attr("y",textData.y),textElem.style("text-anchor",textData.anchor),textElem.style("font-family",textData.fontFamily),textElem.style("font-size",_fontSizePx),textElem.style("font-weight",textData.fontWeight),textElem.attr("fill",textData.fill),void 0!==textData.class&&textElem.attr("class",textData.class);const span=textElem.append("tspan");return span.attr("x",textData.x+2*textData.textMargin),span.attr("fill",textData.fill),span.text(nText),textElem}),"drawSimpleText"),wrapLabel=(0,lodash_es_memoize_js__WEBPACK_IMPORTED_MODULE_4__.A)(((label,maxWidth,config)=>{if(!label)return label;if(config=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},config),_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.Y2.lineBreakRegex.test(label))return label;const words=label.split(" ").filter(Boolean),completedLines=[];let nextLine="";return words.forEach(((word,index)=>{const wordLength=calculateTextWidth(`${word} `,config),nextLineLength=calculateTextWidth(nextLine,config);if(wordLength>maxWidth){const{hyphenatedStrings,remainingWord}=breakString(word,maxWidth,"-",config);completedLines.push(nextLine,...hyphenatedStrings),nextLine=remainingWord}else nextLineLength+wordLength>=maxWidth?(completedLines.push(nextLine),nextLine=word):nextLine=[nextLine,word].filter(Boolean).join(" ");index+1===words.length&&completedLines.push(nextLine)})),completedLines.filter((line=>""!==line)).join(config.joinWith)}),((label,maxWidth,config)=>`${label}${maxWidth}${config.fontSize}${config.fontWeight}${config.fontFamily}${config.joinWith}`)),breakString=(0,lodash_es_memoize_js__WEBPACK_IMPORTED_MODULE_4__.A)(((word,maxWidth,hyphenCharacter="-",config)=>{config=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},config);const characters=[...word],lines=[];let currentLine="";return characters.forEach(((character,index)=>{const nextLine=`${currentLine}${character}`;if(calculateTextWidth(nextLine,config)>=maxWidth){const currentCharacter=index+1,isLastLine=characters.length===currentCharacter,hyphenatedNextLine=`${nextLine}${hyphenCharacter}`;lines.push(isLastLine?nextLine:hyphenatedNextLine),currentLine=""}else currentLine=nextLine})),{hyphenatedStrings:lines,remainingWord:currentLine}}),((word,maxWidth,hyphenCharacter="-",config)=>`${word}${maxWidth}${hyphenCharacter}${config.fontSize}${config.fontWeight}${config.fontFamily}`));function calculateTextHeight(text,config){return calculateTextDimensions(text,config).height}function calculateTextWidth(text,config){return calculateTextDimensions(text,config).width}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(calculateTextHeight,"calculateTextHeight"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(calculateTextWidth,"calculateTextWidth");var decoder,calculateTextDimensions=(0,lodash_es_memoize_js__WEBPACK_IMPORTED_MODULE_4__.A)(((text,config)=>{const{fontSize=12,fontFamily="Arial",fontWeight=400}=config;if(!text)return{width:0,height:0};const[,_fontSizePx]=parseFontSize(fontSize),fontFamilies=["sans-serif",fontFamily],lines=text.split(_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.Y2.lineBreakRegex),dims=[],body=(0,d3__WEBPACK_IMPORTED_MODULE_3__.Ltv)("body");if(!body.remove)return{width:0,height:0,lineHeight:0};const g=body.append("svg");for(const fontFamily2 of fontFamilies){let cHeight=0;const dim={width:0,height:0,lineHeight:0};for(const line of lines){const textObj=getTextObj();textObj.text=line||ZERO_WIDTH_SPACE;const textElem=drawSimpleText(g,textObj).style("font-size",_fontSizePx).style("font-weight",fontWeight).style("font-family",fontFamily2),bBox=(textElem._groups||textElem)[0][0].getBBox();if(0===bBox.width&&0===bBox.height)throw new Error("svg element not in render tree");dim.width=Math.round(Math.max(dim.width,bBox.width)),cHeight=Math.round(bBox.height),dim.height+=cHeight,dim.lineHeight=Math.round(Math.max(dim.lineHeight,cHeight))}dims.push(dim)}g.remove();return dims[isNaN(dims[1].height)||isNaN(dims[1].width)||isNaN(dims[1].lineHeight)||dims[0].height>dims[1].height&&dims[0].width>dims[1].width&&dims[0].lineHeight>dims[1].lineHeight?0:1]}),((text,config)=>`${text}${config.fontSize}${config.fontWeight}${config.fontFamily}`)),InitIDGenerator=class{constructor(deterministic=!1,seed){this.count=0,this.count=seed?seed.length:0,this.next=deterministic?()=>this.count++:()=>Date.now()}static{(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(this,"InitIDGenerator")}},entityDecode=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((function(html){return decoder=decoder||document.createElement("div"),html=escape(html).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=html,unescape(decoder.textContent)}),"entityDecode");function isDetailedError(error){return"str"in error}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(isDetailedError,"isDetailedError");var insertTitle=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(((parent,cssClass,titleTopMargin,title)=>{if(!title)return;const bounds=parent.node()?.getBBox();bounds&&parent.append("text").text(title).attr("text-anchor","middle").attr("x",bounds.x+bounds.width/2).attr("y",-titleTopMargin).attr("class",cssClass)}),"insertTitle"),parseFontSize=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((fontSize=>{if("number"==typeof fontSize)return[fontSize,fontSize+"px"];const fontSizeNumber=parseInt(fontSize??"",10);return Number.isNaN(fontSizeNumber)?[void 0,void 0]:fontSize===String(fontSizeNumber)?[fontSizeNumber,fontSize+"px"]:[fontSizeNumber,fontSize]}),"parseFontSize");function cleanAndMerge(defaultData,data){return(0,lodash_es_merge_js__WEBPACK_IMPORTED_MODULE_5__.A)({},defaultData,data)}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(cleanAndMerge,"cleanAndMerge");var utils_default={assignWithDepth:_chunk_ABZYJK2D_mjs__WEBPACK_IMPORTED_MODULE_0__.hH,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,cleanAndMerge,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId,random,runFunc,entityDecode,insertTitle,isLabelCoordinateInPath,parseFontSize,InitIDGenerator},encodeEntities=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((function(text){let txt=text;return txt=txt.replace(/style.*:\S*#.*;/g,(function(s){return s.substring(0,s.length-1)})),txt=txt.replace(/classDef.*:\S*#.*;/g,(function(s){return s.substring(0,s.length-1)})),txt=txt.replace(/#\w+;/g,(function(s){const innerTxt=s.substring(1,s.length-1);return/^\+?\d+$/.test(innerTxt)?"ﬂ°°"+innerTxt+"¶ß":"ﬂ°"+innerTxt+"¶ß"})),txt}),"encodeEntities"),decodeEntities=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)((function(text){return text.replace(/ﬂ°°/g,"&#").replace(/ﬂ°/g,"&").replace(/¶ß/g,";")}),"decodeEntities"),getEdgeId=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(((from,to,{counter=0,prefix,suffix},id)=>id||`${prefix?`${prefix}_`:""}${from}_${to}_${counter}${suffix?`_${suffix}`:""}`),"getEdgeId");function handleUndefinedAttr(attrValue){return attrValue??null}function isLabelCoordinateInPath(point,dAttr){const roundedX=Math.round(point.x),roundedY=Math.round(point.y),sanitizedD=dAttr.replace(/(\d+\.\d+)/g,(match=>Math.round(parseFloat(match)).toString()));return sanitizedD.includes(roundedX.toString())||sanitizedD.includes(roundedY.toString())}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(handleUndefinedAttr,"handleUndefinedAttr"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_1__.K2)(isLabelCoordinateInPath,"isLabelCoordinateInPath")},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-ZPAFE4SF.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{H:()=>load,r:()=>JSON_SCHEMA});var _chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs");function isNothing(subject){return null==subject}function isObject(subject){return"object"==typeof subject&&null!==subject}function toArray(sequence){return Array.isArray(sequence)?sequence:isNothing(sequence)?[]:[sequence]}function extend(target,source){var index,length,key,sourceKeys;if(source)for(index=0,length=(sourceKeys=Object.keys(source)).length;index<length;index+=1)target[key=sourceKeys[index]]=source[key];return target}function repeat(string,count){var cycle,result="";for(cycle=0;cycle<count;cycle+=1)result+=string;return result}function isNegativeZero(number){return 0===number&&Number.NEGATIVE_INFINITY===1/number}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isNothing,"isNothing"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isObject,"isObject"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(toArray,"toArray"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(extend,"extend"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(repeat,"repeat"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isNegativeZero,"isNegativeZero");var common={isNothing,isObject,toArray,repeat,isNegativeZero,extend};function formatError(exception2,compact){var where="",message=exception2.reason||"(unknown reason)";return exception2.mark?(exception2.mark.name&&(where+='in "'+exception2.mark.name+'" '),where+="("+(exception2.mark.line+1)+":"+(exception2.mark.column+1)+")",!compact&&exception2.mark.snippet&&(where+="\n\n"+exception2.mark.snippet),message+" "+where):message}function YAMLException$1(reason,mark){Error.call(this),this.name="YAMLException",this.reason=reason,this.mark=mark,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(formatError,"formatError"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(YAMLException$1,"YAMLException$1"),YAMLException$1.prototype=Object.create(Error.prototype),YAMLException$1.prototype.constructor=YAMLException$1,YAMLException$1.prototype.toString=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function toString(compact){return this.name+": "+formatError(this,compact)}),"toString");var exception=YAMLException$1;function getLine(buffer,lineStart,lineEnd,position,maxLineLength){var head="",tail="",maxHalfLength=Math.floor(maxLineLength/2)-1;return position-lineStart>maxHalfLength&&(lineStart=position-maxHalfLength+(head=" ... ").length),lineEnd-position>maxHalfLength&&(lineEnd=position+maxHalfLength-(tail=" ...").length),{str:head+buffer.slice(lineStart,lineEnd).replace(/\t/g,"→")+tail,pos:position-lineStart+head.length}}function padStart(string,max){return common.repeat(" ",max-string.length)+string}function makeSnippet(mark,options){if(options=Object.create(options||null),!mark.buffer)return null;options.maxLength||(options.maxLength=79),"number"!=typeof options.indent&&(options.indent=1),"number"!=typeof options.linesBefore&&(options.linesBefore=3),"number"!=typeof options.linesAfter&&(options.linesAfter=2);for(var match,re=/\r?\n|\r|\0/g,lineStarts=[0],lineEnds=[],foundLineNo=-1;match=re.exec(mark.buffer);)lineEnds.push(match.index),lineStarts.push(match.index+match[0].length),mark.position<=match.index&&foundLineNo<0&&(foundLineNo=lineStarts.length-2);foundLineNo<0&&(foundLineNo=lineStarts.length-1);var i,line,result="",lineNoLength=Math.min(mark.line+options.linesAfter,lineEnds.length).toString().length,maxLineLength=options.maxLength-(options.indent+lineNoLength+3);for(i=1;i<=options.linesBefore&&!(foundLineNo-i<0);i++)line=getLine(mark.buffer,lineStarts[foundLineNo-i],lineEnds[foundLineNo-i],mark.position-(lineStarts[foundLineNo]-lineStarts[foundLineNo-i]),maxLineLength),result=common.repeat(" ",options.indent)+padStart((mark.line-i+1).toString(),lineNoLength)+" | "+line.str+"\n"+result;for(line=getLine(mark.buffer,lineStarts[foundLineNo],lineEnds[foundLineNo],mark.position,maxLineLength),result+=common.repeat(" ",options.indent)+padStart((mark.line+1).toString(),lineNoLength)+" | "+line.str+"\n",result+=common.repeat("-",options.indent+lineNoLength+3+line.pos)+"^\n",i=1;i<=options.linesAfter&&!(foundLineNo+i>=lineEnds.length);i++)line=getLine(mark.buffer,lineStarts[foundLineNo+i],lineEnds[foundLineNo+i],mark.position-(lineStarts[foundLineNo]-lineStarts[foundLineNo+i]),maxLineLength),result+=common.repeat(" ",options.indent)+padStart((mark.line+i+1).toString(),lineNoLength)+" | "+line.str+"\n";return result.replace(/\n$/,"")}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(getLine,"getLine"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(padStart,"padStart"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(makeSnippet,"makeSnippet");var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(map2){var result={};return null!==map2&&Object.keys(map2).forEach((function(style){map2[style].forEach((function(alias){result[String(alias)]=style}))})),result}function Type$1(tag,options){if(options=options||{},Object.keys(options).forEach((function(name){if(-1===TYPE_CONSTRUCTOR_OPTIONS.indexOf(name))throw new exception('Unknown option "'+name+'" is met in definition of "'+tag+'" YAML type.')})),this.options=options,this.tag=tag,this.kind=options.kind||null,this.resolve=options.resolve||function(){return!0},this.construct=options.construct||function(data){return data},this.instanceOf=options.instanceOf||null,this.predicate=options.predicate||null,this.represent=options.represent||null,this.representName=options.representName||null,this.defaultStyle=options.defaultStyle||null,this.multi=options.multi||!1,this.styleAliases=compileStyleAliases(options.styleAliases||null),-1===YAML_NODE_KINDS.indexOf(this.kind))throw new exception('Unknown kind "'+this.kind+'" is specified for "'+tag+'" YAML type.')}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(compileStyleAliases,"compileStyleAliases"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(Type$1,"Type$1");var type=Type$1;function compileList(schema2,name){var result=[];return schema2[name].forEach((function(currentType){var newIndex=result.length;result.forEach((function(previousType,previousIndex){previousType.tag===currentType.tag&&previousType.kind===currentType.kind&&previousType.multi===currentType.multi&&(newIndex=previousIndex)})),result[newIndex]=currentType})),result}function compileMap(){var index,length,result={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function collectType(type2){type2.multi?(result.multi[type2.kind].push(type2),result.multi.fallback.push(type2)):result[type2.kind][type2.tag]=result.fallback[type2.tag]=type2}for((0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(collectType,"collectType"),index=0,length=arguments.length;index<length;index+=1)arguments[index].forEach(collectType);return result}function Schema$1(definition){return this.extend(definition)}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(compileList,"compileList"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(compileMap,"compileMap"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(Schema$1,"Schema$1"),Schema$1.prototype.extend=(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function extend2(definition){var implicit=[],explicit=[];if(definition instanceof type)explicit.push(definition);else if(Array.isArray(definition))explicit=explicit.concat(definition);else{if(!definition||!Array.isArray(definition.implicit)&&!Array.isArray(definition.explicit))throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");definition.implicit&&(implicit=implicit.concat(definition.implicit)),definition.explicit&&(explicit=explicit.concat(definition.explicit))}implicit.forEach((function(type$1){if(!(type$1 instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(type$1.loadKind&&"scalar"!==type$1.loadKind)throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(type$1.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),explicit.forEach((function(type$1){if(!(type$1 instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var result=Object.create(Schema$1.prototype);return result.implicit=(this.implicit||[]).concat(implicit),result.explicit=(this.explicit||[]).concat(explicit),result.compiledImplicit=compileList(result,"implicit"),result.compiledExplicit=compileList(result,"explicit"),result.compiledTypeMap=compileMap(result.compiledImplicit,result.compiledExplicit),result}),"extend");var failsafe=new Schema$1({explicit:[new type("tag:yaml.org,2002:str",{kind:"scalar",construct:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(data){return null!==data?data:""}),"construct")}),new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(data){return null!==data?data:[]}),"construct")}),new type("tag:yaml.org,2002:map",{kind:"mapping",construct:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(data){return null!==data?data:{}}),"construct")})]});function resolveYamlNull(data){if(null===data)return!0;var max=data.length;return 1===max&&"~"===data||4===max&&("null"===data||"Null"===data||"NULL"===data)}function constructYamlNull(){return null}function isNull(object){return null===object}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(resolveYamlNull,"resolveYamlNull"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(constructYamlNull,"constructYamlNull"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isNull,"isNull");var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(){return"~"}),"canonical"),lowercase:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(){return"null"}),"lowercase"),uppercase:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(){return"NULL"}),"uppercase"),camelcase:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(){return"Null"}),"camelcase"),empty:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(){return""}),"empty")},defaultStyle:"lowercase"});function resolveYamlBoolean(data){if(null===data)return!1;var max=data.length;return 4===max&&("true"===data||"True"===data||"TRUE"===data)||5===max&&("false"===data||"False"===data||"FALSE"===data)}function constructYamlBoolean(data){return"true"===data||"True"===data||"TRUE"===data}function isBoolean(object){return"[object Boolean]"===Object.prototype.toString.call(object)}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(resolveYamlBoolean,"resolveYamlBoolean"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(constructYamlBoolean,"constructYamlBoolean"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isBoolean,"isBoolean");var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(object){return object?"true":"false"}),"lowercase"),uppercase:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(object){return object?"TRUE":"FALSE"}),"uppercase"),camelcase:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(object){return object?"True":"False"}),"camelcase")},defaultStyle:"lowercase"});function isHexCode(c){return 48<=c&&c<=57||65<=c&&c<=70||97<=c&&c<=102}function isOctCode(c){return 48<=c&&c<=55}function isDecCode(c){return 48<=c&&c<=57}function resolveYamlInteger(data){if(null===data)return!1;var ch,max=data.length,index=0,hasDigits=!1;if(!max)return!1;if("-"!==(ch=data[index])&&"+"!==ch||(ch=data[++index]),"0"===ch){if(index+1===max)return!0;if("b"===(ch=data[++index])){for(index++;index<max;index++)if("_"!==(ch=data[index])){if("0"!==ch&&"1"!==ch)return!1;hasDigits=!0}return hasDigits&&"_"!==ch}if("x"===ch){for(index++;index<max;index++)if("_"!==(ch=data[index])){if(!isHexCode(data.charCodeAt(index)))return!1;hasDigits=!0}return hasDigits&&"_"!==ch}if("o"===ch){for(index++;index<max;index++)if("_"!==(ch=data[index])){if(!isOctCode(data.charCodeAt(index)))return!1;hasDigits=!0}return hasDigits&&"_"!==ch}}if("_"===ch)return!1;for(;index<max;index++)if("_"!==(ch=data[index])){if(!isDecCode(data.charCodeAt(index)))return!1;hasDigits=!0}return!(!hasDigits||"_"===ch)}function constructYamlInteger(data){var ch,value=data,sign=1;if(-1!==value.indexOf("_")&&(value=value.replace(/_/g,"")),"-"!==(ch=value[0])&&"+"!==ch||("-"===ch&&(sign=-1),ch=(value=value.slice(1))[0]),"0"===value)return 0;if("0"===ch){if("b"===value[1])return sign*parseInt(value.slice(2),2);if("x"===value[1])return sign*parseInt(value.slice(2),16);if("o"===value[1])return sign*parseInt(value.slice(2),8)}return sign*parseInt(value,10)}function isInteger(object){return"[object Number]"===Object.prototype.toString.call(object)&&object%1==0&&!common.isNegativeZero(object)}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isHexCode,"isHexCode"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isOctCode,"isOctCode"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isDecCode,"isDecCode"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(resolveYamlInteger,"resolveYamlInteger"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(constructYamlInteger,"constructYamlInteger"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isInteger,"isInteger");var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(obj){return obj>=0?"0b"+obj.toString(2):"-0b"+obj.toString(2).slice(1)}),"binary"),octal:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(obj){return obj>=0?"0o"+obj.toString(8):"-0o"+obj.toString(8).slice(1)}),"octal"),decimal:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(obj){return obj.toString(10)}),"decimal"),hexadecimal:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function(obj){return obj>=0?"0x"+obj.toString(16).toUpperCase():"-0x"+obj.toString(16).toUpperCase().slice(1)}),"hexadecimal")},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(data){return null!==data&&!(!YAML_FLOAT_PATTERN.test(data)||"_"===data[data.length-1])}function constructYamlFloat(data){var value,sign;return sign="-"===(value=data.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(value[0])>=0&&(value=value.slice(1)),".inf"===value?1===sign?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===value?NaN:sign*parseFloat(value,10)}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(resolveYamlFloat,"resolveYamlFloat"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(constructYamlFloat,"constructYamlFloat");var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(object,style){var res;if(isNaN(object))switch(style){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===object)switch(style){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===object)switch(style){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(object))return"-0.0";return res=object.toString(10),SCIENTIFIC_WITHOUT_DOT.test(res)?res.replace("e",".e"):res}function isFloat(object){return"[object Number]"===Object.prototype.toString.call(object)&&(object%1!=0||common.isNegativeZero(object))}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(representYamlFloat,"representYamlFloat"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isFloat,"isFloat");var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(data){return null!==data&&(null!==YAML_DATE_REGEXP.exec(data)||null!==YAML_TIMESTAMP_REGEXP.exec(data))}function constructYamlTimestamp(data){var match,year,month,day,hour,minute,second,date,fraction=0,delta=null;if(null===(match=YAML_DATE_REGEXP.exec(data))&&(match=YAML_TIMESTAMP_REGEXP.exec(data)),null===match)throw new Error("Date resolve error");if(year=+match[1],month=+match[2]-1,day=+match[3],!match[4])return new Date(Date.UTC(year,month,day));if(hour=+match[4],minute=+match[5],second=+match[6],match[7]){for(fraction=match[7].slice(0,3);fraction.length<3;)fraction+="0";fraction=+fraction}return match[9]&&(delta=6e4*(60*+match[10]+ +(match[11]||0)),"-"===match[9]&&(delta=-delta)),date=new Date(Date.UTC(year,month,day,hour,minute,second,fraction)),delta&&date.setTime(date.getTime()-delta),date}function representYamlTimestamp(object){return object.toISOString()}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(resolveYamlTimestamp,"resolveYamlTimestamp"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(constructYamlTimestamp,"constructYamlTimestamp"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(representYamlTimestamp,"representYamlTimestamp");var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(data){return"<<"===data||null===data}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(resolveYamlMerge,"resolveYamlMerge");var merge=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function resolveYamlBinary(data){if(null===data)return!1;var code,idx,bitlen=0,max=data.length,map2=BASE64_MAP;for(idx=0;idx<max;idx++)if(!((code=map2.indexOf(data.charAt(idx)))>64)){if(code<0)return!1;bitlen+=6}return bitlen%8==0}function constructYamlBinary(data){var idx,tailbits,input=data.replace(/[\r\n=]/g,""),max=input.length,map2=BASE64_MAP,bits=0,result=[];for(idx=0;idx<max;idx++)idx%4==0&&idx&&(result.push(bits>>16&255),result.push(bits>>8&255),result.push(255&bits)),bits=bits<<6|map2.indexOf(input.charAt(idx));return 0===(tailbits=max%4*6)?(result.push(bits>>16&255),result.push(bits>>8&255),result.push(255&bits)):18===tailbits?(result.push(bits>>10&255),result.push(bits>>2&255)):12===tailbits&&result.push(bits>>4&255),new Uint8Array(result)}function representYamlBinary(object){var idx,tail,result="",bits=0,max=object.length,map2=BASE64_MAP;for(idx=0;idx<max;idx++)idx%3==0&&idx&&(result+=map2[bits>>18&63],result+=map2[bits>>12&63],result+=map2[bits>>6&63],result+=map2[63&bits]),bits=(bits<<8)+object[idx];return 0===(tail=max%3)?(result+=map2[bits>>18&63],result+=map2[bits>>12&63],result+=map2[bits>>6&63],result+=map2[63&bits]):2===tail?(result+=map2[bits>>10&63],result+=map2[bits>>4&63],result+=map2[bits<<2&63],result+=map2[64]):1===tail&&(result+=map2[bits>>2&63],result+=map2[bits<<4&63],result+=map2[64],result+=map2[64]),result}function isBinary(obj){return"[object Uint8Array]"===Object.prototype.toString.call(obj)}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(resolveYamlBinary,"resolveYamlBinary"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(constructYamlBinary,"constructYamlBinary"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(representYamlBinary,"representYamlBinary"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isBinary,"isBinary");var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(data){if(null===data)return!0;var index,length,pair,pairKey,pairHasKey,objectKeys=[],object=data;for(index=0,length=object.length;index<length;index+=1){if(pair=object[index],pairHasKey=!1,"[object Object]"!==_toString$2.call(pair))return!1;for(pairKey in pair)if(_hasOwnProperty$3.call(pair,pairKey)){if(pairHasKey)return!1;pairHasKey=!0}if(!pairHasKey)return!1;if(-1!==objectKeys.indexOf(pairKey))return!1;objectKeys.push(pairKey)}return!0}function constructYamlOmap(data){return null!==data?data:[]}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(resolveYamlOmap,"resolveYamlOmap"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(constructYamlOmap,"constructYamlOmap");var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(data){if(null===data)return!0;var index,length,pair,keys,result,object=data;for(result=new Array(object.length),index=0,length=object.length;index<length;index+=1){if(pair=object[index],"[object Object]"!==_toString$1.call(pair))return!1;if(1!==(keys=Object.keys(pair)).length)return!1;result[index]=[keys[0],pair[keys[0]]]}return!0}function constructYamlPairs(data){if(null===data)return[];var index,length,pair,keys,result,object=data;for(result=new Array(object.length),index=0,length=object.length;index<length;index+=1)pair=object[index],keys=Object.keys(pair),result[index]=[keys[0],pair[keys[0]]];return result}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(resolveYamlPairs,"resolveYamlPairs"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(constructYamlPairs,"constructYamlPairs");var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(data){if(null===data)return!0;var key,object=data;for(key in object)if(_hasOwnProperty$2.call(object,key)&&null!==object[key])return!1;return!0}function constructYamlSet(data){return null!==data?data:{}}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(resolveYamlSet,"resolveYamlSet"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(constructYamlSet,"constructYamlSet");var set=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge],explicit:[binary,omap,pairs,set]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(obj){return Object.prototype.toString.call(obj)}function is_EOL(c){return 10===c||13===c}function is_WHITE_SPACE(c){return 9===c||32===c}function is_WS_OR_EOL(c){return 9===c||32===c||10===c||13===c}function is_FLOW_INDICATOR(c){return 44===c||91===c||93===c||123===c||125===c}function fromHexCode(c){var lc;return 48<=c&&c<=57?c-48:97<=(lc=32|c)&&lc<=102?lc-97+10:-1}function escapedHexLen(c){return 120===c?2:117===c?4:85===c?8:0}function fromDecimalCode(c){return 48<=c&&c<=57?c-48:-1}function simpleEscapeSequence(c){return 48===c?"\0":97===c?"":98===c?"\b":116===c||9===c?"\t":110===c?"\n":118===c?"\v":102===c?"\f":114===c?"\r":101===c?"":32===c?" ":34===c?'"':47===c?"/":92===c?"\\":78===c?"":95===c?" ":76===c?"\u2028":80===c?"\u2029":""}function charFromCodepoint(c){return c<=65535?String.fromCharCode(c):String.fromCharCode(55296+(c-65536>>10),56320+(c-65536&1023))}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(_class,"_class"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(is_EOL,"is_EOL"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(is_WHITE_SPACE,"is_WHITE_SPACE"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(is_WS_OR_EOL,"is_WS_OR_EOL"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(is_FLOW_INDICATOR,"is_FLOW_INDICATOR"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(fromHexCode,"fromHexCode"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(escapedHexLen,"escapedHexLen"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(fromDecimalCode,"fromDecimalCode"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(simpleEscapeSequence,"simpleEscapeSequence"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(charFromCodepoint,"charFromCodepoint");var i,simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(input,options){this.input=input,this.filename=options.filename||null,this.schema=options.schema||_default,this.onWarning=options.onWarning||null,this.legacy=options.legacy||!1,this.json=options.json||!1,this.listener=options.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=input.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(state,message){var mark={name:state.filename,buffer:state.input.slice(0,-1),position:state.position,line:state.line,column:state.position-state.lineStart};return mark.snippet=snippet(mark),new exception(message,mark)}function throwError(state,message){throw generateError(state,message)}function throwWarning(state,message){state.onWarning&&state.onWarning.call(null,generateError(state,message))}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(State$1,"State$1"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(generateError,"generateError"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(throwError,"throwError"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(throwWarning,"throwWarning");var directiveHandlers={YAML:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function handleYamlDirective(state,name,args){var match,major,minor;null!==state.version&&throwError(state,"duplication of %YAML directive"),1!==args.length&&throwError(state,"YAML directive accepts exactly one argument"),null===(match=/^([0-9]+)\.([0-9]+)$/.exec(args[0]))&&throwError(state,"ill-formed argument of the YAML directive"),major=parseInt(match[1],10),minor=parseInt(match[2],10),1!==major&&throwError(state,"unacceptable YAML version of the document"),state.version=args[0],state.checkLineBreaks=minor<2,1!==minor&&2!==minor&&throwWarning(state,"unsupported YAML version of the document")}),"handleYamlDirective"),TAG:(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)((function handleTagDirective(state,name,args){var handle,prefix;2!==args.length&&throwError(state,"TAG directive accepts exactly two arguments"),handle=args[0],prefix=args[1],PATTERN_TAG_HANDLE.test(handle)||throwError(state,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(state.tagMap,handle)&&throwError(state,'there is a previously declared suffix for "'+handle+'" tag handle'),PATTERN_TAG_URI.test(prefix)||throwError(state,"ill-formed tag prefix (second argument) of the TAG directive");try{prefix=decodeURIComponent(prefix)}catch(err){throwError(state,"tag prefix is malformed: "+prefix)}state.tagMap[handle]=prefix}),"handleTagDirective")};function captureSegment(state,start,end,checkJson){var _position,_length,_character,_result;if(start<end){if(_result=state.input.slice(start,end),checkJson)for(_position=0,_length=_result.length;_position<_length;_position+=1)9===(_character=_result.charCodeAt(_position))||32<=_character&&_character<=1114111||throwError(state,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(_result)&&throwError(state,"the stream contains non-printable characters");state.result+=_result}}function mergeMappings(state,destination,source,overridableKeys){var sourceKeys,key,index,quantity;for(common.isObject(source)||throwError(state,"cannot merge mappings; the provided source object is unacceptable"),index=0,quantity=(sourceKeys=Object.keys(source)).length;index<quantity;index+=1)key=sourceKeys[index],_hasOwnProperty$1.call(destination,key)||(destination[key]=source[key],overridableKeys[key]=!0)}function storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode,startLine,startLineStart,startPos){var index,quantity;if(Array.isArray(keyNode))for(index=0,quantity=(keyNode=Array.prototype.slice.call(keyNode)).length;index<quantity;index+=1)Array.isArray(keyNode[index])&&throwError(state,"nested arrays are not supported inside keys"),"object"==typeof keyNode&&"[object Object]"===_class(keyNode[index])&&(keyNode[index]="[object Object]");if("object"==typeof keyNode&&"[object Object]"===_class(keyNode)&&(keyNode="[object Object]"),keyNode=String(keyNode),null===_result&&(_result={}),"tag:yaml.org,2002:merge"===keyTag)if(Array.isArray(valueNode))for(index=0,quantity=valueNode.length;index<quantity;index+=1)mergeMappings(state,_result,valueNode[index],overridableKeys);else mergeMappings(state,_result,valueNode,overridableKeys);else state.json||_hasOwnProperty$1.call(overridableKeys,keyNode)||!_hasOwnProperty$1.call(_result,keyNode)||(state.line=startLine||state.line,state.lineStart=startLineStart||state.lineStart,state.position=startPos||state.position,throwError(state,"duplicated mapping key")),"__proto__"===keyNode?Object.defineProperty(_result,keyNode,{configurable:!0,enumerable:!0,writable:!0,value:valueNode}):_result[keyNode]=valueNode,delete overridableKeys[keyNode];return _result}function readLineBreak(state){var ch;10===(ch=state.input.charCodeAt(state.position))?state.position++:13===ch?(state.position++,10===state.input.charCodeAt(state.position)&&state.position++):throwError(state,"a line break is expected"),state.line+=1,state.lineStart=state.position,state.firstTabInLine=-1}function skipSeparationSpace(state,allowComments,checkIndent){for(var lineBreaks=0,ch=state.input.charCodeAt(state.position);0!==ch;){for(;is_WHITE_SPACE(ch);)9===ch&&-1===state.firstTabInLine&&(state.firstTabInLine=state.position),ch=state.input.charCodeAt(++state.position);if(allowComments&&35===ch)do{ch=state.input.charCodeAt(++state.position)}while(10!==ch&&13!==ch&&0!==ch);if(!is_EOL(ch))break;for(readLineBreak(state),ch=state.input.charCodeAt(state.position),lineBreaks++,state.lineIndent=0;32===ch;)state.lineIndent++,ch=state.input.charCodeAt(++state.position)}return-1!==checkIndent&&0!==lineBreaks&&state.lineIndent<checkIndent&&throwWarning(state,"deficient indentation"),lineBreaks}function testDocumentSeparator(state){var ch,_position=state.position;return!(45!==(ch=state.input.charCodeAt(_position))&&46!==ch||ch!==state.input.charCodeAt(_position+1)||ch!==state.input.charCodeAt(_position+2)||(_position+=3,0!==(ch=state.input.charCodeAt(_position))&&!is_WS_OR_EOL(ch)))}function writeFoldedLines(state,count){1===count?state.result+=" ":count>1&&(state.result+=common.repeat("\n",count-1))}function readPlainScalar(state,nodeIndent,withinFlowCollection){var following,captureStart,captureEnd,hasPendingContent,_line,_lineStart,_lineIndent,ch,_kind=state.kind,_result=state.result;if(is_WS_OR_EOL(ch=state.input.charCodeAt(state.position))||is_FLOW_INDICATOR(ch)||35===ch||38===ch||42===ch||33===ch||124===ch||62===ch||39===ch||34===ch||37===ch||64===ch||96===ch)return!1;if((63===ch||45===ch)&&(is_WS_OR_EOL(following=state.input.charCodeAt(state.position+1))||withinFlowCollection&&is_FLOW_INDICATOR(following)))return!1;for(state.kind="scalar",state.result="",captureStart=captureEnd=state.position,hasPendingContent=!1;0!==ch;){if(58===ch){if(is_WS_OR_EOL(following=state.input.charCodeAt(state.position+1))||withinFlowCollection&&is_FLOW_INDICATOR(following))break}else if(35===ch){if(is_WS_OR_EOL(state.input.charCodeAt(state.position-1)))break}else{if(state.position===state.lineStart&&testDocumentSeparator(state)||withinFlowCollection&&is_FLOW_INDICATOR(ch))break;if(is_EOL(ch)){if(_line=state.line,_lineStart=state.lineStart,_lineIndent=state.lineIndent,skipSeparationSpace(state,!1,-1),state.lineIndent>=nodeIndent){hasPendingContent=!0,ch=state.input.charCodeAt(state.position);continue}state.position=captureEnd,state.line=_line,state.lineStart=_lineStart,state.lineIndent=_lineIndent;break}}hasPendingContent&&(captureSegment(state,captureStart,captureEnd,!1),writeFoldedLines(state,state.line-_line),captureStart=captureEnd=state.position,hasPendingContent=!1),is_WHITE_SPACE(ch)||(captureEnd=state.position+1),ch=state.input.charCodeAt(++state.position)}return captureSegment(state,captureStart,captureEnd,!1),!!state.result||(state.kind=_kind,state.result=_result,!1)}function readSingleQuotedScalar(state,nodeIndent){var ch,captureStart,captureEnd;if(39!==(ch=state.input.charCodeAt(state.position)))return!1;for(state.kind="scalar",state.result="",state.position++,captureStart=captureEnd=state.position;0!==(ch=state.input.charCodeAt(state.position));)if(39===ch){if(captureSegment(state,captureStart,state.position,!0),39!==(ch=state.input.charCodeAt(++state.position)))return!0;captureStart=state.position,state.position++,captureEnd=state.position}else is_EOL(ch)?(captureSegment(state,captureStart,captureEnd,!0),writeFoldedLines(state,skipSeparationSpace(state,!1,nodeIndent)),captureStart=captureEnd=state.position):state.position===state.lineStart&&testDocumentSeparator(state)?throwError(state,"unexpected end of the document within a single quoted scalar"):(state.position++,captureEnd=state.position);throwError(state,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(state,nodeIndent){var captureStart,captureEnd,hexLength,hexResult,tmp,ch;if(34!==(ch=state.input.charCodeAt(state.position)))return!1;for(state.kind="scalar",state.result="",state.position++,captureStart=captureEnd=state.position;0!==(ch=state.input.charCodeAt(state.position));){if(34===ch)return captureSegment(state,captureStart,state.position,!0),state.position++,!0;if(92===ch){if(captureSegment(state,captureStart,state.position,!0),is_EOL(ch=state.input.charCodeAt(++state.position)))skipSeparationSpace(state,!1,nodeIndent);else if(ch<256&&simpleEscapeCheck[ch])state.result+=simpleEscapeMap[ch],state.position++;else if((tmp=escapedHexLen(ch))>0){for(hexLength=tmp,hexResult=0;hexLength>0;hexLength--)(tmp=fromHexCode(ch=state.input.charCodeAt(++state.position)))>=0?hexResult=(hexResult<<4)+tmp:throwError(state,"expected hexadecimal character");state.result+=charFromCodepoint(hexResult),state.position++}else throwError(state,"unknown escape sequence");captureStart=captureEnd=state.position}else is_EOL(ch)?(captureSegment(state,captureStart,captureEnd,!0),writeFoldedLines(state,skipSeparationSpace(state,!1,nodeIndent)),captureStart=captureEnd=state.position):state.position===state.lineStart&&testDocumentSeparator(state)?throwError(state,"unexpected end of the document within a double quoted scalar"):(state.position++,captureEnd=state.position)}throwError(state,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(state,nodeIndent){var _line,_lineStart,_pos,_result,terminator,isPair,isExplicitPair,isMapping,keyNode,keyTag,valueNode,ch,readNext=!0,_tag=state.tag,_anchor=state.anchor,overridableKeys=Object.create(null);if(91===(ch=state.input.charCodeAt(state.position)))terminator=93,isMapping=!1,_result=[];else{if(123!==ch)return!1;terminator=125,isMapping=!0,_result={}}for(null!==state.anchor&&(state.anchorMap[state.anchor]=_result),ch=state.input.charCodeAt(++state.position);0!==ch;){if(skipSeparationSpace(state,!0,nodeIndent),(ch=state.input.charCodeAt(state.position))===terminator)return state.position++,state.tag=_tag,state.anchor=_anchor,state.kind=isMapping?"mapping":"sequence",state.result=_result,!0;readNext?44===ch&&throwError(state,"expected the node content, but found ','"):throwError(state,"missed comma between flow collection entries"),valueNode=null,isPair=isExplicitPair=!1,63===ch&&is_WS_OR_EOL(state.input.charCodeAt(state.position+1))&&(isPair=isExplicitPair=!0,state.position++,skipSeparationSpace(state,!0,nodeIndent)),_line=state.line,_lineStart=state.lineStart,_pos=state.position,composeNode(state,nodeIndent,1,!1,!0),keyTag=state.tag,keyNode=state.result,skipSeparationSpace(state,!0,nodeIndent),ch=state.input.charCodeAt(state.position),!isExplicitPair&&state.line!==_line||58!==ch||(isPair=!0,ch=state.input.charCodeAt(++state.position),skipSeparationSpace(state,!0,nodeIndent),composeNode(state,nodeIndent,1,!1,!0),valueNode=state.result),isMapping?storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode,_line,_lineStart,_pos):isPair?_result.push(storeMappingPair(state,null,overridableKeys,keyTag,keyNode,valueNode,_line,_lineStart,_pos)):_result.push(keyNode),skipSeparationSpace(state,!0,nodeIndent),44===(ch=state.input.charCodeAt(state.position))?(readNext=!0,ch=state.input.charCodeAt(++state.position)):readNext=!1}throwError(state,"unexpected end of the stream within a flow collection")}function readBlockScalar(state,nodeIndent){var captureStart,folding,tmp,ch,chomping=1,didReadContent=!1,detectedIndent=!1,textIndent=nodeIndent,emptyLines=0,atMoreIndented=!1;if(124===(ch=state.input.charCodeAt(state.position)))folding=!1;else{if(62!==ch)return!1;folding=!0}for(state.kind="scalar",state.result="";0!==ch;)if(43===(ch=state.input.charCodeAt(++state.position))||45===ch)1===chomping?chomping=43===ch?3:2:throwError(state,"repeat of a chomping mode identifier");else{if(!((tmp=fromDecimalCode(ch))>=0))break;0===tmp?throwError(state,"bad explicit indentation width of a block scalar; it cannot be less than one"):detectedIndent?throwError(state,"repeat of an indentation width identifier"):(textIndent=nodeIndent+tmp-1,detectedIndent=!0)}if(is_WHITE_SPACE(ch)){do{ch=state.input.charCodeAt(++state.position)}while(is_WHITE_SPACE(ch));if(35===ch)do{ch=state.input.charCodeAt(++state.position)}while(!is_EOL(ch)&&0!==ch)}for(;0!==ch;){for(readLineBreak(state),state.lineIndent=0,ch=state.input.charCodeAt(state.position);(!detectedIndent||state.lineIndent<textIndent)&&32===ch;)state.lineIndent++,ch=state.input.charCodeAt(++state.position);if(!detectedIndent&&state.lineIndent>textIndent&&(textIndent=state.lineIndent),is_EOL(ch))emptyLines++;else{if(state.lineIndent<textIndent){3===chomping?state.result+=common.repeat("\n",didReadContent?1+emptyLines:emptyLines):1===chomping&&didReadContent&&(state.result+="\n");break}for(folding?is_WHITE_SPACE(ch)?(atMoreIndented=!0,state.result+=common.repeat("\n",didReadContent?1+emptyLines:emptyLines)):atMoreIndented?(atMoreIndented=!1,state.result+=common.repeat("\n",emptyLines+1)):0===emptyLines?didReadContent&&(state.result+=" "):state.result+=common.repeat("\n",emptyLines):state.result+=common.repeat("\n",didReadContent?1+emptyLines:emptyLines),didReadContent=!0,detectedIndent=!0,emptyLines=0,captureStart=state.position;!is_EOL(ch)&&0!==ch;)ch=state.input.charCodeAt(++state.position);captureSegment(state,captureStart,state.position,!1)}}return!0}function readBlockSequence(state,nodeIndent){var _line,ch,_tag=state.tag,_anchor=state.anchor,_result=[],detected=!1;if(-1!==state.firstTabInLine)return!1;for(null!==state.anchor&&(state.anchorMap[state.anchor]=_result),ch=state.input.charCodeAt(state.position);0!==ch&&(-1!==state.firstTabInLine&&(state.position=state.firstTabInLine,throwError(state,"tab characters must not be used in indentation")),45===ch)&&is_WS_OR_EOL(state.input.charCodeAt(state.position+1));)if(detected=!0,state.position++,skipSeparationSpace(state,!0,-1)&&state.lineIndent<=nodeIndent)_result.push(null),ch=state.input.charCodeAt(state.position);else if(_line=state.line,composeNode(state,nodeIndent,3,!1,!0),_result.push(state.result),skipSeparationSpace(state,!0,-1),ch=state.input.charCodeAt(state.position),(state.line===_line||state.lineIndent>nodeIndent)&&0!==ch)throwError(state,"bad indentation of a sequence entry");else if(state.lineIndent<nodeIndent)break;return!!detected&&(state.tag=_tag,state.anchor=_anchor,state.kind="sequence",state.result=_result,!0)}function readBlockMapping(state,nodeIndent,flowIndent){var following,allowCompact,_line,_keyLine,_keyLineStart,_keyPos,ch,_tag=state.tag,_anchor=state.anchor,_result={},overridableKeys=Object.create(null),keyTag=null,keyNode=null,valueNode=null,atExplicitKey=!1,detected=!1;if(-1!==state.firstTabInLine)return!1;for(null!==state.anchor&&(state.anchorMap[state.anchor]=_result),ch=state.input.charCodeAt(state.position);0!==ch;){if(atExplicitKey||-1===state.firstTabInLine||(state.position=state.firstTabInLine,throwError(state,"tab characters must not be used in indentation")),following=state.input.charCodeAt(state.position+1),_line=state.line,63!==ch&&58!==ch||!is_WS_OR_EOL(following)){if(_keyLine=state.line,_keyLineStart=state.lineStart,_keyPos=state.position,!composeNode(state,flowIndent,2,!1,!0))break;if(state.line===_line){for(ch=state.input.charCodeAt(state.position);is_WHITE_SPACE(ch);)ch=state.input.charCodeAt(++state.position);if(58===ch)is_WS_OR_EOL(ch=state.input.charCodeAt(++state.position))||throwError(state,"a whitespace character is expected after the key-value separator within a block mapping"),atExplicitKey&&(storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null,_keyLine,_keyLineStart,_keyPos),keyTag=keyNode=valueNode=null),detected=!0,atExplicitKey=!1,allowCompact=!1,keyTag=state.tag,keyNode=state.result;else{if(!detected)return state.tag=_tag,state.anchor=_anchor,!0;throwError(state,"can not read an implicit mapping pair; a colon is missed")}}else{if(!detected)return state.tag=_tag,state.anchor=_anchor,!0;throwError(state,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===ch?(atExplicitKey&&(storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null,_keyLine,_keyLineStart,_keyPos),keyTag=keyNode=valueNode=null),detected=!0,atExplicitKey=!0,allowCompact=!0):atExplicitKey?(atExplicitKey=!1,allowCompact=!0):throwError(state,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),state.position+=1,ch=following;if((state.line===_line||state.lineIndent>nodeIndent)&&(atExplicitKey&&(_keyLine=state.line,_keyLineStart=state.lineStart,_keyPos=state.position),composeNode(state,nodeIndent,4,!0,allowCompact)&&(atExplicitKey?keyNode=state.result:valueNode=state.result),atExplicitKey||(storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,valueNode,_keyLine,_keyLineStart,_keyPos),keyTag=keyNode=valueNode=null),skipSeparationSpace(state,!0,-1),ch=state.input.charCodeAt(state.position)),(state.line===_line||state.lineIndent>nodeIndent)&&0!==ch)throwError(state,"bad indentation of a mapping entry");else if(state.lineIndent<nodeIndent)break}return atExplicitKey&&storeMappingPair(state,_result,overridableKeys,keyTag,keyNode,null,_keyLine,_keyLineStart,_keyPos),detected&&(state.tag=_tag,state.anchor=_anchor,state.kind="mapping",state.result=_result),detected}function readTagProperty(state){var _position,tagHandle,tagName,ch,isVerbatim=!1,isNamed=!1;if(33!==(ch=state.input.charCodeAt(state.position)))return!1;if(null!==state.tag&&throwError(state,"duplication of a tag property"),60===(ch=state.input.charCodeAt(++state.position))?(isVerbatim=!0,ch=state.input.charCodeAt(++state.position)):33===ch?(isNamed=!0,tagHandle="!!",ch=state.input.charCodeAt(++state.position)):tagHandle="!",_position=state.position,isVerbatim){do{ch=state.input.charCodeAt(++state.position)}while(0!==ch&&62!==ch);state.position<state.length?(tagName=state.input.slice(_position,state.position),ch=state.input.charCodeAt(++state.position)):throwError(state,"unexpected end of the stream within a verbatim tag")}else{for(;0!==ch&&!is_WS_OR_EOL(ch);)33===ch&&(isNamed?throwError(state,"tag suffix cannot contain exclamation marks"):(tagHandle=state.input.slice(_position-1,state.position+1),PATTERN_TAG_HANDLE.test(tagHandle)||throwError(state,"named tag handle cannot contain such characters"),isNamed=!0,_position=state.position+1)),ch=state.input.charCodeAt(++state.position);tagName=state.input.slice(_position,state.position),PATTERN_FLOW_INDICATORS.test(tagName)&&throwError(state,"tag suffix cannot contain flow indicator characters")}tagName&&!PATTERN_TAG_URI.test(tagName)&&throwError(state,"tag name cannot contain such characters: "+tagName);try{tagName=decodeURIComponent(tagName)}catch(err){throwError(state,"tag name is malformed: "+tagName)}return isVerbatim?state.tag=tagName:_hasOwnProperty$1.call(state.tagMap,tagHandle)?state.tag=state.tagMap[tagHandle]+tagName:"!"===tagHandle?state.tag="!"+tagName:"!!"===tagHandle?state.tag="tag:yaml.org,2002:"+tagName:throwError(state,'undeclared tag handle "'+tagHandle+'"'),!0}function readAnchorProperty(state){var _position,ch;if(38!==(ch=state.input.charCodeAt(state.position)))return!1;for(null!==state.anchor&&throwError(state,"duplication of an anchor property"),ch=state.input.charCodeAt(++state.position),_position=state.position;0!==ch&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch);)ch=state.input.charCodeAt(++state.position);return state.position===_position&&throwError(state,"name of an anchor node must contain at least one character"),state.anchor=state.input.slice(_position,state.position),!0}function readAlias(state){var _position,alias,ch;if(42!==(ch=state.input.charCodeAt(state.position)))return!1;for(ch=state.input.charCodeAt(++state.position),_position=state.position;0!==ch&&!is_WS_OR_EOL(ch)&&!is_FLOW_INDICATOR(ch);)ch=state.input.charCodeAt(++state.position);return state.position===_position&&throwError(state,"name of an alias node must contain at least one character"),alias=state.input.slice(_position,state.position),_hasOwnProperty$1.call(state.anchorMap,alias)||throwError(state,'unidentified alias "'+alias+'"'),state.result=state.anchorMap[alias],skipSeparationSpace(state,!0,-1),!0}function composeNode(state,parentIndent,nodeContext,allowToSeek,allowCompact){var allowBlockStyles,allowBlockScalars,allowBlockCollections,typeIndex,typeQuantity,typeList,type2,flowIndent,blockIndent,indentStatus=1,atNewLine=!1,hasContent=!1;if(null!==state.listener&&state.listener("open",state),state.tag=null,state.anchor=null,state.kind=null,state.result=null,allowBlockStyles=allowBlockScalars=allowBlockCollections=4===nodeContext||3===nodeContext,allowToSeek&&skipSeparationSpace(state,!0,-1)&&(atNewLine=!0,state.lineIndent>parentIndent?indentStatus=1:state.lineIndent===parentIndent?indentStatus=0:state.lineIndent<parentIndent&&(indentStatus=-1)),1===indentStatus)for(;readTagProperty(state)||readAnchorProperty(state);)skipSeparationSpace(state,!0,-1)?(atNewLine=!0,allowBlockCollections=allowBlockStyles,state.lineIndent>parentIndent?indentStatus=1:state.lineIndent===parentIndent?indentStatus=0:state.lineIndent<parentIndent&&(indentStatus=-1)):allowBlockCollections=!1;if(allowBlockCollections&&(allowBlockCollections=atNewLine||allowCompact),1!==indentStatus&&4!==nodeContext||(flowIndent=1===nodeContext||2===nodeContext?parentIndent:parentIndent+1,blockIndent=state.position-state.lineStart,1===indentStatus?allowBlockCollections&&(readBlockSequence(state,blockIndent)||readBlockMapping(state,blockIndent,flowIndent))||readFlowCollection(state,flowIndent)?hasContent=!0:(allowBlockScalars&&readBlockScalar(state,flowIndent)||readSingleQuotedScalar(state,flowIndent)||readDoubleQuotedScalar(state,flowIndent)?hasContent=!0:readAlias(state)?(hasContent=!0,null===state.tag&&null===state.anchor||throwError(state,"alias node should not have any properties")):readPlainScalar(state,flowIndent,1===nodeContext)&&(hasContent=!0,null===state.tag&&(state.tag="?")),null!==state.anchor&&(state.anchorMap[state.anchor]=state.result)):0===indentStatus&&(hasContent=allowBlockCollections&&readBlockSequence(state,blockIndent))),null===state.tag)null!==state.anchor&&(state.anchorMap[state.anchor]=state.result);else if("?"===state.tag){for(null!==state.result&&"scalar"!==state.kind&&throwError(state,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+state.kind+'"'),typeIndex=0,typeQuantity=state.implicitTypes.length;typeIndex<typeQuantity;typeIndex+=1)if((type2=state.implicitTypes[typeIndex]).resolve(state.result)){state.result=type2.construct(state.result),state.tag=type2.tag,null!==state.anchor&&(state.anchorMap[state.anchor]=state.result);break}}else if("!"!==state.tag){if(_hasOwnProperty$1.call(state.typeMap[state.kind||"fallback"],state.tag))type2=state.typeMap[state.kind||"fallback"][state.tag];else for(type2=null,typeIndex=0,typeQuantity=(typeList=state.typeMap.multi[state.kind||"fallback"]).length;typeIndex<typeQuantity;typeIndex+=1)if(state.tag.slice(0,typeList[typeIndex].tag.length)===typeList[typeIndex].tag){type2=typeList[typeIndex];break}type2||throwError(state,"unknown tag !<"+state.tag+">"),null!==state.result&&type2.kind!==state.kind&&throwError(state,"unacceptable node kind for !<"+state.tag+'> tag; it should be "'+type2.kind+'", not "'+state.kind+'"'),type2.resolve(state.result,state.tag)?(state.result=type2.construct(state.result,state.tag),null!==state.anchor&&(state.anchorMap[state.anchor]=state.result)):throwError(state,"cannot resolve a node with !<"+state.tag+"> explicit tag")}return null!==state.listener&&state.listener("close",state),null!==state.tag||null!==state.anchor||hasContent}function readDocument(state){var _position,directiveName,directiveArgs,ch,documentStart=state.position,hasDirectives=!1;for(state.version=null,state.checkLineBreaks=state.legacy,state.tagMap=Object.create(null),state.anchorMap=Object.create(null);0!==(ch=state.input.charCodeAt(state.position))&&(skipSeparationSpace(state,!0,-1),ch=state.input.charCodeAt(state.position),!(state.lineIndent>0||37!==ch));){for(hasDirectives=!0,ch=state.input.charCodeAt(++state.position),_position=state.position;0!==ch&&!is_WS_OR_EOL(ch);)ch=state.input.charCodeAt(++state.position);for(directiveArgs=[],(directiveName=state.input.slice(_position,state.position)).length<1&&throwError(state,"directive name must not be less than one character in length");0!==ch;){for(;is_WHITE_SPACE(ch);)ch=state.input.charCodeAt(++state.position);if(35===ch){do{ch=state.input.charCodeAt(++state.position)}while(0!==ch&&!is_EOL(ch));break}if(is_EOL(ch))break;for(_position=state.position;0!==ch&&!is_WS_OR_EOL(ch);)ch=state.input.charCodeAt(++state.position);directiveArgs.push(state.input.slice(_position,state.position))}0!==ch&&readLineBreak(state),_hasOwnProperty$1.call(directiveHandlers,directiveName)?directiveHandlers[directiveName](state,directiveName,directiveArgs):throwWarning(state,'unknown document directive "'+directiveName+'"')}skipSeparationSpace(state,!0,-1),0===state.lineIndent&&45===state.input.charCodeAt(state.position)&&45===state.input.charCodeAt(state.position+1)&&45===state.input.charCodeAt(state.position+2)?(state.position+=3,skipSeparationSpace(state,!0,-1)):hasDirectives&&throwError(state,"directives end mark is expected"),composeNode(state,state.lineIndent-1,4,!1,!0),skipSeparationSpace(state,!0,-1),state.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(state.input.slice(documentStart,state.position))&&throwWarning(state,"non-ASCII line breaks are interpreted as content"),state.documents.push(state.result),state.position===state.lineStart&&testDocumentSeparator(state)?46===state.input.charCodeAt(state.position)&&(state.position+=3,skipSeparationSpace(state,!0,-1)):state.position<state.length-1&&throwError(state,"end of the stream or a document separator is expected")}function loadDocuments(input,options){options=options||{},0!==(input=String(input)).length&&(10!==input.charCodeAt(input.length-1)&&13!==input.charCodeAt(input.length-1)&&(input+="\n"),65279===input.charCodeAt(0)&&(input=input.slice(1)));var state=new State$1(input,options),nullpos=input.indexOf("\0");for(-1!==nullpos&&(state.position=nullpos,throwError(state,"null byte is not allowed in input")),state.input+="\0";32===state.input.charCodeAt(state.position);)state.lineIndent+=1,state.position+=1;for(;state.position<state.length-1;)readDocument(state);return state.documents}function loadAll$1(input,iterator,options){null!==iterator&&"object"==typeof iterator&&void 0===options&&(options=iterator,iterator=null);var documents=loadDocuments(input,options);if("function"!=typeof iterator)return documents;for(var index=0,length=documents.length;index<length;index+=1)iterator(documents[index])}function load$1(input,options){var documents=loadDocuments(input,options);if(0!==documents.length){if(1===documents.length)return documents[0];throw new exception("expected a single document in the stream, but found more")}}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(captureSegment,"captureSegment"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(mergeMappings,"mergeMappings"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(storeMappingPair,"storeMappingPair"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(readLineBreak,"readLineBreak"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(skipSeparationSpace,"skipSeparationSpace"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(testDocumentSeparator,"testDocumentSeparator"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(writeFoldedLines,"writeFoldedLines"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(readPlainScalar,"readPlainScalar"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(readSingleQuotedScalar,"readSingleQuotedScalar"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(readDoubleQuotedScalar,"readDoubleQuotedScalar"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(readFlowCollection,"readFlowCollection"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(readBlockScalar,"readBlockScalar"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(readBlockSequence,"readBlockSequence"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(readBlockMapping,"readBlockMapping"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(readTagProperty,"readTagProperty"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(readAnchorProperty,"readAnchorProperty"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(readAlias,"readAlias"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(composeNode,"composeNode"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(readDocument,"readDocument"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(loadDocuments,"loadDocuments"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(loadAll$1,"loadAll$1"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(load$1,"load$1");var loader={loadAll:loadAll$1,load:load$1},_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,ESCAPE_SEQUENCES={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(schema2,map2){var result,keys,index,length,tag,style,type2;if(null===map2)return{};for(result={},index=0,length=(keys=Object.keys(map2)).length;index<length;index+=1)tag=keys[index],style=String(map2[tag]),"!!"===tag.slice(0,2)&&(tag="tag:yaml.org,2002:"+tag.slice(2)),(type2=schema2.compiledTypeMap.fallback[tag])&&_hasOwnProperty.call(type2.styleAliases,style)&&(style=type2.styleAliases[style]),result[tag]=style;return result}function encodeHex(character){var string,handle,length;if(string=character.toString(16).toUpperCase(),character<=255)handle="x",length=2;else if(character<=65535)handle="u",length=4;else{if(!(character<=4294967295))throw new exception("code point within a string may not be greater than 0xFFFFFFFF");handle="U",length=8}return"\\"+handle+common.repeat("0",length-string.length)+string}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(compileStyleMap,"compileStyleMap"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(encodeHex,"encodeHex");function State(options){this.schema=options.schema||_default,this.indent=Math.max(1,options.indent||2),this.noArrayIndent=options.noArrayIndent||!1,this.skipInvalid=options.skipInvalid||!1,this.flowLevel=common.isNothing(options.flowLevel)?-1:options.flowLevel,this.styleMap=compileStyleMap(this.schema,options.styles||null),this.sortKeys=options.sortKeys||!1,this.lineWidth=options.lineWidth||80,this.noRefs=options.noRefs||!1,this.noCompatMode=options.noCompatMode||!1,this.condenseFlow=options.condenseFlow||!1,this.quotingType='"'===options.quotingType?2:1,this.forceQuotes=options.forceQuotes||!1,this.replacer="function"==typeof options.replacer?options.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(string,spaces){for(var line,ind=common.repeat(" ",spaces),position=0,next=-1,result="",length=string.length;position<length;)-1===(next=string.indexOf("\n",position))?(line=string.slice(position),position=length):(line=string.slice(position,next+1),position=next+1),line.length&&"\n"!==line&&(result+=ind),result+=line;return result}function generateNextLine(state,level){return"\n"+common.repeat(" ",state.indent*level)}function testImplicitResolving(state,str2){var index,length;for(index=0,length=state.implicitTypes.length;index<length;index+=1)if(state.implicitTypes[index].resolve(str2))return!0;return!1}function isWhitespace(c){return 32===c||9===c}function isPrintable(c){return 32<=c&&c<=126||161<=c&&c<=55295&&8232!==c&&8233!==c||57344<=c&&c<=65533&&65279!==c||65536<=c&&c<=1114111}function isNsCharOrWhitespace(c){return isPrintable(c)&&65279!==c&&13!==c&&10!==c}function isPlainSafe(c,prev,inblock){var cIsNsCharOrWhitespace=isNsCharOrWhitespace(c),cIsNsChar=cIsNsCharOrWhitespace&&!isWhitespace(c);return(inblock?cIsNsCharOrWhitespace:cIsNsCharOrWhitespace&&44!==c&&91!==c&&93!==c&&123!==c&&125!==c)&&35!==c&&!(58===prev&&!cIsNsChar)||isNsCharOrWhitespace(prev)&&!isWhitespace(prev)&&35===c||58===prev&&cIsNsChar}function isPlainSafeFirst(c){return isPrintable(c)&&65279!==c&&!isWhitespace(c)&&45!==c&&63!==c&&58!==c&&44!==c&&91!==c&&93!==c&&123!==c&&125!==c&&35!==c&&38!==c&&42!==c&&33!==c&&124!==c&&61!==c&&62!==c&&39!==c&&34!==c&&37!==c&&64!==c&&96!==c}function isPlainSafeLast(c){return!isWhitespace(c)&&58!==c}function codePointAt(string,pos){var second,first=string.charCodeAt(pos);return first>=55296&&first<=56319&&pos+1<string.length&&(second=string.charCodeAt(pos+1))>=56320&&second<=57343?1024*(first-55296)+second-56320+65536:first}function needIndentIndicator(string){return/^\n* /.test(string)}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(State,"State"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(indentString,"indentString"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(generateNextLine,"generateNextLine"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(testImplicitResolving,"testImplicitResolving"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isWhitespace,"isWhitespace"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isPrintable,"isPrintable"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isNsCharOrWhitespace,"isNsCharOrWhitespace"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isPlainSafe,"isPlainSafe"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isPlainSafeFirst,"isPlainSafeFirst"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(isPlainSafeLast,"isPlainSafeLast"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(codePointAt,"codePointAt"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(needIndentIndicator,"needIndentIndicator");function chooseScalarStyle(string,singleLineOnly,indentPerLevel,lineWidth,testAmbiguousType,quotingType,forceQuotes,inblock){var i,char=0,prevChar=null,hasLineBreak=!1,hasFoldableLine=!1,shouldTrackWidth=-1!==lineWidth,previousLineBreak=-1,plain=isPlainSafeFirst(codePointAt(string,0))&&isPlainSafeLast(codePointAt(string,string.length-1));if(singleLineOnly||forceQuotes)for(i=0;i<string.length;char>=65536?i+=2:i++){if(!isPrintable(char=codePointAt(string,i)))return 5;plain=plain&&isPlainSafe(char,prevChar,inblock),prevChar=char}else{for(i=0;i<string.length;char>=65536?i+=2:i++){if(10===(char=codePointAt(string,i)))hasLineBreak=!0,shouldTrackWidth&&(hasFoldableLine=hasFoldableLine||i-previousLineBreak-1>lineWidth&&" "!==string[previousLineBreak+1],previousLineBreak=i);else if(!isPrintable(char))return 5;plain=plain&&isPlainSafe(char,prevChar,inblock),prevChar=char}hasFoldableLine=hasFoldableLine||shouldTrackWidth&&i-previousLineBreak-1>lineWidth&&" "!==string[previousLineBreak+1]}return hasLineBreak||hasFoldableLine?indentPerLevel>9&&needIndentIndicator(string)?5:forceQuotes?2===quotingType?5:2:hasFoldableLine?4:3:!plain||forceQuotes||testAmbiguousType(string)?2===quotingType?5:2:1}function writeScalar(state,string,level,iskey,inblock){state.dump=function(){if(0===string.length)return 2===state.quotingType?'""':"''";if(!state.noCompatMode&&(-1!==DEPRECATED_BOOLEANS_SYNTAX.indexOf(string)||DEPRECATED_BASE60_SYNTAX.test(string)))return 2===state.quotingType?'"'+string+'"':"'"+string+"'";var indent=state.indent*Math.max(1,level),lineWidth=-1===state.lineWidth?-1:Math.max(Math.min(state.lineWidth,40),state.lineWidth-indent),singleLineOnly=iskey||state.flowLevel>-1&&level>=state.flowLevel;function testAmbiguity(string2){return testImplicitResolving(state,string2)}switch((0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(testAmbiguity,"testAmbiguity"),chooseScalarStyle(string,singleLineOnly,state.indent,lineWidth,testAmbiguity,state.quotingType,state.forceQuotes&&!iskey,inblock)){case 1:return string;case 2:return"'"+string.replace(/'/g,"''")+"'";case 3:return"|"+blockHeader(string,state.indent)+dropEndingNewline(indentString(string,indent));case 4:return">"+blockHeader(string,state.indent)+dropEndingNewline(indentString(foldString(string,lineWidth),indent));case 5:return'"'+escapeString(string)+'"';default:throw new exception("impossible error: invalid scalar style")}}()}function blockHeader(string,indentPerLevel){var indentIndicator=needIndentIndicator(string)?String(indentPerLevel):"",clip="\n"===string[string.length-1];return indentIndicator+(clip&&("\n"===string[string.length-2]||"\n"===string)?"+":clip?"":"-")+"\n"}function dropEndingNewline(string){return"\n"===string[string.length-1]?string.slice(0,-1):string}function foldString(string,width){for(var nextLF,moreIndented,match,lineRe=/(\n+)([^\n]*)/g,result=(nextLF=-1!==(nextLF=string.indexOf("\n"))?nextLF:string.length,lineRe.lastIndex=nextLF,foldLine(string.slice(0,nextLF),width)),prevMoreIndented="\n"===string[0]||" "===string[0];match=lineRe.exec(string);){var prefix=match[1],line=match[2];moreIndented=" "===line[0],result+=prefix+(prevMoreIndented||moreIndented||""===line?"":"\n")+foldLine(line,width),prevMoreIndented=moreIndented}return result}function foldLine(line,width){if(""===line||" "===line[0])return line;for(var match,end,breakRe=/ [^ ]/g,start=0,curr=0,next=0,result="";match=breakRe.exec(line);)(next=match.index)-start>width&&(end=curr>start?curr:next,result+="\n"+line.slice(start,end),start=end+1),curr=next;return result+="\n",line.length-start>width&&curr>start?result+=line.slice(start,curr)+"\n"+line.slice(curr+1):result+=line.slice(start),result.slice(1)}function escapeString(string){for(var escapeSeq,result="",char=0,i=0;i<string.length;char>=65536?i+=2:i++)char=codePointAt(string,i),!(escapeSeq=ESCAPE_SEQUENCES[char])&&isPrintable(char)?(result+=string[i],char>=65536&&(result+=string[i+1])):result+=escapeSeq||encodeHex(char);return result}function writeFlowSequence(state,level,object){var index,length,value,_result="",_tag=state.tag;for(index=0,length=object.length;index<length;index+=1)value=object[index],state.replacer&&(value=state.replacer.call(object,String(index),value)),(writeNode(state,level,value,!1,!1)||void 0===value&&writeNode(state,level,null,!1,!1))&&(""!==_result&&(_result+=","+(state.condenseFlow?"":" ")),_result+=state.dump);state.tag=_tag,state.dump="["+_result+"]"}function writeBlockSequence(state,level,object,compact){var index,length,value,_result="",_tag=state.tag;for(index=0,length=object.length;index<length;index+=1)value=object[index],state.replacer&&(value=state.replacer.call(object,String(index),value)),(writeNode(state,level+1,value,!0,!0,!1,!0)||void 0===value&&writeNode(state,level+1,null,!0,!0,!1,!0))&&(compact&&""===_result||(_result+=generateNextLine(state,level)),state.dump&&10===state.dump.charCodeAt(0)?_result+="-":_result+="- ",_result+=state.dump);state.tag=_tag,state.dump=_result||"[]"}function writeFlowMapping(state,level,object){var index,length,objectKey,objectValue,pairBuffer,_result="",_tag=state.tag,objectKeyList=Object.keys(object);for(index=0,length=objectKeyList.length;index<length;index+=1)pairBuffer="",""!==_result&&(pairBuffer+=", "),state.condenseFlow&&(pairBuffer+='"'),objectValue=object[objectKey=objectKeyList[index]],state.replacer&&(objectValue=state.replacer.call(object,objectKey,objectValue)),writeNode(state,level,objectKey,!1,!1)&&(state.dump.length>1024&&(pairBuffer+="? "),pairBuffer+=state.dump+(state.condenseFlow?'"':"")+":"+(state.condenseFlow?"":" "),writeNode(state,level,objectValue,!1,!1)&&(_result+=pairBuffer+=state.dump));state.tag=_tag,state.dump="{"+_result+"}"}function writeBlockMapping(state,level,object,compact){var index,length,objectKey,objectValue,explicitPair,pairBuffer,_result="",_tag=state.tag,objectKeyList=Object.keys(object);if(!0===state.sortKeys)objectKeyList.sort();else if("function"==typeof state.sortKeys)objectKeyList.sort(state.sortKeys);else if(state.sortKeys)throw new exception("sortKeys must be a boolean or a function");for(index=0,length=objectKeyList.length;index<length;index+=1)pairBuffer="",compact&&""===_result||(pairBuffer+=generateNextLine(state,level)),objectValue=object[objectKey=objectKeyList[index]],state.replacer&&(objectValue=state.replacer.call(object,objectKey,objectValue)),writeNode(state,level+1,objectKey,!0,!0,!0)&&((explicitPair=null!==state.tag&&"?"!==state.tag||state.dump&&state.dump.length>1024)&&(state.dump&&10===state.dump.charCodeAt(0)?pairBuffer+="?":pairBuffer+="? "),pairBuffer+=state.dump,explicitPair&&(pairBuffer+=generateNextLine(state,level)),writeNode(state,level+1,objectValue,!0,explicitPair)&&(state.dump&&10===state.dump.charCodeAt(0)?pairBuffer+=":":pairBuffer+=": ",_result+=pairBuffer+=state.dump));state.tag=_tag,state.dump=_result||"{}"}function detectType(state,object,explicit){var _result,typeList,index,length,type2,style;for(index=0,length=(typeList=explicit?state.explicitTypes:state.implicitTypes).length;index<length;index+=1)if(((type2=typeList[index]).instanceOf||type2.predicate)&&(!type2.instanceOf||"object"==typeof object&&object instanceof type2.instanceOf)&&(!type2.predicate||type2.predicate(object))){if(explicit?type2.multi&&type2.representName?state.tag=type2.representName(object):state.tag=type2.tag:state.tag="?",type2.represent){if(style=state.styleMap[type2.tag]||type2.defaultStyle,"[object Function]"===_toString.call(type2.represent))_result=type2.represent(object,style);else{if(!_hasOwnProperty.call(type2.represent,style))throw new exception("!<"+type2.tag+'> tag resolver accepts not "'+style+'" style');_result=type2.represent[style](object,style)}state.dump=_result}return!0}return!1}function writeNode(state,level,object,block,compact,iskey,isblockseq){state.tag=null,state.dump=object,detectType(state,object,!1)||detectType(state,object,!0);var tagStr,type2=_toString.call(state.dump),inblock=block;block&&(block=state.flowLevel<0||state.flowLevel>level);var duplicateIndex,duplicate,objectOrArray="[object Object]"===type2||"[object Array]"===type2;if(objectOrArray&&(duplicate=-1!==(duplicateIndex=state.duplicates.indexOf(object))),(null!==state.tag&&"?"!==state.tag||duplicate||2!==state.indent&&level>0)&&(compact=!1),duplicate&&state.usedDuplicates[duplicateIndex])state.dump="*ref_"+duplicateIndex;else{if(objectOrArray&&duplicate&&!state.usedDuplicates[duplicateIndex]&&(state.usedDuplicates[duplicateIndex]=!0),"[object Object]"===type2)block&&0!==Object.keys(state.dump).length?(writeBlockMapping(state,level,state.dump,compact),duplicate&&(state.dump="&ref_"+duplicateIndex+state.dump)):(writeFlowMapping(state,level,state.dump),duplicate&&(state.dump="&ref_"+duplicateIndex+" "+state.dump));else if("[object Array]"===type2)block&&0!==state.dump.length?(state.noArrayIndent&&!isblockseq&&level>0?writeBlockSequence(state,level-1,state.dump,compact):writeBlockSequence(state,level,state.dump,compact),duplicate&&(state.dump="&ref_"+duplicateIndex+state.dump)):(writeFlowSequence(state,level,state.dump),duplicate&&(state.dump="&ref_"+duplicateIndex+" "+state.dump));else{if("[object String]"!==type2){if("[object Undefined]"===type2)return!1;if(state.skipInvalid)return!1;throw new exception("unacceptable kind of an object to dump "+type2)}"?"!==state.tag&&writeScalar(state,state.dump,level,iskey,inblock)}null!==state.tag&&"?"!==state.tag&&(tagStr=encodeURI("!"===state.tag[0]?state.tag.slice(1):state.tag).replace(/!/g,"%21"),tagStr="!"===state.tag[0]?"!"+tagStr:"tag:yaml.org,2002:"===tagStr.slice(0,18)?"!!"+tagStr.slice(18):"!<"+tagStr+">",state.dump=tagStr+" "+state.dump)}return!0}function getDuplicateReferences(object,state){var index,length,objects=[],duplicatesIndexes=[];for(inspectNode(object,objects,duplicatesIndexes),index=0,length=duplicatesIndexes.length;index<length;index+=1)state.duplicates.push(objects[duplicatesIndexes[index]]);state.usedDuplicates=new Array(length)}function inspectNode(object,objects,duplicatesIndexes){var objectKeyList,index,length;if(null!==object&&"object"==typeof object)if(-1!==(index=objects.indexOf(object)))-1===duplicatesIndexes.indexOf(index)&&duplicatesIndexes.push(index);else if(objects.push(object),Array.isArray(object))for(index=0,length=object.length;index<length;index+=1)inspectNode(object[index],objects,duplicatesIndexes);else for(index=0,length=(objectKeyList=Object.keys(object)).length;index<length;index+=1)inspectNode(object[objectKeyList[index]],objects,duplicatesIndexes)}function dump$1(input,options){var state=new State(options=options||{});state.noRefs||getDuplicateReferences(input,state);var value=input;return state.replacer&&(value=state.replacer.call({"":value},"",value)),writeNode(state,0,value,!0,!0)?state.dump+"\n":""}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(chooseScalarStyle,"chooseScalarStyle"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(writeScalar,"writeScalar"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(blockHeader,"blockHeader"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(dropEndingNewline,"dropEndingNewline"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(foldString,"foldString"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(foldLine,"foldLine"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(escapeString,"escapeString"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(writeFlowSequence,"writeFlowSequence"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(writeBlockSequence,"writeBlockSequence"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(writeFlowMapping,"writeFlowMapping"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(writeBlockMapping,"writeBlockMapping"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(detectType,"detectType"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(writeNode,"writeNode"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(getDuplicateReferences,"getDuplicateReferences"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(inspectNode,"inspectNode"),(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(dump$1,"dump$1");function renamed(from,to){return function(){throw new Error("Function yaml."+from+" is removed in js-yaml 4. Use yaml."+to+" instead, which is now safe by default.")}}(0,_chunk_AGHRB4JF_mjs__WEBPACK_IMPORTED_MODULE_0__.K2)(renamed,"renamed");var JSON_SCHEMA=json,load=loader.load;renamed("safeLoad","load"),renamed("safeLoadAll","loadAll"),renamed("safeDump","dump")},"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/mermaid.core.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>mermaid_default});var chunk_57QY23SG=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-57QY23SG.mjs"),chunk_EXTU4WIE=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-EXTU4WIE.mjs"),chunk_ZPAFE4SF=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-ZPAFE4SF.mjs"),chunk_6OXUPJBA=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-6OXUPJBA.mjs"),chunk_JA3XYJ7Z=(__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-3AY6CYHV.mjs"),__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-7GE3RBXV.mjs"),__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-CXMOBAN2.mjs"),__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-CVBHYZKI.mjs"),__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-QYVHNE3D.mjs"),__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-JA3XYJ7Z.mjs")),chunk_S3R3BYOJ=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-S3R3BYOJ.mjs"),chunk_ABZYJK2D=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-ABZYJK2D.mjs"),chunk_AGHRB4JF=__webpack_require__("./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/chunk-AGHRB4JF.mjs"),esm=__webpack_require__("./node_modules/.pnpm/ts-dedent@2.2.0/node_modules/ts-dedent/esm/index.js"),src=__webpack_require__("./node_modules/.pnpm/d3@7.9.0/node_modules/d3/src/index.js"),abs=Math.abs,Utility_from=String.fromCharCode;Object.assign;function trim(value){return value.trim()}function replace(value,pattern,replacement){return value.replace(pattern,replacement)}function indexof(value,search,position){return value.indexOf(search,position)}function charat(value,index){return 0|value.charCodeAt(index)}function substr(value,begin,end){return value.slice(begin,end)}function strlen(value){return value.length}function Utility_append(value,array){return array.push(value),value}function serialize(children,callback){for(var output="",i=0;i<children.length;i++)output+=callback(children[i],i,children,callback)||"";return output}function stringify(element,index,children,callback){switch(element.type){case"@layer":if(element.children.length)break;case"@import":case"@namespace":case"decl":return element.return=element.return||element.value;case"comm":return"";case"@keyframes":return element.return=element.value+"{"+serialize(element.children,callback)+"}";case"rule":if(!strlen(element.value=element.props.join(",")))return""}return strlen(children=serialize(element.children,callback))?element.return=element.value+"{"+children+"}":""}var line=1,column=1,Tokenizer_length=0,position=0,character=0,characters="";function node(value,root,parent,type,props,children,length,siblings){return{value,root,parent,type,props,children,line,column,length,return:"",siblings}}function prev(){return character=position>0?charat(characters,--position):0,column--,10===character&&(column=1,line--),character}function next(){return character=position<Tokenizer_length?charat(characters,position++):0,column++,10===character&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(begin,end){return substr(characters,begin,end)}function token(type){switch(type){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(value){return line=column=1,Tokenizer_length=strlen(characters=value),position=0,[]}function dealloc(value){return characters="",value}function delimit(type){return trim(slice(position-1,delimiter(91===type?type+2:40===type?type+1:type)))}function whitespace(type){for(;(character=peek())&&character<33;)next();return token(type)>2||token(character)>3?"":" "}function escaping(index,count){for(;--count&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(index,caret()+(count<6&&32==peek()&&32==next()))}function delimiter(type){for(;next();)switch(character){case type:return position;case 34:case 39:34!==type&&39!==type&&delimiter(character);break;case 40:41===type&&delimiter(type);break;case 92:next()}return position}function commenter(type,index){for(;next()&&type+character!==57&&(type+character!==84||47!==peek()););return"/*"+slice(index,position-1)+"*"+Utility_from(47===type?type:next())}function identifier(index){for(;!token(peek());)next();return slice(index,position)}function compile(value){return dealloc(parse("",null,null,null,[""],value=alloc(value),0,[0],value))}function parse(value,root,parent,rule,rules,rulesets,pseudo,points,declarations){for(var index=0,offset=0,length=pseudo,atrule=0,property=0,previous=0,variable=1,scanning=1,ampersand=1,character=0,type="",props=rules,children=rulesets,reference=rule,characters=type;scanning;)switch(previous=character,character=next()){case 40:if(108!=previous&&58==charat(characters,length-1)){-1!=indexof(characters+=replace(delimit(character),"&","&\f"),"&\f",abs(index?points[index-1]:0))&&(ampersand=-1);break}case 34:case 39:case 91:characters+=delimit(character);break;case 9:case 10:case 13:case 32:characters+=whitespace(previous);break;case 92:characters+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:Utility_append(comment(commenter(next(),caret()),root,parent,declarations),declarations),5!=token(previous||1)&&5!=token(peek()||1)||!strlen(characters)||" "===substr(characters,-1,void 0)||(characters+=" ");break;default:characters+="/"}break;case 123*variable:points[index++]=strlen(characters)*ampersand;case 125*variable:case 59:case 0:switch(character){case 0:case 125:scanning=0;case 59+offset:-1==ampersand&&(characters=replace(characters,/\f/g,"")),property>0&&(strlen(characters)-length||0===variable&&47===previous)&&Utility_append(property>32?declaration(characters+";",rule,parent,length-1,declarations):declaration(replace(characters," ","")+";",rule,parent,length-2,declarations),declarations);break;case 59:characters+=";";default:if(Utility_append(reference=ruleset(characters,root,parent,index,offset,rules,points,type,props=[],children=[],length,rulesets),rulesets),123===character)if(0===offset)parse(characters,root,reference,reference,props,rulesets,length,points,children);else{switch(atrule){case 99:if(110===charat(characters,3))break;case 108:if(97===charat(characters,2))break;default:offset=0;case 100:case 109:case 115:}offset?parse(value,reference,reference,rule&&Utility_append(ruleset(value,reference,reference,0,0,rules,points,type,rules,props=[],length,children),children),rules,children,length,points,rule?props:children):parse(characters,reference,reference,reference,[""],children,0,points,children)}}index=offset=property=0,variable=ampersand=1,type=characters="",length=pseudo;break;case 58:length=1+strlen(characters),property=previous;default:if(variable<1)if(123==character)--variable;else if(125==character&&0==variable++&&125==prev())continue;switch(characters+=Utility_from(character),character*variable){case 38:ampersand=offset>0?1:(characters+="\f",-1);break;case 44:points[index++]=(strlen(characters)-1)*ampersand,ampersand=1;break;case 64:45===peek()&&(characters+=delimit(next())),atrule=peek(),offset=length=strlen(type=characters+=identifier(caret())),character++;break;case 45:45===previous&&2==strlen(characters)&&(variable=0)}}return rulesets}function ruleset(value,root,parent,index,offset,rules,points,type,props,children,length,siblings){for(var post=offset-1,rule=0===offset?rules:[""],size=function sizeof(value){return value.length}(rule),i=0,j=0,k=0;i<index;++i)for(var x=0,y=substr(value,post+1,post=abs(j=points[i])),z=value;x<size;++x)(z=trim(j>0?rule[x]+" "+y:replace(y,/&\f/g,rule[x])))&&(props[k++]=z);return node(value,root,parent,0===offset?"rule":type,props,children,length,siblings)}function comment(value,root,parent,siblings){return node(value,root,parent,"comm",Utility_from(function Tokenizer_char(){return character}()),substr(value,2,-2),0,siblings)}function declaration(value,root,parent,length,siblings){return node(value,root,parent,"decl",substr(value,0,length),substr(value,length+1,-1),length,siblings)}var purify_es=__webpack_require__("./node_modules/.pnpm/dompurify@3.2.6/node_modules/dompurify/dist/purify.es.mjs"),isEmpty=__webpack_require__("./node_modules/.pnpm/lodash-es@4.17.21/node_modules/lodash-es/isEmpty.js"),c4Detector_default={id:"c4",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(7893).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/c4Diagram-FPNF74CW.mjs"));return{id:"c4",diagram:diagram2}}),"loader")},flowDetector_default={id:"flowchart",detector:(0,chunk_AGHRB4JF.K2)(((txt,config)=>"dagre-wrapper"!==config?.flowchart?.defaultRenderer&&"elk"!==config?.flowchart?.defaultRenderer&&/^\s*graph/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(92033).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/flowDiagram-PVAE7QVJ.mjs"));return{id:"flowchart",diagram:diagram2}}),"loader")},id3="flowchart-v2",flowDetector_v2_default={id:id3,detector:(0,chunk_AGHRB4JF.K2)(((txt,config)=>"dagre-d3"!==config?.flowchart?.defaultRenderer&&("elk"===config?.flowchart?.defaultRenderer&&(config.layout="elk"),!(!/^\s*graph/.test(txt)||"dagre-wrapper"!==config?.flowchart?.defaultRenderer)||/^\s*flowchart/.test(txt))),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(92033).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/flowDiagram-PVAE7QVJ.mjs"));return{id:id3,diagram:diagram2}}),"loader")},erDetector_default={id:"er",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*erDiagram/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(42500).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/erDiagram-AWTI2OKA.mjs"));return{id:"er",diagram:diagram2}}),"loader")},gitGraphDetector_default={id:"gitGraph",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*gitGraph/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await Promise.all([__webpack_require__.e(78040),__webpack_require__.e(45523),__webpack_require__.e(33655),__webpack_require__.e(87451)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/gitGraphDiagram-NY62KEGX.mjs"));return{id:"gitGraph",diagram:diagram2}}),"loader")},ganttDetector_default={id:"gantt",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*gantt/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(41997).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/ganttDiagram-OWAHRB6G.mjs"));return{id:"gantt",diagram:diagram2}}),"loader")},info={id:"info",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*info/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await Promise.all([__webpack_require__.e(78040),__webpack_require__.e(45523),__webpack_require__.e(33655),__webpack_require__.e(95423)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/infoDiagram-STP46IZ2.mjs"));return{id:"info",diagram:diagram2}}),"loader")},pie={id:"pie",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*pie/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await Promise.all([__webpack_require__.e(78040),__webpack_require__.e(45523),__webpack_require__.e(33655),__webpack_require__.e(10576)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/pieDiagram-ADFJNKIX.mjs"));return{id:"pie",diagram:diagram2}}),"loader")},id9="quadrantChart",quadrantDetector_default={id:id9,detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*quadrantChart/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(45275).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/quadrantDiagram-LMRXKWRM.mjs"));return{id:id9,diagram:diagram2}}),"loader")},xychartDetector_default={id:"xychart",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*xychart(-beta)?/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(61311).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/xychartDiagram-6GGTOJPD.mjs"));return{id:"xychart",diagram:diagram2}}),"loader")},requirementDetector_default={id:"requirement",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*requirement(Diagram)?/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(78182).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/requirementDiagram-4UW4RH46.mjs"));return{id:"requirement",diagram:diagram2}}),"loader")},sequenceDetector_default={id:"sequence",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*sequenceDiagram/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(89377).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/sequenceDiagram-C3RYC4MD.mjs"));return{id:"sequence",diagram:diagram2}}),"loader")},classDetector_default={id:"class",detector:(0,chunk_AGHRB4JF.K2)(((txt,config)=>"dagre-wrapper"!==config?.class?.defaultRenderer&&/^\s*classDiagram/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await Promise.all([__webpack_require__.e(4616),__webpack_require__.e(86131)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/classDiagram-KNZD7YFC.mjs"));return{id:"class",diagram:diagram2}}),"loader")},classDetector_V2_default={id:"classDiagram",detector:(0,chunk_AGHRB4JF.K2)(((txt,config)=>!(!/^\s*classDiagram/.test(txt)||"dagre-wrapper"!==config?.class?.defaultRenderer)||/^\s*classDiagram-v2/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await Promise.all([__webpack_require__.e(4616),__webpack_require__.e(42508)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/classDiagram-v2-RKCZMP56.mjs"));return{id:"classDiagram",diagram:diagram2}}),"loader")},stateDetector_default={id:"state",detector:(0,chunk_AGHRB4JF.K2)(((txt,config)=>"dagre-wrapper"!==config?.state?.defaultRenderer&&/^\s*stateDiagram/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await Promise.all([__webpack_require__.e(78040),__webpack_require__.e(45523),__webpack_require__.e(34375),__webpack_require__.e(61500),__webpack_require__.e(42831)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/stateDiagram-KXAO66HF.mjs"));return{id:"state",diagram:diagram2}}),"loader")},stateDetector_V2_default={id:"stateDiagram",detector:(0,chunk_AGHRB4JF.K2)(((txt,config)=>!!/^\s*stateDiagram-v2/.test(txt)||!(!/^\s*stateDiagram/.test(txt)||"dagre-wrapper"!==config?.state?.defaultRenderer)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await Promise.all([__webpack_require__.e(61500),__webpack_require__.e(77927)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/stateDiagram-v2-UMBNRL4Z.mjs"));return{id:"stateDiagram",diagram:diagram2}}),"loader")},journeyDetector_default={id:"journey",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*journey/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(43080).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/journeyDiagram-BIP6EPQ6.mjs"));return{id:"journey",diagram:diagram2}}),"loader")},renderer={draw:(0,chunk_AGHRB4JF.K2)(((_text,id28,version)=>{chunk_AGHRB4JF.Rm.debug("rendering svg for syntax error\n");const svg=(0,chunk_EXTU4WIE.D)(id28),g=svg.append("g");svg.attr("viewBox","0 0 2412 512"),(0,chunk_ABZYJK2D.a$)(svg,100,512,!0),g.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),g.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),g.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),g.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),g.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),g.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),g.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in text"),g.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text(`mermaid version ${version}`)}),"draw")},errorRenderer_default=renderer,errorDiagram_default={db:{},renderer,parser:{parse:(0,chunk_AGHRB4JF.K2)((()=>{}),"parse")}},id18="flowchart-elk",detector_default={id:id18,detector:(0,chunk_AGHRB4JF.K2)(((txt,config={})=>!!(/^\s*flowchart-elk/.test(txt)||/^\s*(flowchart|graph)/.test(txt)&&"elk"===config?.flowchart?.defaultRenderer)&&(config.layout="elk",!0)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(92033).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/flowDiagram-PVAE7QVJ.mjs"));return{id:id18,diagram:diagram2}}),"loader")},detector_default2={id:"timeline",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*timeline/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(51200).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/timeline-definition-XQNQX7LJ.mjs"));return{id:"timeline",diagram:diagram2}}),"loader")},detector_default3={id:"mindmap",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*mindmap/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(59564).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/mindmap-definition-Q6HEUPPD.mjs"));return{id:"mindmap",diagram:diagram2}}),"loader")},detector_default4={id:"kanban",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*kanban/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(68821).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/kanban-definition-6OIFK2YF.mjs"));return{id:"kanban",diagram:diagram2}}),"loader")},sankeyDetector_default={id:"sankey",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*sankey(-beta)?/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await __webpack_require__.e(47757).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/sankeyDiagram-GR3RE2ED.mjs"));return{id:"sankey",diagram:diagram2}}),"loader")},packet={id:"packet",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*packet(-beta)?/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await Promise.all([__webpack_require__.e(78040),__webpack_require__.e(45523),__webpack_require__.e(33655),__webpack_require__.e(82323)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/diagram-S2PKOQOG.mjs"));return{id:"packet",diagram:diagram2}}),"loader")},radar={id:"radar",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*radar-beta/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await Promise.all([__webpack_require__.e(78040),__webpack_require__.e(45523),__webpack_require__.e(33655),__webpack_require__.e(58372)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/diagram-QEK2KX5R.mjs"));return{id:"radar",diagram:diagram2}}),"loader")},blockDetector_default={id:"block",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*block(-beta)?/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await Promise.all([__webpack_require__.e(78040),__webpack_require__.e(45523),__webpack_require__.e(928)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/blockDiagram-QIGZ2CNN.mjs"));return{id:"block",diagram:diagram2}}),"loader")},architectureDetector_default={id:"architecture",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*architecture/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await Promise.all([__webpack_require__.e(78040),__webpack_require__.e(45523),__webpack_require__.e(33655),__webpack_require__.e(64633),__webpack_require__.e(70768)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/architectureDiagram-W76B3OCA.mjs"));return{id:"architecture",diagram:diagram2}}),"loader")},treemap={id:"treemap",detector:(0,chunk_AGHRB4JF.K2)((txt=>/^\s*treemap/.test(txt)),"detector"),loader:(0,chunk_AGHRB4JF.K2)((async()=>{const{diagram:diagram2}=await Promise.all([__webpack_require__.e(78040),__webpack_require__.e(45523),__webpack_require__.e(33655),__webpack_require__.e(13843)]).then(__webpack_require__.bind(__webpack_require__,"./node_modules/.pnpm/mermaid@11.11.0/node_modules/mermaid/dist/chunks/mermaid.core/diagram-N5W7TBWH.mjs"));return{id:"treemap",diagram:diagram2}}),"loader")},hasLoadedDiagrams=!1,addDiagrams=(0,chunk_AGHRB4JF.K2)((()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,(0,chunk_ABZYJK2D.Js)("error",errorDiagram_default,(text=>"error"===text.toLowerCase().trim())),(0,chunk_ABZYJK2D.Js)("---",{db:{clear:(0,chunk_AGHRB4JF.K2)((()=>{}),"clear")},styles:{},renderer:{draw:(0,chunk_AGHRB4JF.K2)((()=>{}),"draw")},parser:{parse:(0,chunk_AGHRB4JF.K2)((()=>{throw new Error("Diagrams beginning with --- are not valid. If you were trying to use a YAML front-matter, please ensure that you've correctly opened and closed the YAML front-matter with un-indented `---` blocks")}),"parse")},init:(0,chunk_AGHRB4JF.K2)((()=>null),"init")},(text=>text.toLowerCase().trimStart().startsWith("---"))),(0,chunk_ABZYJK2D.Xd)(detector_default,detector_default3,architectureDetector_default),(0,chunk_ABZYJK2D.Xd)(c4Detector_default,detector_default4,classDetector_V2_default,classDetector_default,erDetector_default,ganttDetector_default,info,pie,requirementDetector_default,sequenceDetector_default,flowDetector_v2_default,flowDetector_default,detector_default2,gitGraphDetector_default,stateDetector_V2_default,stateDetector_default,journeyDetector_default,quadrantDetector_default,sankeyDetector_default,packet,xychartDetector_default,blockDetector_default,radar,treemap))}),"addDiagrams"),loadRegisteredDiagrams=(0,chunk_AGHRB4JF.K2)((async()=>{chunk_AGHRB4JF.Rm.debug("Loading registered diagrams");const failed=(await Promise.allSettled(Object.entries(chunk_ABZYJK2D.mW).map((async([key,{detector:detector28,loader:loader28}])=>{if(loader28)try{(0,chunk_ABZYJK2D.Gs)(key)}catch{try{const{diagram:diagram2,id:id28}=await loader28();(0,chunk_ABZYJK2D.Js)(id28,diagram2,detector28)}catch(err){throw chunk_AGHRB4JF.Rm.error(`Failed to load external diagram with key ${key}. Removing from detectors.`),delete chunk_ABZYJK2D.mW[key],err}}})))).filter((result=>"rejected"===result.status));if(failed.length>0){chunk_AGHRB4JF.Rm.error(`Failed to load ${failed.length} external diagrams`);for(const res of failed)chunk_AGHRB4JF.Rm.error(res);throw new Error(`Failed to load ${failed.length} external diagrams`)}}),"loadRegisteredDiagrams");function setA11yDiagramInfo(svg,diagramType){svg.attr("role","graphics-document document"),""!==diagramType&&svg.attr("aria-roledescription",diagramType)}function addSVGa11yTitleDescription(svg,a11yTitle,a11yDesc,baseId){if(void 0!==svg.insert){if(a11yDesc){const descId=`chart-desc-${baseId}`;svg.attr("aria-describedby",descId),svg.insert("desc",":first-child").attr("id",descId).text(a11yDesc)}if(a11yTitle){const titleId=`chart-title-${baseId}`;svg.attr("aria-labelledby",titleId),svg.insert("title",":first-child").attr("id",titleId).text(a11yTitle)}}}(0,chunk_AGHRB4JF.K2)(setA11yDiagramInfo,"setA11yDiagramInfo"),(0,chunk_AGHRB4JF.K2)(addSVGa11yTitleDescription,"addSVGa11yTitleDescription");var Diagram=class _Diagram{constructor(type,text,db,parser,renderer2){this.type=type,this.text=text,this.db=db,this.parser=parser,this.renderer=renderer2}static{(0,chunk_AGHRB4JF.K2)(this,"Diagram")}static async fromText(text,metadata={}){const config=(0,chunk_ABZYJK2D.zj)(),type=(0,chunk_ABZYJK2D.Ch)(text,config);text=(0,chunk_S3R3BYOJ.C4)(text)+"\n";try{(0,chunk_ABZYJK2D.Gs)(type)}catch{const loader28=(0,chunk_ABZYJK2D.J$)(type);if(!loader28)throw new chunk_ABZYJK2D.C0(`Diagram ${type} not found.`);const{id:id28,diagram:diagram2}=await loader28();(0,chunk_ABZYJK2D.Js)(id28,diagram2)}const{db,parser,renderer:renderer2,init:init2}=(0,chunk_ABZYJK2D.Gs)(type);return parser.parser&&(parser.parser.yy=db),db.clear?.(),init2?.(config),metadata.title&&db.setDiagramTitle?.(metadata.title),await parser.parse(text),new _Diagram(type,text,db,parser,renderer2)}async render(id28,version){await this.renderer.draw(this.text,id28,version,this)}getParser(){return this.parser}getType(){return this.type}},interactionFunctions=[],attachFunctions=(0,chunk_AGHRB4JF.K2)((()=>{interactionFunctions.forEach((f=>{f()})),interactionFunctions=[]}),"attachFunctions"),cleanupComments=(0,chunk_AGHRB4JF.K2)((text=>text.replace(/^\s*%%(?!{)[^\n]+\n?/gm,"").trimStart()),"cleanupComments");function extractFrontMatter(text){const matches=text.match(chunk_ABZYJK2D.EJ);if(!matches)return{text,metadata:{}};let parsed=(0,chunk_ZPAFE4SF.H)(matches[1],{schema:chunk_ZPAFE4SF.r})??{};parsed="object"!=typeof parsed||Array.isArray(parsed)?{}:parsed;const metadata={};return parsed.displayMode&&(metadata.displayMode=parsed.displayMode.toString()),parsed.title&&(metadata.title=parsed.title.toString()),parsed.config&&(metadata.config=parsed.config),{text:text.slice(matches[0].length),metadata}}(0,chunk_AGHRB4JF.K2)(extractFrontMatter,"extractFrontMatter");var cleanupText=(0,chunk_AGHRB4JF.K2)((code=>code.replace(/\r\n?/g,"\n").replace(/<(\w+)([^>]*)>/g,((match,tag,attributes)=>"<"+tag+attributes.replace(/="([^"]*)"/g,"='$1'")+">"))),"cleanupText"),processFrontmatter=(0,chunk_AGHRB4JF.K2)((code=>{const{text,metadata}=extractFrontMatter(code),{displayMode,title,config={}}=metadata;return displayMode&&(config.gantt||(config.gantt={}),config.gantt.displayMode=displayMode),{title,config,text}}),"processFrontmatter"),processDirectives=(0,chunk_AGHRB4JF.K2)((code=>{const initDirective=chunk_S3R3BYOJ._K.detectInit(code)??{},wrapDirectives=chunk_S3R3BYOJ._K.detectDirective(code,"wrap");return Array.isArray(wrapDirectives)?initDirective.wrap=wrapDirectives.some((({type})=>"wrap"===type)):"wrap"===wrapDirectives?.type&&(initDirective.wrap=!0),{text:(0,chunk_S3R3BYOJ.vU)(code),directive:initDirective}}),"processDirectives");function preprocessDiagram(code){const cleanedCode=cleanupText(code),frontMatterResult=processFrontmatter(cleanedCode),directiveResult=processDirectives(frontMatterResult.text),config=(0,chunk_S3R3BYOJ.$t)(frontMatterResult.config,directiveResult.directive);return{code:code=cleanupComments(directiveResult.text),title:frontMatterResult.title,config}}function toBase64(str){const utf8Bytes=(new TextEncoder).encode(str),utf8Str=Array.from(utf8Bytes,(byte=>String.fromCodePoint(byte))).join("");return btoa(utf8Str)}(0,chunk_AGHRB4JF.K2)(preprocessDiagram,"preprocessDiagram"),(0,chunk_AGHRB4JF.K2)(toBase64,"toBase64");var DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function processAndSetConfigs(text){const processed=preprocessDiagram(text);return(0,chunk_ABZYJK2D.cL)(),(0,chunk_ABZYJK2D.xA)(processed.config??{}),processed}async function mermaid_core_parse(text,parseOptions){addDiagrams();try{const{code,config}=processAndSetConfigs(text);return{diagramType:(await getDiagramFromText(code)).type,config}}catch(error){if(parseOptions?.suppressErrors)return!1;throw error}}(0,chunk_AGHRB4JF.K2)(processAndSetConfigs,"processAndSetConfigs"),(0,chunk_AGHRB4JF.K2)(mermaid_core_parse,"parse");var cssImportantStyles=(0,chunk_AGHRB4JF.K2)(((cssClass,element,cssClasses=[])=>`\n.${cssClass} ${element} { ${cssClasses.join(" !important; ")} !important; }`),"cssImportantStyles"),createCssStyles=(0,chunk_AGHRB4JF.K2)(((config,classDefs=new Map)=>{let cssStyles="";if(void 0!==config.themeCSS&&(cssStyles+=`\n${config.themeCSS}`),void 0!==config.fontFamily&&(cssStyles+=`\n:root { --mermaid-font-family: ${config.fontFamily}}`),void 0!==config.altFontFamily&&(cssStyles+=`\n:root { --mermaid-alt-font-family: ${config.altFontFamily}}`),classDefs instanceof Map){const cssElements=config.htmlLabels??config.flowchart?.htmlLabels?["> *","span"]:["rect","polygon","ellipse","circle","path"];classDefs.forEach((styleClassDef=>{(0,isEmpty.A)(styleClassDef.styles)||cssElements.forEach((cssElement=>{cssStyles+=cssImportantStyles(styleClassDef.id,cssElement,styleClassDef.styles)})),(0,isEmpty.A)(styleClassDef.textStyles)||(cssStyles+=cssImportantStyles(styleClassDef.id,"tspan",(styleClassDef?.textStyles||[]).map((s=>s.replace("color","fill")))))}))}return cssStyles}),"createCssStyles"),createUserStyles=(0,chunk_AGHRB4JF.K2)(((config,graphType,classDefs,svgId)=>{const userCSSstyles=createCssStyles(config,classDefs);return serialize(compile(`${svgId}{${(0,chunk_ABZYJK2D.tM)(graphType,userCSSstyles,config.themeVariables)}}`),stringify)}),"createUserStyles"),cleanUpSvgCode=(0,chunk_AGHRB4JF.K2)(((svgCode="",inSandboxMode,useArrowMarkerUrls)=>{let cleanedUpSvg=svgCode;return useArrowMarkerUrls||inSandboxMode||(cleanedUpSvg=cleanedUpSvg.replace(/marker-end="url\([\d+./:=?A-Za-z-]*?#/g,'marker-end="url(#')),cleanedUpSvg=(0,chunk_S3R3BYOJ.Sm)(cleanedUpSvg),cleanedUpSvg=cleanedUpSvg.replace(/<br>/g,"<br/>"),cleanedUpSvg}),"cleanUpSvgCode"),putIntoIFrame=(0,chunk_AGHRB4JF.K2)(((svgCode="",svgElement)=>`<iframe style="width:100%;height:${svgElement?.viewBox?.baseVal?.height?svgElement.viewBox.baseVal.height+"px":"100%"};border:0;margin:0;" src="data:text/html;charset=UTF-8;base64,${toBase64(`<body style="margin:0">${svgCode}</body>`)}" sandbox="allow-top-navigation-by-user-activation allow-popups">\n  The "iframe" tag is not supported by your browser.\n</iframe>`),"putIntoIFrame"),appendDivSvgG=(0,chunk_AGHRB4JF.K2)(((parentRoot,id28,enclosingDivId,divStyle,svgXlink)=>{const enclosingDiv=parentRoot.append("div");enclosingDiv.attr("id",enclosingDivId),divStyle&&enclosingDiv.attr("style",divStyle);const svgNode=enclosingDiv.append("svg").attr("id",id28).attr("width","100%").attr("xmlns","http://www.w3.org/2000/svg");return svgXlink&&svgNode.attr("xmlns:xlink",svgXlink),svgNode.append("g"),parentRoot}),"appendDivSvgG");function sandboxedIframe(parentNode,iFrameId){return parentNode.append("iframe").attr("id",iFrameId).attr("style","width: 100%; height: 100%;").attr("sandbox","")}(0,chunk_AGHRB4JF.K2)(sandboxedIframe,"sandboxedIframe");var removeExistingElements=(0,chunk_AGHRB4JF.K2)(((doc,id28,divId,iFrameId)=>{doc.getElementById(id28)?.remove(),doc.getElementById(divId)?.remove(),doc.getElementById(iFrameId)?.remove()}),"removeExistingElements"),render=(0,chunk_AGHRB4JF.K2)((async function(id28,text,svgContainingElement){addDiagrams();const processed=processAndSetConfigs(text);text=processed.code;const config=(0,chunk_ABZYJK2D.zj)();chunk_AGHRB4JF.Rm.debug(config),text.length>(config?.maxTextSize??5e4)&&(text="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa");const idSelector="#"+id28,iFrameID="i"+id28,iFrameID_selector="#"+iFrameID,enclosingDivID="d"+id28,enclosingDivID_selector="#"+enclosingDivID,removeTempElements=(0,chunk_AGHRB4JF.K2)((()=>{const tmpElementSelector=isSandboxed?iFrameID_selector:enclosingDivID_selector,node=(0,src.Ltv)(tmpElementSelector).node();node&&"remove"in node&&node.remove()}),"removeTempElements");let root=(0,src.Ltv)("body");const isSandboxed="sandbox"===config.securityLevel,isLooseSecurityLevel="loose"===config.securityLevel,fontFamily=config.fontFamily;if(void 0!==svgContainingElement){if(svgContainingElement&&(svgContainingElement.innerHTML=""),isSandboxed){const iframe=sandboxedIframe((0,src.Ltv)(svgContainingElement),iFrameID);root=(0,src.Ltv)(iframe.nodes()[0].contentDocument.body),root.node().style.margin=0}else root=(0,src.Ltv)(svgContainingElement);appendDivSvgG(root,id28,enclosingDivID,`font-family: ${fontFamily}`,"http://www.w3.org/1999/xlink")}else{if(removeExistingElements(document,id28,enclosingDivID,iFrameID),isSandboxed){const iframe=sandboxedIframe((0,src.Ltv)("body"),iFrameID);root=(0,src.Ltv)(iframe.nodes()[0].contentDocument.body),root.node().style.margin=0}else root=(0,src.Ltv)("body");appendDivSvgG(root,id28,enclosingDivID)}let diag,parseEncounteredException;try{diag=await Diagram.fromText(text,{title:processed.title})}catch(error){if(config.suppressErrorRendering)throw removeTempElements(),error;diag=await Diagram.fromText("error"),parseEncounteredException=error}const element=root.select(enclosingDivID_selector).node(),diagramType=diag.type,svg=element.firstChild,firstChild=svg.firstChild,diagramClassDefs=diag.renderer.getClasses?.(text,diag),rules=createUserStyles(config,diagramType,diagramClassDefs,idSelector),style1=document.createElement("style");style1.innerHTML=rules,svg.insertBefore(style1,firstChild);try{await diag.renderer.draw(text,id28,chunk_57QY23SG.n.version,diag)}catch(e){throw config.suppressErrorRendering?removeTempElements():errorRenderer_default.draw(text,id28,chunk_57QY23SG.n.version),e}const svgNode=root.select(`${enclosingDivID_selector} svg`),a11yTitle=diag.db.getAccTitle?.(),a11yDescr=diag.db.getAccDescription?.();addA11yInfo(diagramType,svgNode,a11yTitle,a11yDescr),root.select(`[id="${id28}"]`).selectAll("foreignobject > *").attr("xmlns","http://www.w3.org/1999/xhtml");let svgCode=root.select(enclosingDivID_selector).node().innerHTML;if(chunk_AGHRB4JF.Rm.debug("config.arrowMarkerAbsolute",config.arrowMarkerAbsolute),svgCode=cleanUpSvgCode(svgCode,isSandboxed,(0,chunk_ABZYJK2D._3)(config.arrowMarkerAbsolute)),isSandboxed){const svgEl=root.select(enclosingDivID_selector+" svg").node();svgCode=putIntoIFrame(svgCode,svgEl)}else isLooseSecurityLevel||(svgCode=purify_es.A.sanitize(svgCode,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR,HTML_INTEGRATION_POINTS:{foreignobject:!0}}));if(attachFunctions(),parseEncounteredException)throw parseEncounteredException;return removeTempElements(),{diagramType,svg:svgCode,bindFunctions:diag.db.bindFunctions}}),"render");function initialize(userOptions={}){const options=(0,chunk_ABZYJK2D.hH)({},userOptions);options?.fontFamily&&!options.themeVariables?.fontFamily&&(options.themeVariables||(options.themeVariables={}),options.themeVariables.fontFamily=options.fontFamily),(0,chunk_ABZYJK2D.wZ)(options),options?.theme&&options.theme in chunk_ABZYJK2D.H$?options.themeVariables=chunk_ABZYJK2D.H$[options.theme].getThemeVariables(options.themeVariables):options&&(options.themeVariables=chunk_ABZYJK2D.H$.default.getThemeVariables(options.themeVariables));const config="object"==typeof options?(0,chunk_ABZYJK2D.UU)(options):(0,chunk_ABZYJK2D.Q2)();(0,chunk_AGHRB4JF.He)(config.logLevel),addDiagrams()}(0,chunk_AGHRB4JF.K2)(initialize,"initialize");var getDiagramFromText=(0,chunk_AGHRB4JF.K2)(((text,metadata={})=>{const{code}=preprocessDiagram(text);return Diagram.fromText(code,metadata)}),"getDiagramFromText");function addA11yInfo(diagramType,svgNode,a11yTitle,a11yDescr){setA11yDiagramInfo(svgNode,diagramType),addSVGa11yTitleDescription(svgNode,a11yTitle,a11yDescr,svgNode.attr("id"))}(0,chunk_AGHRB4JF.K2)(addA11yInfo,"addA11yInfo");var mermaidAPI=Object.freeze({render,parse:mermaid_core_parse,getDiagramFromText,initialize,getConfig:chunk_ABZYJK2D.zj,setConfig:chunk_ABZYJK2D.Nk,getSiteConfig:chunk_ABZYJK2D.Q2,updateSiteConfig:chunk_ABZYJK2D.B6,reset:(0,chunk_AGHRB4JF.K2)((()=>{(0,chunk_ABZYJK2D.cL)()}),"reset"),globalReset:(0,chunk_AGHRB4JF.K2)((()=>{(0,chunk_ABZYJK2D.cL)(chunk_ABZYJK2D.sb)}),"globalReset"),defaultConfig:chunk_ABZYJK2D.sb});(0,chunk_AGHRB4JF.He)((0,chunk_ABZYJK2D.zj)().logLevel),(0,chunk_ABZYJK2D.cL)((0,chunk_ABZYJK2D.zj)());var handleError=(0,chunk_AGHRB4JF.K2)(((error,errors,parseError)=>{chunk_AGHRB4JF.Rm.warn(error),(0,chunk_S3R3BYOJ.dq)(error)?(parseError&&parseError(error.str,error.hash),errors.push({...error,message:error.str,error})):(parseError&&parseError(error),error instanceof Error&&errors.push({str:error.message,message:error.message,hash:error.name,error}))}),"handleError"),run=(0,chunk_AGHRB4JF.K2)((async function(options={querySelector:".mermaid"}){try{await runThrowsErrors(options)}catch(e){if((0,chunk_S3R3BYOJ.dq)(e)&&chunk_AGHRB4JF.Rm.error(e.str),mermaid.parseError&&mermaid.parseError(e),!options.suppressErrors)throw chunk_AGHRB4JF.Rm.error("Use the suppressErrors option to suppress these errors"),e}}),"run"),runThrowsErrors=(0,chunk_AGHRB4JF.K2)((async function({postRenderCallback,querySelector,nodes}={querySelector:".mermaid"}){const conf=mermaidAPI.getConfig();let nodesToProcess;if(chunk_AGHRB4JF.Rm.debug((postRenderCallback?"":"No ")+"Callback function found"),nodes)nodesToProcess=nodes;else{if(!querySelector)throw new Error("Nodes and querySelector are both undefined");nodesToProcess=document.querySelectorAll(querySelector)}chunk_AGHRB4JF.Rm.debug(`Found ${nodesToProcess.length} diagrams`),void 0!==conf?.startOnLoad&&(chunk_AGHRB4JF.Rm.debug("Start On Load: "+conf?.startOnLoad),mermaidAPI.updateSiteConfig({startOnLoad:conf?.startOnLoad}));const idGenerator=new chunk_S3R3BYOJ._K.InitIDGenerator(conf.deterministicIds,conf.deterministicIDSeed);let txt;const errors=[];for(const element of Array.from(nodesToProcess)){if(chunk_AGHRB4JF.Rm.info("Rendering diagram: "+element.id),element.getAttribute("data-processed"))continue;element.setAttribute("data-processed","true");const id28=`mermaid-${idGenerator.next()}`;txt=element.innerHTML,txt=(0,esm.T)(chunk_S3R3BYOJ._K.entityDecode(txt)).trim().replace(/<br\s*\/?>/gi,"<br/>");const init2=chunk_S3R3BYOJ._K.detectInit(txt);init2&&chunk_AGHRB4JF.Rm.debug("Detected early reinit: ",init2);try{const{svg,bindFunctions}=await render2(id28,txt,element);element.innerHTML=svg,postRenderCallback&&await postRenderCallback(id28),bindFunctions&&bindFunctions(element)}catch(error){handleError(error,errors,mermaid.parseError)}}if(errors.length>0)throw errors[0]}),"runThrowsErrors"),initialize2=(0,chunk_AGHRB4JF.K2)((function(config){mermaidAPI.initialize(config)}),"initialize"),init=(0,chunk_AGHRB4JF.K2)((async function(config,nodes,callback){chunk_AGHRB4JF.Rm.warn("mermaid.init is deprecated. Please use run instead."),config&&initialize2(config);const runOptions={postRenderCallback:callback,querySelector:".mermaid"};"string"==typeof nodes?runOptions.querySelector=nodes:nodes&&(nodes instanceof HTMLElement?runOptions.nodes=[nodes]:runOptions.nodes=nodes),await run(runOptions)}),"init"),registerExternalDiagrams=(0,chunk_AGHRB4JF.K2)((async(diagrams,{lazyLoad=!0}={})=>{addDiagrams(),(0,chunk_ABZYJK2D.Xd)(...diagrams),!1===lazyLoad&&await loadRegisteredDiagrams()}),"registerExternalDiagrams"),contentLoaded=(0,chunk_AGHRB4JF.K2)((function(){if(mermaid.startOnLoad){const{startOnLoad}=mermaidAPI.getConfig();startOnLoad&&mermaid.run().catch((err=>chunk_AGHRB4JF.Rm.error("Mermaid failed to initialize",err)))}}),"contentLoaded");"undefined"!=typeof document&&window.addEventListener("load",contentLoaded,!1);var setParseErrorHandler=(0,chunk_AGHRB4JF.K2)((function(parseErrorHandler){mermaid.parseError=parseErrorHandler}),"setParseErrorHandler"),executionQueue=[],executionQueueRunning=!1,executeQueue=(0,chunk_AGHRB4JF.K2)((async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const f=executionQueue.shift();if(f)try{await f()}catch(e){chunk_AGHRB4JF.Rm.error("Error executing queue",e)}}executionQueueRunning=!1}}),"executeQueue"),parse2=(0,chunk_AGHRB4JF.K2)((async(text,parseOptions)=>new Promise(((resolve,reject)=>{const performCall=(0,chunk_AGHRB4JF.K2)((()=>new Promise(((res,rej)=>{mermaidAPI.parse(text,parseOptions).then((r=>{res(r),resolve(r)}),(e=>{chunk_AGHRB4JF.Rm.error("Error parsing",e),mermaid.parseError?.(e),rej(e),reject(e)}))}))),"performCall");executionQueue.push(performCall),executeQueue().catch(reject)}))),"parse"),render2=(0,chunk_AGHRB4JF.K2)(((id28,text,container)=>new Promise(((resolve,reject)=>{const performCall=(0,chunk_AGHRB4JF.K2)((()=>new Promise(((res,rej)=>{mermaidAPI.render(id28,text,container).then((r=>{res(r),resolve(r)}),(e=>{chunk_AGHRB4JF.Rm.error("Error parsing",e),mermaid.parseError?.(e),rej(e),reject(e)}))}))),"performCall");executionQueue.push(performCall),executeQueue().catch(reject)}))),"render"),getRegisteredDiagramsMetadata=(0,chunk_AGHRB4JF.K2)((()=>Object.keys(chunk_ABZYJK2D.mW).map((id28=>({id:id28})))),"getRegisteredDiagramsMetadata"),mermaid={startOnLoad:!0,mermaidAPI,parse:parse2,render:render2,init,run,registerExternalDiagrams,registerLayoutLoaders:chunk_6OXUPJBA.sO,initialize:initialize2,parseError:void 0,contentLoaded,setParseErrorHandler,detectType:chunk_ABZYJK2D.Ch,registerIconPacks:chunk_JA3XYJ7Z.pC,getRegisteredDiagramsMetadata},mermaid_default=mermaid},"./node_modules/.pnpm/roughjs@4.6.6/node_modules/roughjs/bundled/rough.esm.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function t(t,e,s){if(t&&t.length){const[n,o]=e,a=Math.PI/180*s,h=Math.cos(a),r=Math.sin(a);for(const e of t){const[t,s]=e;e[0]=(t-n)*h-(s-o)*r+n,e[1]=(t-n)*r+(s-o)*h+o}}}function e(t,e){return t[0]===e[0]&&t[1]===e[1]}function s(s,n,o,a=1){const h=o,r=Math.max(n,.1),i=s[0]&&s[0][0]&&"number"==typeof s[0][0]?[s]:s,c=[0,0];if(h)for(const e of i)t(e,c,h);const l=function(t,s,n){const o=[];for(const s of t){const t=[...s];e(t[0],t[t.length-1])||t.push([t[0][0],t[0][1]]),t.length>2&&o.push(t)}const a=[];s=Math.max(s,.1);const h=[];for(const t of o)for(let e=0;e<t.length-1;e++){const s=t[e],n=t[e+1];if(s[1]!==n[1]){const t=Math.min(s[1],n[1]);h.push({ymin:t,ymax:Math.max(s[1],n[1]),x:t===s[1]?s[0]:n[0],islope:(n[0]-s[0])/(n[1]-s[1])})}}if(h.sort(((t,e)=>t.ymin<e.ymin?-1:t.ymin>e.ymin?1:t.x<e.x?-1:t.x>e.x?1:t.ymax===e.ymax?0:(t.ymax-e.ymax)/Math.abs(t.ymax-e.ymax))),!h.length)return a;let r=[],i=h[0].ymin,c=0;for(;r.length||h.length;){if(h.length){let t=-1;for(let e=0;e<h.length&&!(h[e].ymin>i);e++)t=e;h.splice(0,t+1).forEach((t=>{r.push({s:i,edge:t})}))}if(r=r.filter((t=>!(t.edge.ymax<=i))),r.sort(((t,e)=>t.edge.x===e.edge.x?0:(t.edge.x-e.edge.x)/Math.abs(t.edge.x-e.edge.x))),(1!==n||c%s==0)&&r.length>1)for(let t=0;t<r.length;t+=2){const e=t+1;if(e>=r.length)break;const s=r[t].edge,n=r[e].edge;a.push([[Math.round(s.x),i],[Math.round(n.x),i]])}i+=n,r.forEach((t=>{t.edge.x=t.edge.x+n*t.edge.islope})),c++}return a}(i,r,a);if(h){for(const e of i)t(e,c,-h);!function(e,s,n){const o=[];e.forEach((t=>o.push(...t))),t(o,s,n)}(l,c,-h)}return l}function n(t,e){var n;const o=e.hachureAngle+90;let a=e.hachureGap;a<0&&(a=4*e.strokeWidth),a=Math.round(Math.max(a,.1));let h=1;return e.roughness>=1&&((null===(n=e.randomizer)||void 0===n?void 0:n.next())||Math.random())>.7&&(h=a),s(t,a,o,h||1)}__webpack_require__.d(__webpack_exports__,{A:()=>at});class o{constructor(t){this.helper=t}fillPolygons(t,e){return this._fillPolygons(t,e)}_fillPolygons(t,e){const s=n(t,e);return{type:"fillSketch",ops:this.renderLines(s,e)}}renderLines(t,e){const s=[];for(const n of t)s.push(...this.helper.doubleLineOps(n[0][0],n[0][1],n[1][0],n[1][1],e));return s}}function a(t){const e=t[0],s=t[1];return Math.sqrt(Math.pow(e[0]-s[0],2)+Math.pow(e[1]-s[1],2))}class h extends o{fillPolygons(t,e){let s=e.hachureGap;s<0&&(s=4*e.strokeWidth),s=Math.max(s,.1);const o=n(t,Object.assign({},e,{hachureGap:s})),h=Math.PI/180*e.hachureAngle,r=[],i=.5*s*Math.cos(h),c=.5*s*Math.sin(h);for(const[t,e]of o)a([t,e])&&r.push([[t[0]-i,t[1]+c],[...e]],[[t[0]+i,t[1]-c],[...e]]);return{type:"fillSketch",ops:this.renderLines(r,e)}}}class r extends o{fillPolygons(t,e){const s=this._fillPolygons(t,e),n=Object.assign({},e,{hachureAngle:e.hachureAngle+90}),o=this._fillPolygons(t,n);return s.ops=s.ops.concat(o.ops),s}}class i{constructor(t){this.helper=t}fillPolygons(t,e){const s=n(t,e=Object.assign({},e,{hachureAngle:0}));return this.dotsOnLines(s,e)}dotsOnLines(t,e){const s=[];let n=e.hachureGap;n<0&&(n=4*e.strokeWidth),n=Math.max(n,.1);let o=e.fillWeight;o<0&&(o=e.strokeWidth/2);const h=n/4;for(const r of t){const t=a(r),i=t/n,c=Math.ceil(i)-1,l=t-c*n,u=(r[0][0]+r[1][0])/2-n/4,p=Math.min(r[0][1],r[1][1]);for(let t=0;t<c;t++){const a=p+l+t*n,r=u-h+2*Math.random()*h,i=a-h+2*Math.random()*h,c=this.helper.ellipse(r,i,o,o,e);s.push(...c.ops)}}return{type:"fillSketch",ops:s}}}class c{constructor(t){this.helper=t}fillPolygons(t,e){const s=n(t,e);return{type:"fillSketch",ops:this.dashedLine(s,e)}}dashedLine(t,e){const s=e.dashOffset<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashOffset,n=e.dashGap<0?e.hachureGap<0?4*e.strokeWidth:e.hachureGap:e.dashGap,o=[];return t.forEach((t=>{const h=a(t),r=Math.floor(h/(s+n)),i=(h+n-r*(s+n))/2;let c=t[0],l=t[1];c[0]>l[0]&&(c=t[1],l=t[0]);const u=Math.atan((l[1]-c[1])/(l[0]-c[0]));for(let t=0;t<r;t++){const a=t*(s+n),h=a+s,r=[c[0]+a*Math.cos(u)+i*Math.cos(u),c[1]+a*Math.sin(u)+i*Math.sin(u)],l=[c[0]+h*Math.cos(u)+i*Math.cos(u),c[1]+h*Math.sin(u)+i*Math.sin(u)];o.push(...this.helper.doubleLineOps(r[0],r[1],l[0],l[1],e))}})),o}}class l{constructor(t){this.helper=t}fillPolygons(t,e){const s=e.hachureGap<0?4*e.strokeWidth:e.hachureGap,o=e.zigzagOffset<0?s:e.zigzagOffset,a=n(t,e=Object.assign({},e,{hachureGap:s+o}));return{type:"fillSketch",ops:this.zigzagLines(a,o,e)}}zigzagLines(t,e,s){const n=[];return t.forEach((t=>{const o=a(t),h=Math.round(o/(2*e));let r=t[0],i=t[1];r[0]>i[0]&&(r=t[1],i=t[0]);const c=Math.atan((i[1]-r[1])/(i[0]-r[0]));for(let t=0;t<h;t++){const o=2*t*e,a=2*(t+1)*e,h=Math.sqrt(2*Math.pow(e,2)),i=[r[0]+o*Math.cos(c),r[1]+o*Math.sin(c)],l=[r[0]+a*Math.cos(c),r[1]+a*Math.sin(c)],u=[i[0]+h*Math.cos(c+Math.PI/4),i[1]+h*Math.sin(c+Math.PI/4)];n.push(...this.helper.doubleLineOps(i[0],i[1],u[0],u[1],s),...this.helper.doubleLineOps(u[0],u[1],l[0],l[1],s))}})),n}}const u={};class p{constructor(t){this.seed=t}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const M={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function k(t,e){return t.type===e}function b(t){const e=[],s=function(t){const e=new Array;for(;""!==t;)if(t.match(/^([ \t\r\n,]+)/))t=t.substr(RegExp.$1.length);else if(t.match(/^([aAcChHlLmMqQsStTvVzZ])/))e[e.length]={type:0,text:RegExp.$1},t=t.substr(RegExp.$1.length);else{if(!t.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];e[e.length]={type:1,text:`${parseFloat(RegExp.$1)}`},t=t.substr(RegExp.$1.length)}return e[e.length]={type:2,text:""},e}(t);let n="BOD",o=0,a=s[o];for(;!k(a,2);){let h=0;const r=[];if("BOD"===n){if("M"!==a.text&&"m"!==a.text)return b("M0,0"+t);o++,h=M[a.text],n=a.text}else k(a,1)?h=M[n]:(o++,h=M[a.text],n=a.text);if(!(o+h<s.length))throw new Error("Path data ended short");for(let t=o;t<o+h;t++){const e=s[t];if(!k(e,1))throw new Error("Param not a number: "+n+","+e.text);r[r.length]=+e.text}if("number"!=typeof M[n])throw new Error("Bad segment: "+n);{const t={key:n,data:r};e.push(t),o+=h,a=s[o],"M"===n&&(n="L"),"m"===n&&(n="l")}}return e}function y(t){let e=0,s=0,n=0,o=0;const a=[];for(const{key:h,data:r}of t)switch(h){case"M":a.push({key:"M",data:[...r]}),[e,s]=r,[n,o]=r;break;case"m":e+=r[0],s+=r[1],a.push({key:"M",data:[e,s]}),n=e,o=s;break;case"L":a.push({key:"L",data:[...r]}),[e,s]=r;break;case"l":e+=r[0],s+=r[1],a.push({key:"L",data:[e,s]});break;case"C":a.push({key:"C",data:[...r]}),e=r[4],s=r[5];break;case"c":{const t=r.map(((t,n)=>n%2?t+s:t+e));a.push({key:"C",data:t}),e=t[4],s=t[5];break}case"Q":a.push({key:"Q",data:[...r]}),e=r[2],s=r[3];break;case"q":{const t=r.map(((t,n)=>n%2?t+s:t+e));a.push({key:"Q",data:t}),e=t[2],s=t[3];break}case"A":a.push({key:"A",data:[...r]}),e=r[5],s=r[6];break;case"a":e+=r[5],s+=r[6],a.push({key:"A",data:[r[0],r[1],r[2],r[3],r[4],e,s]});break;case"H":a.push({key:"H",data:[...r]}),e=r[0];break;case"h":e+=r[0],a.push({key:"H",data:[e]});break;case"V":a.push({key:"V",data:[...r]}),s=r[0];break;case"v":s+=r[0],a.push({key:"V",data:[s]});break;case"S":a.push({key:"S",data:[...r]}),e=r[2],s=r[3];break;case"s":{const t=r.map(((t,n)=>n%2?t+s:t+e));a.push({key:"S",data:t}),e=t[2],s=t[3];break}case"T":a.push({key:"T",data:[...r]}),e=r[0],s=r[1];break;case"t":e+=r[0],s+=r[1],a.push({key:"T",data:[e,s]});break;case"Z":case"z":a.push({key:"Z",data:[]}),e=n,s=o}return a}function m(t){const e=[];let s="",n=0,o=0,a=0,h=0,r=0,i=0;for(const{key:c,data:l}of t){switch(c){case"M":e.push({key:"M",data:[...l]}),[n,o]=l,[a,h]=l;break;case"C":e.push({key:"C",data:[...l]}),n=l[4],o=l[5],r=l[2],i=l[3];break;case"L":e.push({key:"L",data:[...l]}),[n,o]=l;break;case"H":n=l[0],e.push({key:"L",data:[n,o]});break;case"V":o=l[0],e.push({key:"L",data:[n,o]});break;case"S":{let t=0,a=0;"C"===s||"S"===s?(t=n+(n-r),a=o+(o-i)):(t=n,a=o),e.push({key:"C",data:[t,a,...l]}),r=l[0],i=l[1],n=l[2],o=l[3];break}case"T":{const[t,a]=l;let h=0,c=0;"Q"===s||"T"===s?(h=n+(n-r),c=o+(o-i)):(h=n,c=o);const u=n+2*(h-n)/3,p=o+2*(c-o)/3,f=t+2*(h-t)/3,d=a+2*(c-a)/3;e.push({key:"C",data:[u,p,f,d,t,a]}),r=h,i=c,n=t,o=a;break}case"Q":{const[t,s,a,h]=l,c=n+2*(t-n)/3,u=o+2*(s-o)/3,p=a+2*(t-a)/3,f=h+2*(s-h)/3;e.push({key:"C",data:[c,u,p,f,a,h]}),r=t,i=s,n=a,o=h;break}case"A":{const t=Math.abs(l[0]),s=Math.abs(l[1]),a=l[2],h=l[3],r=l[4],i=l[5],c=l[6];0===t||0===s?(e.push({key:"C",data:[n,o,i,c,i,c]}),n=i,o=c):n===i&&o===c||(x(n,o,i,c,t,s,a,h,r).forEach((function(t){e.push({key:"C",data:t})})),n=i,o=c);break}case"Z":e.push({key:"Z",data:[]}),n=a,o=h}s=c}return e}function w(t,e,s){return[t*Math.cos(s)-e*Math.sin(s),t*Math.sin(s)+e*Math.cos(s)]}function x(t,e,s,n,o,a,h,r,i,c){const l=(u=h,Math.PI*u/180);var u;let p=[],f=0,d=0,g=0,M=0;if(c)[f,d,g,M]=c;else{[t,e]=w(t,e,-l),[s,n]=w(s,n,-l);const h=(t-s)/2,c=(e-n)/2;let u=h*h/(o*o)+c*c/(a*a);u>1&&(u=Math.sqrt(u),o*=u,a*=u);const p=o*o,k=a*a,b=p*k-p*c*c-k*h*h,y=p*c*c+k*h*h,m=(r===i?-1:1)*Math.sqrt(Math.abs(b/y));g=m*o*c/a+(t+s)/2,M=m*-a*h/o+(e+n)/2,f=Math.asin(parseFloat(((e-M)/a).toFixed(9))),d=Math.asin(parseFloat(((n-M)/a).toFixed(9))),t<g&&(f=Math.PI-f),s<g&&(d=Math.PI-d),f<0&&(f=2*Math.PI+f),d<0&&(d=2*Math.PI+d),i&&f>d&&(f-=2*Math.PI),!i&&d>f&&(d-=2*Math.PI)}let k=d-f;if(Math.abs(k)>120*Math.PI/180){const t=d,e=s,r=n;d=i&&d>f?f+120*Math.PI/180*1:f+120*Math.PI/180*-1,p=x(s=g+o*Math.cos(d),n=M+a*Math.sin(d),e,r,o,a,h,0,i,[d,t,g,M])}k=d-f;const b=Math.cos(f),y=Math.sin(f),m=Math.cos(d),P=Math.sin(d),v=Math.tan(k/4),S=4/3*o*v,O=4/3*a*v,L=[t,e],T=[t+S*y,e-O*b],D=[s+S*P,n-O*m],A=[s,n];if(T[0]=2*L[0]-T[0],T[1]=2*L[1]-T[1],c)return[T,D,A].concat(p);{p=[T,D,A].concat(p);const t=[];for(let e=0;e<p.length;e+=3){const s=w(p[e][0],p[e][1],l),n=w(p[e+1][0],p[e+1][1],l),o=w(p[e+2][0],p[e+2][1],l);t.push([s[0],s[1],n[0],n[1],o[0],o[1]])}return t}}const P={randOffset:function(t,e){return G(t,e)},randOffsetWithRange:function(t,e,s){return E(t,e,s)},ellipse:function(t,e,s,n,o){return D(t,e,o,T(s,n,o)).opset},doubleLineOps:function(t,e,s,n,o){return $(t,e,s,n,o,!0)}};function v(t,e,s,n,o){return{type:"path",ops:$(t,e,s,n,o)}}function S(t,e,s){const n=(t||[]).length;if(n>2){const o=[];for(let e=0;e<n-1;e++)o.push(...$(t[e][0],t[e][1],t[e+1][0],t[e+1][1],s));return e&&o.push(...$(t[n-1][0],t[n-1][1],t[0][0],t[0][1],s)),{type:"path",ops:o}}return 2===n?v(t[0][0],t[0][1],t[1][0],t[1][1],s):{type:"path",ops:[]}}function L(t,e){if(t.length){const s="number"==typeof t[0][0]?[t]:t,n=j(s[0],1*(1+.2*e.roughness),e),o=e.disableMultiStroke?[]:j(s[0],1.5*(1+.22*e.roughness),z(e));for(let t=1;t<s.length;t++){const a=s[t];if(a.length){const t=j(a,1*(1+.2*e.roughness),e),s=e.disableMultiStroke?[]:j(a,1.5*(1+.22*e.roughness),z(e));for(const e of t)"move"!==e.op&&n.push(e);for(const t of s)"move"!==t.op&&o.push(t)}}return{type:"path",ops:n.concat(o)}}return{type:"path",ops:[]}}function T(t,e,s){const n=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(t/2,2)+Math.pow(e/2,2))/2)),o=Math.ceil(Math.max(s.curveStepCount,s.curveStepCount/Math.sqrt(200)*n)),a=2*Math.PI/o;let h=Math.abs(t/2),r=Math.abs(e/2);const i=1-s.curveFitting;return h+=G(h*i,s),r+=G(r*i,s),{increment:a,rx:h,ry:r}}function D(t,e,s,n){const[o,a]=F(n.increment,t,e,n.rx,n.ry,1,n.increment*E(.1,E(.4,1,s),s),s);let h=q(o,null,s);if(!s.disableMultiStroke&&0!==s.roughness){const[o]=F(n.increment,t,e,n.rx,n.ry,1.5,0,s),a=q(o,null,s);h=h.concat(a)}return{estimatedPoints:a,opset:{type:"path",ops:h}}}function A(t,e,s,n,o,a,h,r,i){const c=t,l=e;let u=Math.abs(s/2),p=Math.abs(n/2);u+=G(.01*u,i),p+=G(.01*p,i);let f=o,d=a;for(;f<0;)f+=2*Math.PI,d+=2*Math.PI;d-f>2*Math.PI&&(f=0,d=2*Math.PI);const g=2*Math.PI/i.curveStepCount,M=Math.min(g/2,(d-f)/2),k=V(M,c,l,u,p,f,d,1,i);if(!i.disableMultiStroke){const t=V(M,c,l,u,p,f,d,1.5,i);k.push(...t)}return h&&(r?k.push(...$(c,l,c+u*Math.cos(f),l+p*Math.sin(f),i),...$(c,l,c+u*Math.cos(d),l+p*Math.sin(d),i)):k.push({op:"lineTo",data:[c,l]},{op:"lineTo",data:[c+u*Math.cos(f),l+p*Math.sin(f)]})),{type:"path",ops:k}}function _(t,e){const s=m(y(b(t))),n=[];let o=[0,0],a=[0,0];for(const{key:t,data:h}of s)switch(t){case"M":a=[h[0],h[1]],o=[h[0],h[1]];break;case"L":n.push(...$(a[0],a[1],h[0],h[1],e)),a=[h[0],h[1]];break;case"C":{const[t,s,o,r,i,c]=h;n.push(...Z(t,s,o,r,i,c,a,e)),a=[i,c];break}case"Z":n.push(...$(a[0],a[1],o[0],o[1],e)),a=[o[0],o[1]]}return{type:"path",ops:n}}function I(t,e){const s=[];for(const n of t)if(n.length){const t=e.maxRandomnessOffset||0,o=n.length;if(o>2){s.push({op:"move",data:[n[0][0]+G(t,e),n[0][1]+G(t,e)]});for(let a=1;a<o;a++)s.push({op:"lineTo",data:[n[a][0]+G(t,e),n[a][1]+G(t,e)]})}}return{type:"fillPath",ops:s}}function C(t,e){return function(t,e){let s=t.fillStyle||"hachure";if(!u[s])switch(s){case"zigzag":u[s]||(u[s]=new h(e));break;case"cross-hatch":u[s]||(u[s]=new r(e));break;case"dots":u[s]||(u[s]=new i(e));break;case"dashed":u[s]||(u[s]=new c(e));break;case"zigzag-line":u[s]||(u[s]=new l(e));break;default:s="hachure",u[s]||(u[s]=new o(e))}return u[s]}(e,P).fillPolygons(t,e)}function z(t){const e=Object.assign({},t);return e.randomizer=void 0,t.seed&&(e.seed=t.seed+1),e}function W(t){return t.randomizer||(t.randomizer=new p(t.seed||0)),t.randomizer.next()}function E(t,e,s,n=1){return s.roughness*n*(W(s)*(e-t)+t)}function G(t,e,s=1){return E(-t,t,e,s)}function $(t,e,s,n,o,a=!1){const h=a?o.disableMultiStrokeFill:o.disableMultiStroke,r=R(t,e,s,n,o,!0,!1);if(h)return r;const i=R(t,e,s,n,o,!0,!0);return r.concat(i)}function R(t,e,s,n,o,a,h){const r=Math.pow(t-s,2)+Math.pow(e-n,2),i=Math.sqrt(r);let c=1;c=i<200?1:i>500?.4:-.0016668*i+1.233334;let l=o.maxRandomnessOffset||0;l*l*100>r&&(l=i/10);const u=l/2,p=.2+.2*W(o);let f=o.bowing*o.maxRandomnessOffset*(n-e)/200,d=o.bowing*o.maxRandomnessOffset*(t-s)/200;f=G(f,o,c),d=G(d,o,c);const g=[],M=()=>G(u,o,c),k=()=>G(l,o,c),b=o.preserveVertices;return a&&(h?g.push({op:"move",data:[t+(b?0:M()),e+(b?0:M())]}):g.push({op:"move",data:[t+(b?0:G(l,o,c)),e+(b?0:G(l,o,c))]})),h?g.push({op:"bcurveTo",data:[f+t+(s-t)*p+M(),d+e+(n-e)*p+M(),f+t+2*(s-t)*p+M(),d+e+2*(n-e)*p+M(),s+(b?0:M()),n+(b?0:M())]}):g.push({op:"bcurveTo",data:[f+t+(s-t)*p+k(),d+e+(n-e)*p+k(),f+t+2*(s-t)*p+k(),d+e+2*(n-e)*p+k(),s+(b?0:k()),n+(b?0:k())]}),g}function j(t,e,s){if(!t.length)return[];const n=[];n.push([t[0][0]+G(e,s),t[0][1]+G(e,s)]),n.push([t[0][0]+G(e,s),t[0][1]+G(e,s)]);for(let o=1;o<t.length;o++)n.push([t[o][0]+G(e,s),t[o][1]+G(e,s)]),o===t.length-1&&n.push([t[o][0]+G(e,s),t[o][1]+G(e,s)]);return q(n,null,s)}function q(t,e,s){const n=t.length,o=[];if(n>3){const a=[],h=1-s.curveTightness;o.push({op:"move",data:[t[1][0],t[1][1]]});for(let e=1;e+2<n;e++){const s=t[e];a[0]=[s[0],s[1]],a[1]=[s[0]+(h*t[e+1][0]-h*t[e-1][0])/6,s[1]+(h*t[e+1][1]-h*t[e-1][1])/6],a[2]=[t[e+1][0]+(h*t[e][0]-h*t[e+2][0])/6,t[e+1][1]+(h*t[e][1]-h*t[e+2][1])/6],a[3]=[t[e+1][0],t[e+1][1]],o.push({op:"bcurveTo",data:[a[1][0],a[1][1],a[2][0],a[2][1],a[3][0],a[3][1]]})}if(e&&2===e.length){const t=s.maxRandomnessOffset;o.push({op:"lineTo",data:[e[0]+G(t,s),e[1]+G(t,s)]})}}else 3===n?(o.push({op:"move",data:[t[1][0],t[1][1]]}),o.push({op:"bcurveTo",data:[t[1][0],t[1][1],t[2][0],t[2][1],t[2][0],t[2][1]]})):2===n&&o.push(...R(t[0][0],t[0][1],t[1][0],t[1][1],s,!0,!0));return o}function F(t,e,s,n,o,a,h,r){const i=[],c=[];if(0===r.roughness){t/=4,c.push([e+n*Math.cos(-t),s+o*Math.sin(-t)]);for(let a=0;a<=2*Math.PI;a+=t){const t=[e+n*Math.cos(a),s+o*Math.sin(a)];i.push(t),c.push(t)}c.push([e+n*Math.cos(0),s+o*Math.sin(0)]),c.push([e+n*Math.cos(t),s+o*Math.sin(t)])}else{const l=G(.5,r)-Math.PI/2;c.push([G(a,r)+e+.9*n*Math.cos(l-t),G(a,r)+s+.9*o*Math.sin(l-t)]);const u=2*Math.PI+l-.01;for(let h=l;h<u;h+=t){const t=[G(a,r)+e+n*Math.cos(h),G(a,r)+s+o*Math.sin(h)];i.push(t),c.push(t)}c.push([G(a,r)+e+n*Math.cos(l+2*Math.PI+.5*h),G(a,r)+s+o*Math.sin(l+2*Math.PI+.5*h)]),c.push([G(a,r)+e+.98*n*Math.cos(l+h),G(a,r)+s+.98*o*Math.sin(l+h)]),c.push([G(a,r)+e+.9*n*Math.cos(l+.5*h),G(a,r)+s+.9*o*Math.sin(l+.5*h)])}return[c,i]}function V(t,e,s,n,o,a,h,r,i){const c=a+G(.1,i),l=[];l.push([G(r,i)+e+.9*n*Math.cos(c-t),G(r,i)+s+.9*o*Math.sin(c-t)]);for(let a=c;a<=h;a+=t)l.push([G(r,i)+e+n*Math.cos(a),G(r,i)+s+o*Math.sin(a)]);return l.push([e+n*Math.cos(h),s+o*Math.sin(h)]),l.push([e+n*Math.cos(h),s+o*Math.sin(h)]),q(l,null,i)}function Z(t,e,s,n,o,a,h,r){const i=[],c=[r.maxRandomnessOffset||1,(r.maxRandomnessOffset||1)+.3];let l=[0,0];const u=r.disableMultiStroke?1:2,p=r.preserveVertices;for(let f=0;f<u;f++)0===f?i.push({op:"move",data:[h[0],h[1]]}):i.push({op:"move",data:[h[0]+(p?0:G(c[0],r)),h[1]+(p?0:G(c[0],r))]}),l=p?[o,a]:[o+G(c[f],r),a+G(c[f],r)],i.push({op:"bcurveTo",data:[t+G(c[f],r),e+G(c[f],r),s+G(c[f],r),n+G(c[f],r),l[0],l[1]]});return i}function Q(t){return[...t]}function H(t,e=0){const s=t.length;if(s<3)throw new Error("A curve must have at least three points.");const n=[];if(3===s)n.push(Q(t[0]),Q(t[1]),Q(t[2]),Q(t[2]));else{const s=[];s.push(t[0],t[0]);for(let e=1;e<t.length;e++)s.push(t[e]),e===t.length-1&&s.push(t[e]);const o=[],a=1-e;n.push(Q(s[0]));for(let t=1;t+2<s.length;t++){const e=s[t];o[0]=[e[0],e[1]],o[1]=[e[0]+(a*s[t+1][0]-a*s[t-1][0])/6,e[1]+(a*s[t+1][1]-a*s[t-1][1])/6],o[2]=[s[t+1][0]+(a*s[t][0]-a*s[t+2][0])/6,s[t+1][1]+(a*s[t][1]-a*s[t+2][1])/6],o[3]=[s[t+1][0],s[t+1][1]],n.push(o[1],o[2],o[3])}}return n}function N(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)}function B(t,e,s){const n=N(e,s);if(0===n)return N(t,e);let o=((t[0]-e[0])*(s[0]-e[0])+(t[1]-e[1])*(s[1]-e[1]))/n;return o=Math.max(0,Math.min(1,o)),N(t,J(e,s,o))}function J(t,e,s){return[t[0]+(e[0]-t[0])*s,t[1]+(e[1]-t[1])*s]}function K(t,e,s,n){const o=n||[];if(function(t,e){const s=t[e+0],n=t[e+1],o=t[e+2],a=t[e+3];let h=3*n[0]-2*s[0]-a[0];h*=h;let r=3*n[1]-2*s[1]-a[1];r*=r;let i=3*o[0]-2*a[0]-s[0];i*=i;let c=3*o[1]-2*a[1]-s[1];return c*=c,h<i&&(h=i),r<c&&(r=c),h+r}(t,e)<s){const s=t[e+0];o.length?(a=o[o.length-1],h=s,Math.sqrt(N(a,h))>1&&o.push(s)):o.push(s),o.push(t[e+3])}else{const n=.5,a=t[e+0],h=t[e+1],r=t[e+2],i=t[e+3],c=J(a,h,n),l=J(h,r,n),u=J(r,i,n),p=J(c,l,n),f=J(l,u,n),d=J(p,f,n);K([a,c,p,d],0,s,o),K([d,f,u,i],0,s,o)}var a,h;return o}function U(t,e){return X(t,0,t.length,e)}function X(t,e,s,n,o){const a=o||[],h=t[e],r=t[s-1];let i=0,c=1;for(let n=e+1;n<s-1;++n){const e=B(t[n],h,r);e>i&&(i=e,c=n)}return Math.sqrt(i)>n?(X(t,e,c+1,n,a),X(t,c,s,n,a)):(a.length||a.push(h),a.push(r)),a}function Y(t,e=.15,s){const n=[],o=(t.length-1)/3;for(let s=0;s<o;s++)K(t,3*s,e,n);return s&&s>0?X(n,0,n.length,s):n}const tt="none";class et{constructor(t){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1,fillShapeRoughnessGain:.8},this.config=t||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*2**31)}_o(t){return t?Object.assign({},this.defaultOptions,t):this.defaultOptions}_d(t,e,s){return{shape:t,sets:e||[],options:s||this.defaultOptions}}line(t,e,s,n,o){const a=this._o(o);return this._d("line",[v(t,e,s,n,a)],a)}rectangle(t,e,s,n,o){const a=this._o(o),h=[],r=function O(t,e,s,n,o){return function(t,e){return S(t,!0,e)}([[t,e],[t+s,e],[t+s,e+n],[t,e+n]],o)}(t,e,s,n,a);if(a.fill){const o=[[t,e],[t+s,e],[t+s,e+n],[t,e+n]];"solid"===a.fillStyle?h.push(I([o],a)):h.push(C([o],a))}return a.stroke!==tt&&h.push(r),this._d("rectangle",h,a)}ellipse(t,e,s,n,o){const a=this._o(o),h=[],r=T(s,n,a),i=D(t,e,a,r);if(a.fill)if("solid"===a.fillStyle){const s=D(t,e,a,r).opset;s.type="fillPath",h.push(s)}else h.push(C([i.estimatedPoints],a));return a.stroke!==tt&&h.push(i.opset),this._d("ellipse",h,a)}circle(t,e,s,n){const o=this.ellipse(t,e,s,s,n);return o.shape="circle",o}linearPath(t,e){const s=this._o(e);return this._d("linearPath",[S(t,!1,s)],s)}arc(t,e,s,n,o,a,h=!1,r){const i=this._o(r),c=[],l=A(t,e,s,n,o,a,h,!0,i);if(h&&i.fill)if("solid"===i.fillStyle){const h=Object.assign({},i);h.disableMultiStroke=!0;const r=A(t,e,s,n,o,a,!0,!1,h);r.type="fillPath",c.push(r)}else c.push(function(t,e,s,n,o,a,h){const r=t,i=e;let c=Math.abs(s/2),l=Math.abs(n/2);c+=G(.01*c,h),l+=G(.01*l,h);let u=o,p=a;for(;u<0;)u+=2*Math.PI,p+=2*Math.PI;p-u>2*Math.PI&&(u=0,p=2*Math.PI);const f=(p-u)/h.curveStepCount,d=[];for(let t=u;t<=p;t+=f)d.push([r+c*Math.cos(t),i+l*Math.sin(t)]);return d.push([r+c*Math.cos(p),i+l*Math.sin(p)]),d.push([r,i]),C([d],h)}(t,e,s,n,o,a,i));return i.stroke!==tt&&c.push(l),this._d("arc",c,i)}curve(t,e){const s=this._o(e),n=[],o=L(t,s);if(s.fill&&s.fill!==tt)if("solid"===s.fillStyle){const e=L(t,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(e.ops)})}else{const e=[],o=t;if(o.length){const t="number"==typeof o[0][0]?[o]:o;for(const n of t)n.length<3?e.push(...n):3===n.length?e.push(...Y(H([n[0],n[0],n[1],n[2]]),10,(1+s.roughness)/2)):e.push(...Y(H(n),10,(1+s.roughness)/2))}e.length&&n.push(C([e],s))}return s.stroke!==tt&&n.push(o),this._d("curve",n,s)}polygon(t,e){const s=this._o(e),n=[],o=S(t,!0,s);return s.fill&&("solid"===s.fillStyle?n.push(I([t],s)):n.push(C([t],s))),s.stroke!==tt&&n.push(o),this._d("polygon",n,s)}path(t,e){const s=this._o(e),n=[];if(!t)return this._d("path",n,s);t=(t||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const o=s.fill&&"transparent"!==s.fill&&s.fill!==tt,a=s.stroke!==tt,h=!!(s.simplification&&s.simplification<1),r=function(t,e,s){const n=m(y(b(t))),o=[];let a=[],h=[0,0],r=[];const i=()=>{r.length>=4&&a.push(...Y(r,1)),r=[]},c=()=>{i(),a.length&&(o.push(a),a=[])};for(const{key:t,data:e}of n)switch(t){case"M":c(),h=[e[0],e[1]],a.push(h);break;case"L":i(),a.push([e[0],e[1]]);break;case"C":if(!r.length){const t=a.length?a[a.length-1]:h;r.push([t[0],t[1]])}r.push([e[0],e[1]]),r.push([e[2],e[3]]),r.push([e[4],e[5]]);break;case"Z":i(),a.push([h[0],h[1]])}if(c(),!s)return o;const l=[];for(const t of o){const e=U(t,s);e.length&&l.push(e)}return l}(t,0,h?4-4*(s.simplification||1):(1+s.roughness)/2),i=_(t,s);if(o)if("solid"===s.fillStyle)if(1===r.length){const e=_(t,Object.assign(Object.assign({},s),{disableMultiStroke:!0,roughness:s.roughness?s.roughness+s.fillShapeRoughnessGain:0}));n.push({type:"fillPath",ops:this._mergedShape(e.ops)})}else n.push(I(r,s));else n.push(C(r,s));return a&&(h?r.forEach((t=>{n.push(S(t,!1,s))})):n.push(i)),this._d("path",n,s)}opsToPath(t,e){let s="";for(const n of t.ops){const t="number"==typeof e&&e>=0?n.data.map((t=>+t.toFixed(e))):n.data;switch(n.op){case"move":s+=`M${t[0]} ${t[1]} `;break;case"bcurveTo":s+=`C${t[0]} ${t[1]}, ${t[2]} ${t[3]}, ${t[4]} ${t[5]} `;break;case"lineTo":s+=`L${t[0]} ${t[1]} `}}return s.trim()}toPaths(t){const e=t.sets||[],s=t.options||this.defaultOptions,n=[];for(const t of e){let e=null;switch(t.type){case"path":e={d:this.opsToPath(t),stroke:s.stroke,strokeWidth:s.strokeWidth,fill:tt};break;case"fillPath":e={d:this.opsToPath(t),stroke:tt,strokeWidth:0,fill:s.fill||tt};break;case"fillSketch":e=this.fillSketch(t,s)}e&&n.push(e)}return n}fillSketch(t,e){let s=e.fillWeight;return s<0&&(s=e.strokeWidth/2),{d:this.opsToPath(t),stroke:e.fill||tt,strokeWidth:s,fill:tt}}_mergedShape(t){return t.filter(((t,e)=>0===e||"move"!==t.op))}}class st{constructor(t,e){this.canvas=t,this.ctx=this.canvas.getContext("2d"),this.gen=new et(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),n=this.ctx,o=t.options.fixedDecimalPlaceDigits;for(const a of e)switch(a.type){case"path":n.save(),n.strokeStyle="none"===s.stroke?"transparent":s.stroke,n.lineWidth=s.strokeWidth,s.strokeLineDash&&n.setLineDash(s.strokeLineDash),s.strokeLineDashOffset&&(n.lineDashOffset=s.strokeLineDashOffset),this._drawToContext(n,a,o),n.restore();break;case"fillPath":{n.save(),n.fillStyle=s.fill||"";const e="curve"===t.shape||"polygon"===t.shape||"path"===t.shape?"evenodd":"nonzero";this._drawToContext(n,a,o,e),n.restore();break}case"fillSketch":this.fillSketch(n,a,s)}}fillSketch(t,e,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2),t.save(),s.fillLineDash&&t.setLineDash(s.fillLineDash),s.fillLineDashOffset&&(t.lineDashOffset=s.fillLineDashOffset),t.strokeStyle=s.fill||"",t.lineWidth=n,this._drawToContext(t,e,s.fixedDecimalPlaceDigits),t.restore()}_drawToContext(t,e,s,n="nonzero"){t.beginPath();for(const n of e.ops){const e="number"==typeof s&&s>=0?n.data.map((t=>+t.toFixed(s))):n.data;switch(n.op){case"move":t.moveTo(e[0],e[1]);break;case"bcurveTo":t.bezierCurveTo(e[0],e[1],e[2],e[3],e[4],e[5]);break;case"lineTo":t.lineTo(e[0],e[1])}}"fillPath"===e.type?t.fill(n):t.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(t,e,s,n,o){const a=this.gen.line(t,e,s,n,o);return this.draw(a),a}rectangle(t,e,s,n,o){const a=this.gen.rectangle(t,e,s,n,o);return this.draw(a),a}ellipse(t,e,s,n,o){const a=this.gen.ellipse(t,e,s,n,o);return this.draw(a),a}circle(t,e,s,n){const o=this.gen.circle(t,e,s,n);return this.draw(o),o}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s),s}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s),s}arc(t,e,s,n,o,a,h=!1,r){const i=this.gen.arc(t,e,s,n,o,a,h,r);return this.draw(i),i}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s),s}path(t,e){const s=this.gen.path(t,e);return this.draw(s),s}}const nt="http://www.w3.org/2000/svg";class ot{constructor(t,e){this.svg=t,this.gen=new et(e)}draw(t){const e=t.sets||[],s=t.options||this.getDefaultOptions(),n=this.svg.ownerDocument||window.document,o=n.createElementNS(nt,"g"),a=t.options.fixedDecimalPlaceDigits;for(const h of e){let e=null;switch(h.type){case"path":e=n.createElementNS(nt,"path"),e.setAttribute("d",this.opsToPath(h,a)),e.setAttribute("stroke",s.stroke),e.setAttribute("stroke-width",s.strokeWidth+""),e.setAttribute("fill","none"),s.strokeLineDash&&e.setAttribute("stroke-dasharray",s.strokeLineDash.join(" ").trim()),s.strokeLineDashOffset&&e.setAttribute("stroke-dashoffset",`${s.strokeLineDashOffset}`);break;case"fillPath":e=n.createElementNS(nt,"path"),e.setAttribute("d",this.opsToPath(h,a)),e.setAttribute("stroke","none"),e.setAttribute("stroke-width","0"),e.setAttribute("fill",s.fill||""),"curve"!==t.shape&&"polygon"!==t.shape||e.setAttribute("fill-rule","evenodd");break;case"fillSketch":e=this.fillSketch(n,h,s)}e&&o.appendChild(e)}return o}fillSketch(t,e,s){let n=s.fillWeight;n<0&&(n=s.strokeWidth/2);const o=t.createElementNS(nt,"path");return o.setAttribute("d",this.opsToPath(e,s.fixedDecimalPlaceDigits)),o.setAttribute("stroke",s.fill||""),o.setAttribute("stroke-width",n+""),o.setAttribute("fill","none"),s.fillLineDash&&o.setAttribute("stroke-dasharray",s.fillLineDash.join(" ").trim()),s.fillLineDashOffset&&o.setAttribute("stroke-dashoffset",`${s.fillLineDashOffset}`),o}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(t,e){return this.gen.opsToPath(t,e)}line(t,e,s,n,o){const a=this.gen.line(t,e,s,n,o);return this.draw(a)}rectangle(t,e,s,n,o){const a=this.gen.rectangle(t,e,s,n,o);return this.draw(a)}ellipse(t,e,s,n,o){const a=this.gen.ellipse(t,e,s,n,o);return this.draw(a)}circle(t,e,s,n){const o=this.gen.circle(t,e,s,n);return this.draw(o)}linearPath(t,e){const s=this.gen.linearPath(t,e);return this.draw(s)}polygon(t,e){const s=this.gen.polygon(t,e);return this.draw(s)}arc(t,e,s,n,o,a,h=!1,r){const i=this.gen.arc(t,e,s,n,o,a,h,r);return this.draw(i)}curve(t,e){const s=this.gen.curve(t,e);return this.draw(s)}path(t,e){const s=this.gen.path(t,e);return this.draw(s)}}var at={canvas:(t,e)=>new st(t,e),svg:(t,e)=>new ot(t,e),generator:t=>new et(t),newSeed:()=>et.newSeed()}}}]);