/*! For license information please see 97707.a8f77b90.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkcortex_react_components=self.webpackChunkcortex_react_components||[]).push([[97707],{"./node_modules/.pnpm/@ai-sdk+react@2.0.56_react@19.0.0_zod@4.0.17/node_modules/@ai-sdk/react/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Y_:()=>useChat});var _a,react=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),symbol=Symbol.for("vercel.ai.error"),_AISDKError=class _AISDKError extends Error{constructor({name:name14,message,cause}){super(message),this[_a]=!0,this.name=name14,this.cause=cause}static isInstance(error){return _AISDKError.hasMarker(error,"vercel.ai.error")}static hasMarker(error,marker15){const markerSymbol=Symbol.for(marker15);return null!=error&&"object"==typeof error&&markerSymbol in error&&"boolean"==typeof error[markerSymbol]&&!0===error[markerSymbol]}};_a=symbol;var AISDKError=_AISDKError,marker2="vercel.ai.error.AI_APICallError",symbol2=Symbol.for(marker2);var name2="AI_EmptyResponseBodyError",marker3=`vercel.ai.error.${name2}`,symbol3=Symbol.for(marker3);function getErrorMessage(error){return null==error?"unknown error":"string"==typeof error?error:error instanceof Error?error.message:JSON.stringify(error)}var _a4,name3="AI_InvalidArgumentError",marker4=`vercel.ai.error.${name3}`,symbol4=Symbol.for(marker4),InvalidArgumentError=class extends AISDKError{constructor({message,cause,argument}){super({name:name3,message,cause}),this[_a4]=!0,this.argument=argument}static isInstance(error){return AISDKError.hasMarker(error,marker4)}};_a4=symbol4;var name4="AI_InvalidPromptError",marker5=`vercel.ai.error.${name4}`,symbol5=Symbol.for(marker5);var name5="AI_InvalidResponseDataError",marker6=`vercel.ai.error.${name5}`,symbol6=Symbol.for(marker6);var _a7,name6="AI_JSONParseError",marker7=`vercel.ai.error.${name6}`,symbol7=Symbol.for(marker7),dist_JSONParseError=class extends AISDKError{constructor({text,cause}){super({name:name6,message:`JSON parsing failed: Text: ${text}.\nError message: ${getErrorMessage(cause)}`,cause}),this[_a7]=!0,this.text=text}static isInstance(error){return AISDKError.hasMarker(error,marker7)}};_a7=symbol7;var name7="AI_LoadAPIKeyError",marker8=`vercel.ai.error.${name7}`,symbol8=Symbol.for(marker8);var name8="AI_LoadSettingError",marker9=`vercel.ai.error.${name8}`,symbol9=Symbol.for(marker9);var name9="AI_NoContentGeneratedError",marker10=`vercel.ai.error.${name9}`,symbol10=Symbol.for(marker10);var name10="AI_NoSuchModelError",marker11=`vercel.ai.error.${name10}`,symbol11=Symbol.for(marker11);var name11="AI_TooManyEmbeddingValuesForCallError",marker12=`vercel.ai.error.${name11}`,symbol12=Symbol.for(marker12);var _a13,name12="AI_TypeValidationError",marker13=`vercel.ai.error.${name12}`,symbol13=Symbol.for(marker13);_a13=symbol13;var TypeValidationError=class _TypeValidationError extends AISDKError{constructor({value,cause}){super({name:name12,message:`Type validation failed: Value: ${JSON.stringify(value)}.\nError message: ${getErrorMessage(cause)}`,cause}),this[_a13]=!0,this.value=value}static isInstance(error){return AISDKError.hasMarker(error,marker13)}static wrap({value,cause}){return _TypeValidationError.isInstance(cause)&&cause.value===value?cause:new _TypeValidationError({value,cause})}},name13="AI_UnsupportedFunctionalityError",marker14=`vercel.ai.error.${name13}`,symbol14=Symbol.for(marker14);class ParseError extends Error{constructor(message,options){super(message),this.name="ParseError",this.type=options.type,this.field=options.field,this.value=options.value,this.line=options.line}}function noop(_arg){}function createParser(callbacks){if("function"==typeof callbacks)throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent=noop,onError=noop,onRetry=noop,onComment}=callbacks;let id,incompleteLine="",isFirstChunk=!0,data="",eventType="";function parseLine(line){if(""===line)return void function dispatchEvent(){data.length>0&&onEvent({id,event:eventType||void 0,data:data.endsWith("\n")?data.slice(0,-1):data}),id=void 0,data="",eventType=""}();if(line.startsWith(":"))return void(onComment&&onComment(line.slice(line.startsWith(": ")?2:1)));const fieldSeparatorIndex=line.indexOf(":");if(-1===fieldSeparatorIndex)processField(line,"",line);else{const field=line.slice(0,fieldSeparatorIndex),offset=" "===line[fieldSeparatorIndex+1]?2:1;processField(field,line.slice(fieldSeparatorIndex+offset),line)}}function processField(field,value,line){switch(field){case"event":eventType=value;break;case"data":data=`${data}${value}\n`;break;case"id":id=value.includes("\0")?void 0:value;break;case"retry":/^\d+$/.test(value)?onRetry(parseInt(value,10)):onError(new ParseError(`Invalid \`retry\` value: "${value}"`,{type:"invalid-retry",value,line}));break;default:onError(new ParseError(`Unknown field "${field.length>20?`${field.slice(0,20)}â€¦`:field}"`,{type:"unknown-field",field,value,line}))}}return{feed:function feed(newChunk){const chunk=isFirstChunk?newChunk.replace(/^\xEF\xBB\xBF/,""):newChunk,[complete,incomplete]=function splitLines(chunk){const lines=[];let incompleteLine="",searchIndex=0;for(;searchIndex<chunk.length;){const crIndex=chunk.indexOf("\r",searchIndex),lfIndex=chunk.indexOf("\n",searchIndex);let lineEnd=-1;if(-1!==crIndex&&-1!==lfIndex?lineEnd=Math.min(crIndex,lfIndex):-1!==crIndex?lineEnd=crIndex===chunk.length-1?-1:crIndex:-1!==lfIndex&&(lineEnd=lfIndex),-1===lineEnd){incompleteLine=chunk.slice(searchIndex);break}{const line=chunk.slice(searchIndex,lineEnd);lines.push(line),searchIndex=lineEnd+1,"\r"===chunk[searchIndex-1]&&"\n"===chunk[searchIndex]&&searchIndex++}}return[lines,incompleteLine]}(`${incompleteLine}${chunk}`);for(const line of complete)parseLine(line);incompleteLine=incomplete,isFirstChunk=!1},reset:function reset(options={}){incompleteLine&&options.consume&&parseLine(incompleteLine),isFirstChunk=!0,id=void 0,data="",eventType="",incompleteLine=""}}}class stream_EventSourceParserStream extends TransformStream{constructor({onError,onRetry,onComment}={}){let parser;super({start(controller){parser=createParser({onEvent:event=>{controller.enqueue(event)},onError(error){"terminate"===onError?controller.error(error):"function"==typeof onError&&onError(error)},onRetry,onComment})},transform(chunk){parser.feed(chunk)}})}}Symbol("ZodOutput"),Symbol("ZodInput");class $ZodRegistry{constructor(){this._map=new Map,this._idmap=new Map}add(schema,..._meta){const meta=_meta[0];if(this._map.set(schema,meta),meta&&"object"==typeof meta&&"id"in meta){if(this._idmap.has(meta.id))throw new Error(`ID ${meta.id} already exists in the registry`);this._idmap.set(meta.id,schema)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(schema){const meta=this._map.get(schema);return meta&&"object"==typeof meta&&"id"in meta&&this._idmap.delete(meta.id),this._map.delete(schema),this}get(schema){const p=schema._zod.parent;if(p){const pm={...this.get(p)??{}};delete pm.id;const f={...pm,...this._map.get(schema)};return Object.keys(f).length?f:void 0}return this._map.get(schema)}has(schema){return this._map.has(schema)}}function registry(){return new $ZodRegistry}const globalRegistry=registry();function getEnumValues(entries){const numericValues=Object.values(entries).filter((v=>"number"==typeof v));return Object.entries(entries).filter((([k,_])=>-1===numericValues.indexOf(+k))).map((([_,v])=>v))}function jsonStringifyReplacer(_,value){return"bigint"==typeof value?value.toString():value}function cached(getter){return{get value(){{const value=getter();return Object.defineProperty(this,"value",{value}),value}}}}function nullish(input){return null==input}function cleanRegex(source){const start=source.startsWith("^")?1:0,end=source.endsWith("$")?source.length-1:source.length;return source.slice(start,end)}const EVALUATING=Symbol("evaluating");function defineLazy(object,key,getter){let value;Object.defineProperty(object,key,{get(){if(value!==EVALUATING)return void 0===value&&(value=EVALUATING,value=getter()),value},set(v){Object.defineProperty(object,key,{value:v})},configurable:!0})}function objectClone(obj){return Object.create(Object.getPrototypeOf(obj),Object.getOwnPropertyDescriptors(obj))}function assignProp(target,prop,value){Object.defineProperty(target,prop,{value,writable:!0,enumerable:!0,configurable:!0})}function mergeDefs(...defs){const mergedDescriptors={};for(const def of defs){const descriptors=Object.getOwnPropertyDescriptors(def);Object.assign(mergedDescriptors,descriptors)}return Object.defineProperties({},mergedDescriptors)}function esc(str){return JSON.stringify(str)}const captureStackTrace="captureStackTrace"in Error?Error.captureStackTrace:(..._args)=>{};function util_isObject(data){return"object"==typeof data&&null!==data&&!Array.isArray(data)}const util_allowsEval=cached((()=>{if("undefined"!=typeof navigator&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{return new Function(""),!0}catch(_){return!1}}));function isPlainObject(o){if(!1===util_isObject(o))return!1;const ctor=o.constructor;if(void 0===ctor)return!0;const prot=ctor.prototype;return!1!==util_isObject(prot)&&!1!==Object.prototype.hasOwnProperty.call(prot,"isPrototypeOf")}function shallowClone(o){return isPlainObject(o)?{...o}:o}const propertyKeyTypes=new Set(["string","number","symbol"]);new Set(["string","number","bigint","boolean","symbol","undefined"]);function escapeRegex(str){return str.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function clone(inst,def,params){const cl=new inst._zod.constr(def??inst._zod.def);return def&&!params?.parent||(cl._zod.parent=inst),cl}function normalizeParams(_params){const params=_params;if(!params)return{};if("string"==typeof params)return{error:()=>params};if(void 0!==params?.message){if(void 0!==params?.error)throw new Error("Cannot specify both `message` and `error` params");params.error=params.message}return delete params.message,"string"==typeof params.error?{...params,error:()=>params.error}:params}const NUMBER_FORMAT_RANGES={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function aborted(x,startIndex=0){for(let i=startIndex;i<x.issues.length;i++)if(!0!==x.issues[i]?.continue)return!0;return!1}function prefixIssues(path,issues){return issues.map((iss=>{var _a;return(_a=iss).path??(_a.path=[]),iss.path.unshift(path),iss}))}function unwrapMessage(message){return"string"==typeof message?message:message?.message}function finalizeIssue(iss,ctx,config){const full={...iss,path:iss.path??[]};if(!iss.message){const message=unwrapMessage(iss.inst?._zod.def?.error?.(iss))??unwrapMessage(ctx?.error?.(iss))??unwrapMessage(config.customError?.(iss))??unwrapMessage(config.localeError?.(iss))??"Invalid input";full.message=message}return delete full.inst,delete full.continue,ctx?.reportInput||delete full.input,full}function getLengthableOrigin(input){return Array.isArray(input)?"array":"string"==typeof input?"string":"unknown"}function util_issue(...args){const[iss,input,inst]=args;return"string"==typeof iss?{message:iss,code:"custom",input,inst}:{...iss}}var console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");class JSONSchemaGenerator{constructor(params){this.counter=0,this.metadataRegistry=params?.metadata??globalRegistry,this.target=params?.target??"draft-2020-12",this.unrepresentable=params?.unrepresentable??"throw",this.override=params?.override??(()=>{}),this.io=params?.io??"output",this.seen=new Map}process(schema,_params={path:[],schemaPath:[]}){var _a;const def=schema._zod.def,formatMap={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},seen=this.seen.get(schema);if(seen){seen.count++;return _params.schemaPath.includes(schema)&&(seen.cycle=_params.path),seen.schema}const result={schema:{},count:1,cycle:void 0,path:_params.path};this.seen.set(schema,result);const overrideSchema=schema._zod.toJSONSchema?.();if(overrideSchema)result.schema=overrideSchema;else{const params={..._params,schemaPath:[..._params.schemaPath,schema],path:_params.path},parent=schema._zod.parent;if(parent)result.ref=parent,this.process(parent,params),this.seen.get(parent).isParent=!0;else{const _json=result.schema;switch(def.type){case"string":{const json=_json;json.type="string";const{minimum,maximum,format,patterns,contentEncoding}=schema._zod.bag;if("number"==typeof minimum&&(json.minLength=minimum),"number"==typeof maximum&&(json.maxLength=maximum),format&&(json.format=formatMap[format]??format,""===json.format&&delete json.format),contentEncoding&&(json.contentEncoding=contentEncoding),patterns&&patterns.size>0){const regexes=[...patterns];1===regexes.length?json.pattern=regexes[0].source:regexes.length>1&&(result.schema.allOf=[...regexes.map((regex=>({..."draft-7"===this.target||"draft-4"===this.target?{type:"string"}:{},pattern:regex.source})))])}break}case"number":{const json=_json,{minimum,maximum,format,multipleOf,exclusiveMaximum,exclusiveMinimum}=schema._zod.bag;"string"==typeof format&&format.includes("int")?json.type="integer":json.type="number","number"==typeof exclusiveMinimum&&("draft-4"===this.target?(json.minimum=exclusiveMinimum,json.exclusiveMinimum=!0):json.exclusiveMinimum=exclusiveMinimum),"number"==typeof minimum&&(json.minimum=minimum,"number"==typeof exclusiveMinimum&&"draft-4"!==this.target&&(exclusiveMinimum>=minimum?delete json.minimum:delete json.exclusiveMinimum)),"number"==typeof exclusiveMaximum&&("draft-4"===this.target?(json.maximum=exclusiveMaximum,json.exclusiveMaximum=!0):json.exclusiveMaximum=exclusiveMaximum),"number"==typeof maximum&&(json.maximum=maximum,"number"==typeof exclusiveMaximum&&"draft-4"!==this.target&&(exclusiveMaximum<=maximum?delete json.maximum:delete json.exclusiveMaximum)),"number"==typeof multipleOf&&(json.multipleOf=multipleOf);break}case"boolean":_json.type="boolean";break;case"bigint":if("throw"===this.unrepresentable)throw new Error("BigInt cannot be represented in JSON Schema");break;case"symbol":if("throw"===this.unrepresentable)throw new Error("Symbols cannot be represented in JSON Schema");break;case"null":_json.type="null";break;case"any":case"unknown":break;case"undefined":if("throw"===this.unrepresentable)throw new Error("Undefined cannot be represented in JSON Schema");break;case"void":if("throw"===this.unrepresentable)throw new Error("Void cannot be represented in JSON Schema");break;case"never":_json.not={};break;case"date":if("throw"===this.unrepresentable)throw new Error("Date cannot be represented in JSON Schema");break;case"array":{const json=_json,{minimum,maximum}=schema._zod.bag;"number"==typeof minimum&&(json.minItems=minimum),"number"==typeof maximum&&(json.maxItems=maximum),json.type="array",json.items=this.process(def.element,{...params,path:[...params.path,"items"]});break}case"object":{const json=_json;json.type="object",json.properties={};const shape=def.shape;for(const key in shape)json.properties[key]=this.process(shape[key],{...params,path:[...params.path,"properties",key]});const allKeys=new Set(Object.keys(shape)),requiredKeys=new Set([...allKeys].filter((key=>{const v=def.shape[key]._zod;return"input"===this.io?void 0===v.optin:void 0===v.optout})));requiredKeys.size>0&&(json.required=Array.from(requiredKeys)),"never"===def.catchall?._zod.def.type?json.additionalProperties=!1:def.catchall?def.catchall&&(json.additionalProperties=this.process(def.catchall,{...params,path:[...params.path,"additionalProperties"]})):"output"===this.io&&(json.additionalProperties=!1);break}case"union":_json.anyOf=def.options.map(((x,i)=>this.process(x,{...params,path:[...params.path,"anyOf",i]})));break;case"intersection":{const json=_json,a=this.process(def.left,{...params,path:[...params.path,"allOf",0]}),b=this.process(def.right,{...params,path:[...params.path,"allOf",1]}),isSimpleIntersection=val=>"allOf"in val&&1===Object.keys(val).length,allOf=[...isSimpleIntersection(a)?a.allOf:[a],...isSimpleIntersection(b)?b.allOf:[b]];json.allOf=allOf;break}case"tuple":{const json=_json;json.type="array";const prefixItems=def.items.map(((x,i)=>this.process(x,{...params,path:[...params.path,"prefixItems",i]})));if("draft-2020-12"===this.target?json.prefixItems=prefixItems:json.items=prefixItems,def.rest){const rest=this.process(def.rest,{...params,path:[...params.path,"items"]});"draft-2020-12"===this.target?json.items=rest:json.additionalItems=rest}def.rest&&(json.items=this.process(def.rest,{...params,path:[...params.path,"items"]}));const{minimum,maximum}=schema._zod.bag;"number"==typeof minimum&&(json.minItems=minimum),"number"==typeof maximum&&(json.maxItems=maximum);break}case"record":{const json=_json;json.type="object","draft-4"!==this.target&&(json.propertyNames=this.process(def.keyType,{...params,path:[...params.path,"propertyNames"]})),json.additionalProperties=this.process(def.valueType,{...params,path:[...params.path,"additionalProperties"]});break}case"map":if("throw"===this.unrepresentable)throw new Error("Map cannot be represented in JSON Schema");break;case"set":if("throw"===this.unrepresentable)throw new Error("Set cannot be represented in JSON Schema");break;case"enum":{const json=_json,values=getEnumValues(def.entries);values.every((v=>"number"==typeof v))&&(json.type="number"),values.every((v=>"string"==typeof v))&&(json.type="string"),json.enum=values;break}case"literal":{const json=_json,vals=[];for(const val of def.values)if(void 0===val){if("throw"===this.unrepresentable)throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if("bigint"==typeof val){if("throw"===this.unrepresentable)throw new Error("BigInt literals cannot be represented in JSON Schema");vals.push(Number(val))}else vals.push(val);if(0===vals.length);else if(1===vals.length){const val=vals[0];json.type=null===val?"null":typeof val,"draft-4"===this.target?json.enum=[val]:json.const=val}else vals.every((v=>"number"==typeof v))&&(json.type="number"),vals.every((v=>"string"==typeof v))&&(json.type="string"),vals.every((v=>"boolean"==typeof v))&&(json.type="string"),vals.every((v=>null===v))&&(json.type="null"),json.enum=vals;break}case"file":{const json=_json,file={type:"string",format:"binary",contentEncoding:"binary"},{minimum,maximum,mime}=schema._zod.bag;void 0!==minimum&&(file.minLength=minimum),void 0!==maximum&&(file.maxLength=maximum),mime?1===mime.length?(file.contentMediaType=mime[0],Object.assign(json,file)):json.anyOf=mime.map((m=>({...file,contentMediaType:m}))):Object.assign(json,file);break}case"transform":if("throw"===this.unrepresentable)throw new Error("Transforms cannot be represented in JSON Schema");break;case"nullable":{const inner=this.process(def.innerType,params);_json.anyOf=[inner,{type:"null"}];break}case"nonoptional":case"promise":case"optional":this.process(def.innerType,params),result.ref=def.innerType;break;case"success":_json.type="boolean";break;case"default":this.process(def.innerType,params),result.ref=def.innerType,_json.default=JSON.parse(JSON.stringify(def.defaultValue));break;case"prefault":this.process(def.innerType,params),result.ref=def.innerType,"input"===this.io&&(_json._prefault=JSON.parse(JSON.stringify(def.defaultValue)));break;case"catch":{let catchValue;this.process(def.innerType,params),result.ref=def.innerType;try{catchValue=def.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}_json.default=catchValue;break}case"nan":if("throw"===this.unrepresentable)throw new Error("NaN cannot be represented in JSON Schema");break;case"template_literal":{const json=_json,pattern=schema._zod.pattern;if(!pattern)throw new Error("Pattern not found in template literal");json.type="string",json.pattern=pattern.source;break}case"pipe":{const innerType="input"===this.io?"transform"===def.in._zod.def.type?def.out:def.in:def.out;this.process(innerType,params),result.ref=innerType;break}case"readonly":this.process(def.innerType,params),result.ref=def.innerType,_json.readOnly=!0;break;case"lazy":{const innerType=schema._zod.innerType;this.process(innerType,params),result.ref=innerType;break}case"custom":if("throw"===this.unrepresentable)throw new Error("Custom types cannot be represented in JSON Schema")}}}const meta=this.metadataRegistry.get(schema);meta&&Object.assign(result.schema,meta),"input"===this.io&&isTransforming(schema)&&(delete result.schema.examples,delete result.schema.default),"input"===this.io&&result.schema._prefault&&((_a=result.schema).default??(_a.default=result.schema._prefault)),delete result.schema._prefault;return this.seen.get(schema).schema}emit(schema,_params){const params={cycles:_params?.cycles??"ref",reused:_params?.reused??"inline",external:_params?.external??void 0},root=this.seen.get(schema);if(!root)throw new Error("Unprocessed schema. This is a bug in Zod.");const makeURI=entry=>{const defsSegment="draft-2020-12"===this.target?"$defs":"definitions";if(params.external){const externalId=params.external.registry.get(entry[0])?.id,uriGenerator=params.external.uri??(id=>id);if(externalId)return{ref:uriGenerator(externalId)};const id=entry[1].defId??entry[1].schema.id??"schema"+this.counter++;return entry[1].defId=id,{defId:id,ref:`${uriGenerator("__shared")}#/${defsSegment}/${id}`}}if(entry[1]===root)return{ref:"#"};const defUriPrefix=`#/${defsSegment}/`,defId=entry[1].schema.id??"__schema"+this.counter++;return{defId,ref:defUriPrefix+defId}},extractToDef=entry=>{if(entry[1].schema.$ref)return;const seen=entry[1],{ref,defId}=makeURI(entry);seen.def={...seen.schema},defId&&(seen.defId=defId);const schema=seen.schema;for(const key in schema)delete schema[key];schema.$ref=ref};if("throw"===params.cycles)for(const entry of this.seen.entries()){const seen=entry[1];if(seen.cycle)throw new Error(`Cycle detected: #/${seen.cycle?.join("/")}/<root>\n\nSet the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const entry of this.seen.entries()){const seen=entry[1];if(schema===entry[0]){extractToDef(entry);continue}if(params.external){const ext=params.external.registry.get(entry[0])?.id;if(schema!==entry[0]&&ext){extractToDef(entry);continue}}const id=this.metadataRegistry.get(entry[0])?.id;id?extractToDef(entry):(seen.cycle||seen.count>1&&"ref"===params.reused)&&extractToDef(entry)}const flattenRef=(zodSchema,params)=>{const seen=this.seen.get(zodSchema),schema=seen.def??seen.schema,_cached={...schema};if(null===seen.ref)return;const ref=seen.ref;if(seen.ref=null,ref){flattenRef(ref,params);const refSchema=this.seen.get(ref).schema;!refSchema.$ref||"draft-7"!==params.target&&"draft-4"!==params.target?(Object.assign(schema,refSchema),Object.assign(schema,_cached)):(schema.allOf=schema.allOf??[],schema.allOf.push(refSchema))}seen.isParent||this.override({zodSchema,jsonSchema:schema,path:seen.path??[]})};for(const entry of[...this.seen.entries()].reverse())flattenRef(entry[0],{target:this.target});const result={};if("draft-2020-12"===this.target?result.$schema="https://json-schema.org/draft/2020-12/schema":"draft-7"===this.target?result.$schema="http://json-schema.org/draft-07/schema#":"draft-4"===this.target?result.$schema="http://json-schema.org/draft-04/schema#":console.warn(`Invalid target: ${this.target}`),params.external?.uri){const id=params.external.registry.get(schema)?.id;if(!id)throw new Error("Schema is missing an `id` property");result.$id=params.external.uri(id)}Object.assign(result,root.def);const defs=params.external?.defs??{};for(const entry of this.seen.entries()){const seen=entry[1];seen.def&&seen.defId&&(defs[seen.defId]=seen.def)}params.external||Object.keys(defs).length>0&&("draft-2020-12"===this.target?result.$defs=defs:result.definitions=defs);try{return JSON.parse(JSON.stringify(result))}catch(_err){throw new Error("Error converting schema to JSON.")}}}function isTransforming(_schema,_ctx){const ctx=_ctx??{seen:new Set};if(ctx.seen.has(_schema))return!1;ctx.seen.add(_schema);const def=_schema._zod.def;switch(def.type){case"string":case"number":case"bigint":case"boolean":case"date":case"symbol":case"undefined":case"null":case"any":case"unknown":case"never":case"void":case"literal":case"enum":case"nan":case"file":case"template_literal":case"custom":case"success":case"catch":return!1;case"array":return isTransforming(def.element,ctx);case"object":for(const key in def.shape)if(isTransforming(def.shape[key],ctx))return!0;return!1;case"union":for(const option of def.options)if(isTransforming(option,ctx))return!0;return!1;case"intersection":return isTransforming(def.left,ctx)||isTransforming(def.right,ctx);case"tuple":for(const item of def.items)if(isTransforming(item,ctx))return!0;return!(!def.rest||!isTransforming(def.rest,ctx));case"record":case"map":return isTransforming(def.keyType,ctx)||isTransforming(def.valueType,ctx);case"set":return isTransforming(def.valueType,ctx);case"promise":case"optional":case"nonoptional":case"nullable":case"readonly":case"default":case"prefault":return isTransforming(def.innerType,ctx);case"lazy":return isTransforming(def.getter(),ctx);case"transform":return!0;case"pipe":return isTransforming(def.in,ctx)||isTransforming(def.out,ctx)}throw new Error(`Unknown schema type: ${def.type}`)}Object.freeze({status:"aborted"});function $constructor(name,initializer,params){function init(inst,def){var _a;Object.defineProperty(inst,"_zod",{value:inst._zod??{},enumerable:!1}),(_a=inst._zod).traits??(_a.traits=new Set),inst._zod.traits.add(name),initializer(inst,def);for(const k in _.prototype)k in inst||Object.defineProperty(inst,k,{value:_.prototype[k].bind(inst)});inst._zod.constr=_,inst._zod.def=def}const Parent=params?.Parent??Object;class Definition extends Parent{}function _(def){var _a;const inst=params?.Parent?new Definition:this;init(inst,def),(_a=inst._zod).deferred??(_a.deferred=[]);for(const fn of inst._zod.deferred)fn();return inst}return Object.defineProperty(Definition,"name",{value:name}),Object.defineProperty(_,"init",{value:init}),Object.defineProperty(_,Symbol.hasInstance,{value:inst=>!!(params?.Parent&&inst instanceof params.Parent)||inst?._zod?.traits?.has(name)}),Object.defineProperty(_,"name",{value:name}),_}Symbol("zod_brand");class $ZodAsyncError extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const globalConfig={};function config(newConfig){return newConfig&&Object.assign(globalConfig,newConfig),globalConfig}const initializer=(inst,def)=>{inst.name="$ZodError",Object.defineProperty(inst,"_zod",{value:inst._zod,enumerable:!1}),Object.defineProperty(inst,"issues",{value:def,enumerable:!1}),inst.message=JSON.stringify(def,jsonStringifyReplacer,2),Object.defineProperty(inst,"toString",{value:()=>inst.message,enumerable:!1})},$ZodError=$constructor("$ZodError",initializer),$ZodRealError=$constructor("$ZodError",initializer,{Parent:Error});const _parse=_Err=>(schema,value,_ctx,_params)=>{const ctx=_ctx?Object.assign(_ctx,{async:!1}):{async:!1},result=schema._zod.run({value,issues:[]},ctx);if(result instanceof Promise)throw new $ZodAsyncError;if(result.issues.length){const e=new(_params?.Err??_Err)(result.issues.map((iss=>finalizeIssue(iss,ctx,config()))));throw captureStackTrace(e,_params?.callee),e}return result.value},_parseAsync=_Err=>async(schema,value,_ctx,params)=>{const ctx=_ctx?Object.assign(_ctx,{async:!0}):{async:!0};let result=schema._zod.run({value,issues:[]},ctx);if(result instanceof Promise&&(result=await result),result.issues.length){const e=new(params?.Err??_Err)(result.issues.map((iss=>finalizeIssue(iss,ctx,config()))));throw captureStackTrace(e,params?.callee),e}return result.value},_safeParse=_Err=>(schema,value,_ctx)=>{const ctx=_ctx?{..._ctx,async:!1}:{async:!1},result=schema._zod.run({value,issues:[]},ctx);if(result instanceof Promise)throw new $ZodAsyncError;return result.issues.length?{success:!1,error:new(_Err??$ZodError)(result.issues.map((iss=>finalizeIssue(iss,ctx,config()))))}:{success:!0,data:result.value}},safeParse=_safeParse($ZodRealError),_safeParseAsync=_Err=>async(schema,value,_ctx)=>{const ctx=_ctx?Object.assign(_ctx,{async:!0}):{async:!0};let result=schema._zod.run({value,issues:[]},ctx);return result instanceof Promise&&(result=await result),result.issues.length?{success:!1,error:new _Err(result.issues.map((iss=>finalizeIssue(iss,ctx,config()))))}:{success:!0,data:result.value}},safeParseAsync=_safeParseAsync($ZodRealError),errors_initializer=(inst,issues)=>{$ZodError.init(inst,issues),inst.name="ZodError",Object.defineProperties(inst,{format:{value:mapper=>function formatError(error,_mapper){const mapper=_mapper||function(issue){return issue.message},fieldErrors={_errors:[]},processError=error=>{for(const issue of error.issues)if("invalid_union"===issue.code&&issue.errors.length)issue.errors.map((issues=>processError({issues})));else if("invalid_key"===issue.code)processError({issues:issue.issues});else if("invalid_element"===issue.code)processError({issues:issue.issues});else if(0===issue.path.length)fieldErrors._errors.push(mapper(issue));else{let curr=fieldErrors,i=0;for(;i<issue.path.length;){const el=issue.path[i];i===issue.path.length-1?(curr[el]=curr[el]||{_errors:[]},curr[el]._errors.push(mapper(issue))):curr[el]=curr[el]||{_errors:[]},curr=curr[el],i++}}};return processError(error),fieldErrors}(inst,mapper)},flatten:{value:mapper=>function flattenError(error,mapper=issue=>issue.message){const fieldErrors={},formErrors=[];for(const sub of error.issues)sub.path.length>0?(fieldErrors[sub.path[0]]=fieldErrors[sub.path[0]]||[],fieldErrors[sub.path[0]].push(mapper(sub))):formErrors.push(mapper(sub));return{formErrors,fieldErrors}}(inst,mapper)},addIssue:{value:issue=>{inst.issues.push(issue),inst.message=JSON.stringify(inst.issues,jsonStringifyReplacer,2)}},addIssues:{value:issues=>{inst.issues.push(...issues),inst.message=JSON.stringify(inst.issues,jsonStringifyReplacer,2)}},isEmpty:{get:()=>0===inst.issues.length}})},ZodRealError=($constructor("ZodError",errors_initializer),$constructor("ZodError",errors_initializer,{Parent:Error})),parse_parse=_parse(ZodRealError),parse_parseAsync=_parseAsync(ZodRealError),parse_safeParse=_safeParse(ZodRealError),parse_safeParseAsync=_safeParseAsync(ZodRealError);var util_util,objectUtil;!function(util){util.assertEqual=_=>{},util.assertIs=function assertIs(_arg){},util.assertNever=function assertNever(_x){throw new Error},util.arrayToEnum=items=>{const obj={};for(const item of items)obj[item]=item;return obj},util.getValidEnumValues=obj=>{const validKeys=util.objectKeys(obj).filter((k=>"number"!=typeof obj[obj[k]])),filtered={};for(const k of validKeys)filtered[k]=obj[k];return util.objectValues(filtered)},util.objectValues=obj=>util.objectKeys(obj).map((function(e){return obj[e]})),util.objectKeys="function"==typeof Object.keys?obj=>Object.keys(obj):object=>{const keys=[];for(const key in object)Object.prototype.hasOwnProperty.call(object,key)&&keys.push(key);return keys},util.find=(arr,checker)=>{for(const item of arr)if(checker(item))return item},util.isInteger="function"==typeof Number.isInteger?val=>Number.isInteger(val):val=>"number"==typeof val&&Number.isFinite(val)&&Math.floor(val)===val,util.joinValues=function joinValues(array,separator=" | "){return array.map((val=>"string"==typeof val?`'${val}'`:val)).join(separator)},util.jsonStringifyReplacer=(_,value)=>"bigint"==typeof value?value.toString():value}(util_util||(util_util={})),function(objectUtil){objectUtil.mergeShapes=(first,second)=>({...first,...second})}(objectUtil||(objectUtil={}));const ZodParsedType=util_util.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),util_getParsedType=data=>{switch(typeof data){case"undefined":return ZodParsedType.undefined;case"string":return ZodParsedType.string;case"number":return Number.isNaN(data)?ZodParsedType.nan:ZodParsedType.number;case"boolean":return ZodParsedType.boolean;case"function":return ZodParsedType.function;case"bigint":return ZodParsedType.bigint;case"symbol":return ZodParsedType.symbol;case"object":return Array.isArray(data)?ZodParsedType.array:null===data?ZodParsedType.null:data.then&&"function"==typeof data.then&&data.catch&&"function"==typeof data.catch?ZodParsedType.promise:"undefined"!=typeof Map&&data instanceof Map?ZodParsedType.map:"undefined"!=typeof Set&&data instanceof Set?ZodParsedType.set:"undefined"!=typeof Date&&data instanceof Date?ZodParsedType.date:ZodParsedType.object;default:return ZodParsedType.unknown}},ZodIssueCode=util_util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class ZodError_ZodError extends Error{get errors(){return this.issues}constructor(issues){super(),this.issues=[],this.addIssue=sub=>{this.issues=[...this.issues,sub]},this.addIssues=(subs=[])=>{this.issues=[...this.issues,...subs]};const actualProto=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,actualProto):this.__proto__=actualProto,this.name="ZodError",this.issues=issues}format(_mapper){const mapper=_mapper||function(issue){return issue.message},fieldErrors={_errors:[]},processError=error=>{for(const issue of error.issues)if("invalid_union"===issue.code)issue.unionErrors.map(processError);else if("invalid_return_type"===issue.code)processError(issue.returnTypeError);else if("invalid_arguments"===issue.code)processError(issue.argumentsError);else if(0===issue.path.length)fieldErrors._errors.push(mapper(issue));else{let curr=fieldErrors,i=0;for(;i<issue.path.length;){const el=issue.path[i];i===issue.path.length-1?(curr[el]=curr[el]||{_errors:[]},curr[el]._errors.push(mapper(issue))):curr[el]=curr[el]||{_errors:[]},curr=curr[el],i++}}};return processError(this),fieldErrors}static assert(value){if(!(value instanceof ZodError_ZodError))throw new Error(`Not a ZodError: ${value}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,util_util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(mapper=issue=>issue.message){const fieldErrors={},formErrors=[];for(const sub of this.issues)if(sub.path.length>0){const firstEl=sub.path[0];fieldErrors[firstEl]=fieldErrors[firstEl]||[],fieldErrors[firstEl].push(mapper(sub))}else formErrors.push(mapper(sub));return{formErrors,fieldErrors}}get formErrors(){return this.flatten()}}ZodError_ZodError.create=issues=>new ZodError_ZodError(issues);const en=(issue,_ctx)=>{let message;switch(issue.code){case ZodIssueCode.invalid_type:message=issue.received===ZodParsedType.undefined?"Required":`Expected ${issue.expected}, received ${issue.received}`;break;case ZodIssueCode.invalid_literal:message=`Invalid literal value, expected ${JSON.stringify(issue.expected,util_util.jsonStringifyReplacer)}`;break;case ZodIssueCode.unrecognized_keys:message=`Unrecognized key(s) in object: ${util_util.joinValues(issue.keys,", ")}`;break;case ZodIssueCode.invalid_union:message="Invalid input";break;case ZodIssueCode.invalid_union_discriminator:message=`Invalid discriminator value. Expected ${util_util.joinValues(issue.options)}`;break;case ZodIssueCode.invalid_enum_value:message=`Invalid enum value. Expected ${util_util.joinValues(issue.options)}, received '${issue.received}'`;break;case ZodIssueCode.invalid_arguments:message="Invalid function arguments";break;case ZodIssueCode.invalid_return_type:message="Invalid function return type";break;case ZodIssueCode.invalid_date:message="Invalid date";break;case ZodIssueCode.invalid_string:"object"==typeof issue.validation?"includes"in issue.validation?(message=`Invalid input: must include "${issue.validation.includes}"`,"number"==typeof issue.validation.position&&(message=`${message} at one or more positions greater than or equal to ${issue.validation.position}`)):"startsWith"in issue.validation?message=`Invalid input: must start with "${issue.validation.startsWith}"`:"endsWith"in issue.validation?message=`Invalid input: must end with "${issue.validation.endsWith}"`:util_util.assertNever(issue.validation):message="regex"!==issue.validation?`Invalid ${issue.validation}`:"Invalid";break;case ZodIssueCode.too_small:message="array"===issue.type?`Array must contain ${issue.exact?"exactly":issue.inclusive?"at least":"more than"} ${issue.minimum} element(s)`:"string"===issue.type?`String must contain ${issue.exact?"exactly":issue.inclusive?"at least":"over"} ${issue.minimum} character(s)`:"number"===issue.type||"bigint"===issue.type?`Number must be ${issue.exact?"exactly equal to ":issue.inclusive?"greater than or equal to ":"greater than "}${issue.minimum}`:"date"===issue.type?`Date must be ${issue.exact?"exactly equal to ":issue.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(issue.minimum))}`:"Invalid input";break;case ZodIssueCode.too_big:message="array"===issue.type?`Array must contain ${issue.exact?"exactly":issue.inclusive?"at most":"less than"} ${issue.maximum} element(s)`:"string"===issue.type?`String must contain ${issue.exact?"exactly":issue.inclusive?"at most":"under"} ${issue.maximum} character(s)`:"number"===issue.type?`Number must be ${issue.exact?"exactly":issue.inclusive?"less than or equal to":"less than"} ${issue.maximum}`:"bigint"===issue.type?`BigInt must be ${issue.exact?"exactly":issue.inclusive?"less than or equal to":"less than"} ${issue.maximum}`:"date"===issue.type?`Date must be ${issue.exact?"exactly":issue.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(issue.maximum))}`:"Invalid input";break;case ZodIssueCode.custom:message="Invalid input";break;case ZodIssueCode.invalid_intersection_types:message="Intersection results could not be merged";break;case ZodIssueCode.not_multiple_of:message=`Number must be a multiple of ${issue.multipleOf}`;break;case ZodIssueCode.not_finite:message="Number must be finite";break;default:message=_ctx.defaultError,util_util.assertNever(issue)}return{message}};let overrideErrorMap=en;function getErrorMap(){return overrideErrorMap}var errorUtil;!function(errorUtil){errorUtil.errToObj=message=>"string"==typeof message?{message}:message||{},errorUtil.toString=message=>"string"==typeof message?message:message?.message}(errorUtil||(errorUtil={}));const makeIssue=params=>{const{data,path,errorMaps,issueData}=params,fullPath=[...path,...issueData.path||[]],fullIssue={...issueData,path:fullPath};if(void 0!==issueData.message)return{...issueData,path:fullPath,message:issueData.message};let errorMessage="";const maps=errorMaps.filter((m=>!!m)).slice().reverse();for(const map of maps)errorMessage=map(fullIssue,{data,defaultError:errorMessage}).message;return{...issueData,path:fullPath,message:errorMessage}};function addIssueToContext(ctx,issueData){const overrideMap=getErrorMap(),issue=makeIssue({issueData,data:ctx.data,path:ctx.path,errorMaps:[ctx.common.contextualErrorMap,ctx.schemaErrorMap,overrideMap,overrideMap===en?void 0:en].filter((x=>!!x))});ctx.common.issues.push(issue)}class ParseStatus{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(status,results){const arrayValue=[];for(const s of results){if("aborted"===s.status)return parseUtil_INVALID;"dirty"===s.status&&status.dirty(),arrayValue.push(s.value)}return{status:status.value,value:arrayValue}}static async mergeObjectAsync(status,pairs){const syncPairs=[];for(const pair of pairs){const key=await pair.key,value=await pair.value;syncPairs.push({key,value})}return ParseStatus.mergeObjectSync(status,syncPairs)}static mergeObjectSync(status,pairs){const finalObject={};for(const pair of pairs){const{key,value}=pair;if("aborted"===key.status)return parseUtil_INVALID;if("aborted"===value.status)return parseUtil_INVALID;"dirty"===key.status&&status.dirty(),"dirty"===value.status&&status.dirty(),"__proto__"===key.value||void 0===value.value&&!pair.alwaysSet||(finalObject[key.value]=value.value)}return{status:status.value,value:finalObject}}}const parseUtil_INVALID=Object.freeze({status:"aborted"}),DIRTY=value=>({status:"dirty",value}),OK=value=>({status:"valid",value}),isAborted=x=>"aborted"===x.status,isDirty=x=>"dirty"===x.status,isValid=x=>"valid"===x.status,isAsync=x=>"undefined"!=typeof Promise&&x instanceof Promise;class ParseInputLazyPath{constructor(parent,value,path,key){this._cachedPath=[],this.parent=parent,this.data=value,this._path=path,this._key=key}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const handleResult=(ctx,result)=>{if(isValid(result))return{success:!0,data:result.value};if(!ctx.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const error=new ZodError_ZodError(ctx.common.issues);return this._error=error,this._error}}};function processCreateParams(params){if(!params)return{};const{errorMap,invalid_type_error,required_error,description}=params;if(errorMap&&(invalid_type_error||required_error))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(errorMap)return{errorMap,description};return{errorMap:(iss,ctx)=>{const{message}=params;return"invalid_enum_value"===iss.code?{message:message??ctx.defaultError}:void 0===ctx.data?{message:message??required_error??ctx.defaultError}:"invalid_type"!==iss.code?{message:ctx.defaultError}:{message:message??invalid_type_error??ctx.defaultError}},description}}class ZodType{get description(){return this._def.description}_getType(input){return util_getParsedType(input.data)}_getOrReturnCtx(input,ctx){return ctx||{common:input.parent.common,data:input.data,parsedType:util_getParsedType(input.data),schemaErrorMap:this._def.errorMap,path:input.path,parent:input.parent}}_processInputParams(input){return{status:new ParseStatus,ctx:{common:input.parent.common,data:input.data,parsedType:util_getParsedType(input.data),schemaErrorMap:this._def.errorMap,path:input.path,parent:input.parent}}}_parseSync(input){const result=this._parse(input);if(isAsync(result))throw new Error("Synchronous parse encountered promise.");return result}_parseAsync(input){const result=this._parse(input);return Promise.resolve(result)}parse(data,params){const result=this.safeParse(data,params);if(result.success)return result.data;throw result.error}safeParse(data,params){const ctx={common:{issues:[],async:params?.async??!1,contextualErrorMap:params?.errorMap},path:params?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data,parsedType:util_getParsedType(data)},result=this._parseSync({data,path:ctx.path,parent:ctx});return handleResult(ctx,result)}"~validate"(data){const ctx={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data,parsedType:util_getParsedType(data)};if(!this["~standard"].async)try{const result=this._parseSync({data,path:[],parent:ctx});return isValid(result)?{value:result.value}:{issues:ctx.common.issues}}catch(err){err?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),ctx.common={issues:[],async:!0}}return this._parseAsync({data,path:[],parent:ctx}).then((result=>isValid(result)?{value:result.value}:{issues:ctx.common.issues}))}async parseAsync(data,params){const result=await this.safeParseAsync(data,params);if(result.success)return result.data;throw result.error}async safeParseAsync(data,params){const ctx={common:{issues:[],contextualErrorMap:params?.errorMap,async:!0},path:params?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data,parsedType:util_getParsedType(data)},maybeAsyncResult=this._parse({data,path:ctx.path,parent:ctx}),result=await(isAsync(maybeAsyncResult)?maybeAsyncResult:Promise.resolve(maybeAsyncResult));return handleResult(ctx,result)}refine(check,message){const getIssueProperties=val=>"string"==typeof message||void 0===message?{message}:"function"==typeof message?message(val):message;return this._refinement(((val,ctx)=>{const result=check(val),setError=()=>ctx.addIssue({code:ZodIssueCode.custom,...getIssueProperties(val)});return"undefined"!=typeof Promise&&result instanceof Promise?result.then((data=>!!data||(setError(),!1))):!!result||(setError(),!1)}))}refinement(check,refinementData){return this._refinement(((val,ctx)=>!!check(val)||(ctx.addIssue("function"==typeof refinementData?refinementData(val,ctx):refinementData),!1)))}_refinement(refinement){return new ZodEffects({schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"refinement",refinement}})}superRefine(refinement){return this._refinement(refinement)}constructor(def){this.spa=this.safeParseAsync,this._def=def,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:data=>this["~validate"](data)}}optional(){return ZodOptional.create(this,this._def)}nullable(){return ZodNullable.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ZodArray.create(this)}promise(){return ZodPromise.create(this,this._def)}or(option){return ZodUnion.create([this,option],this._def)}and(incoming){return ZodIntersection.create(this,incoming,this._def)}transform(transform){return new ZodEffects({...processCreateParams(this._def),schema:this,typeName:ZodFirstPartyTypeKind.ZodEffects,effect:{type:"transform",transform}})}default(def){const defaultValueFunc="function"==typeof def?def:()=>def;return new ZodDefault({...processCreateParams(this._def),innerType:this,defaultValue:defaultValueFunc,typeName:ZodFirstPartyTypeKind.ZodDefault})}brand(){return new ZodBranded({typeName:ZodFirstPartyTypeKind.ZodBranded,type:this,...processCreateParams(this._def)})}catch(def){const catchValueFunc="function"==typeof def?def:()=>def;return new ZodCatch({...processCreateParams(this._def),innerType:this,catchValue:catchValueFunc,typeName:ZodFirstPartyTypeKind.ZodCatch})}describe(description){return new(0,this.constructor)({...this._def,description})}pipe(target){return ZodPipeline.create(this,target)}readonly(){return ZodReadonly.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const cuidRegex=/^c[^\s-]{8,}$/i,cuid2Regex=/^[0-9a-z]+$/,ulidRegex=/^[0-9A-HJKMNP-TV-Z]{26}$/i,uuidRegex=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,nanoidRegex=/^[a-z0-9_-]{21}$/i,jwtRegex=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,durationRegex=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,emailRegex=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let emojiRegex;const ipv4Regex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4CidrRegex=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6Regex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ipv6CidrRegex=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64Regex=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64urlRegex=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,dateRegexSource="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",dateRegex=new RegExp(`^${dateRegexSource}$`);function timeRegexSource(args){let secondsRegexSource="[0-5]\\d";args.precision?secondsRegexSource=`${secondsRegexSource}\\.\\d{${args.precision}}`:null==args.precision&&(secondsRegexSource=`${secondsRegexSource}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${secondsRegexSource})${args.precision?"+":"?"}`}function datetimeRegex(args){let regex=`${dateRegexSource}T${timeRegexSource(args)}`;const opts=[];return opts.push(args.local?"Z?":"Z"),args.offset&&opts.push("([+-]\\d{2}:?\\d{2})"),regex=`${regex}(${opts.join("|")})`,new RegExp(`^${regex}$`)}function isValidIP(ip,version){return!("v4"!==version&&version||!ipv4Regex.test(ip))||!("v6"!==version&&version||!ipv6Regex.test(ip))}function isValidJWT(jwt,alg){if(!jwtRegex.test(jwt))return!1;try{const[header]=jwt.split(".");if(!header)return!1;const base64=header.replace(/-/g,"+").replace(/_/g,"/").padEnd(header.length+(4-header.length%4)%4,"="),decoded=JSON.parse(atob(base64));return"object"==typeof decoded&&null!==decoded&&((!("typ"in decoded)||"JWT"===decoded?.typ)&&(!!decoded.alg&&(!alg||decoded.alg===alg)))}catch{return!1}}function isValidCidr(ip,version){return!("v4"!==version&&version||!ipv4CidrRegex.test(ip))||!("v6"!==version&&version||!ipv6CidrRegex.test(ip))}class ZodString extends ZodType{_parse(input){this._def.coerce&&(input.data=String(input.data));if(this._getType(input)!==ZodParsedType.string){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.string,received:ctx.parsedType}),parseUtil_INVALID}const status=new ParseStatus;let ctx;for(const check of this._def.checks)if("min"===check.kind)input.data.length<check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:check.value,type:"string",inclusive:!0,exact:!1,message:check.message}),status.dirty());else if("max"===check.kind)input.data.length>check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:check.value,type:"string",inclusive:!0,exact:!1,message:check.message}),status.dirty());else if("length"===check.kind){const tooBig=input.data.length>check.value,tooSmall=input.data.length<check.value;(tooBig||tooSmall)&&(ctx=this._getOrReturnCtx(input,ctx),tooBig?addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:check.value,type:"string",inclusive:!0,exact:!0,message:check.message}):tooSmall&&addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:check.value,type:"string",inclusive:!0,exact:!0,message:check.message}),status.dirty())}else if("email"===check.kind)emailRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"email",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("emoji"===check.kind)emojiRegex||(emojiRegex=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),emojiRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"emoji",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("uuid"===check.kind)uuidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"uuid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("nanoid"===check.kind)nanoidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"nanoid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("cuid"===check.kind)cuidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"cuid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("cuid2"===check.kind)cuid2Regex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"cuid2",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("ulid"===check.kind)ulidRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"ulid",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty());else if("url"===check.kind)try{new URL(input.data)}catch{ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"url",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()}else if("regex"===check.kind){check.regex.lastIndex=0;check.regex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"regex",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty())}else if("trim"===check.kind)input.data=input.data.trim();else if("includes"===check.kind)input.data.includes(check.value,check.position)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:{includes:check.value,position:check.position},message:check.message}),status.dirty());else if("toLowerCase"===check.kind)input.data=input.data.toLowerCase();else if("toUpperCase"===check.kind)input.data=input.data.toUpperCase();else if("startsWith"===check.kind)input.data.startsWith(check.value)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:{startsWith:check.value},message:check.message}),status.dirty());else if("endsWith"===check.kind)input.data.endsWith(check.value)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:{endsWith:check.value},message:check.message}),status.dirty());else if("datetime"===check.kind){datetimeRegex(check).test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:"datetime",message:check.message}),status.dirty())}else if("date"===check.kind){dateRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:"date",message:check.message}),status.dirty())}else if("time"===check.kind){new RegExp(`^${timeRegexSource(check)}$`).test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_string,validation:"time",message:check.message}),status.dirty())}else"duration"===check.kind?durationRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"duration",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):"ip"===check.kind?isValidIP(input.data,check.version)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"ip",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):"jwt"===check.kind?isValidJWT(input.data,check.alg)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"jwt",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):"cidr"===check.kind?isValidCidr(input.data,check.version)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"cidr",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):"base64"===check.kind?base64Regex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"base64",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):"base64url"===check.kind?base64urlRegex.test(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{validation:"base64url",code:ZodIssueCode.invalid_string,message:check.message}),status.dirty()):util_util.assertNever(check);return{status:status.value,value:input.data}}_regex(regex,validation,message){return this.refinement((data=>regex.test(data)),{validation,code:ZodIssueCode.invalid_string,...errorUtil.errToObj(message)})}_addCheck(check){return new ZodString({...this._def,checks:[...this._def.checks,check]})}email(message){return this._addCheck({kind:"email",...errorUtil.errToObj(message)})}url(message){return this._addCheck({kind:"url",...errorUtil.errToObj(message)})}emoji(message){return this._addCheck({kind:"emoji",...errorUtil.errToObj(message)})}uuid(message){return this._addCheck({kind:"uuid",...errorUtil.errToObj(message)})}nanoid(message){return this._addCheck({kind:"nanoid",...errorUtil.errToObj(message)})}cuid(message){return this._addCheck({kind:"cuid",...errorUtil.errToObj(message)})}cuid2(message){return this._addCheck({kind:"cuid2",...errorUtil.errToObj(message)})}ulid(message){return this._addCheck({kind:"ulid",...errorUtil.errToObj(message)})}base64(message){return this._addCheck({kind:"base64",...errorUtil.errToObj(message)})}base64url(message){return this._addCheck({kind:"base64url",...errorUtil.errToObj(message)})}jwt(options){return this._addCheck({kind:"jwt",...errorUtil.errToObj(options)})}ip(options){return this._addCheck({kind:"ip",...errorUtil.errToObj(options)})}cidr(options){return this._addCheck({kind:"cidr",...errorUtil.errToObj(options)})}datetime(options){return"string"==typeof options?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:options}):this._addCheck({kind:"datetime",precision:void 0===options?.precision?null:options?.precision,offset:options?.offset??!1,local:options?.local??!1,...errorUtil.errToObj(options?.message)})}date(message){return this._addCheck({kind:"date",message})}time(options){return"string"==typeof options?this._addCheck({kind:"time",precision:null,message:options}):this._addCheck({kind:"time",precision:void 0===options?.precision?null:options?.precision,...errorUtil.errToObj(options?.message)})}duration(message){return this._addCheck({kind:"duration",...errorUtil.errToObj(message)})}regex(regex,message){return this._addCheck({kind:"regex",regex,...errorUtil.errToObj(message)})}includes(value,options){return this._addCheck({kind:"includes",value,position:options?.position,...errorUtil.errToObj(options?.message)})}startsWith(value,message){return this._addCheck({kind:"startsWith",value,...errorUtil.errToObj(message)})}endsWith(value,message){return this._addCheck({kind:"endsWith",value,...errorUtil.errToObj(message)})}min(minLength,message){return this._addCheck({kind:"min",value:minLength,...errorUtil.errToObj(message)})}max(maxLength,message){return this._addCheck({kind:"max",value:maxLength,...errorUtil.errToObj(message)})}length(len,message){return this._addCheck({kind:"length",value:len,...errorUtil.errToObj(message)})}nonempty(message){return this.min(1,errorUtil.errToObj(message))}trim(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new ZodString({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((ch=>"datetime"===ch.kind))}get isDate(){return!!this._def.checks.find((ch=>"date"===ch.kind))}get isTime(){return!!this._def.checks.find((ch=>"time"===ch.kind))}get isDuration(){return!!this._def.checks.find((ch=>"duration"===ch.kind))}get isEmail(){return!!this._def.checks.find((ch=>"email"===ch.kind))}get isURL(){return!!this._def.checks.find((ch=>"url"===ch.kind))}get isEmoji(){return!!this._def.checks.find((ch=>"emoji"===ch.kind))}get isUUID(){return!!this._def.checks.find((ch=>"uuid"===ch.kind))}get isNANOID(){return!!this._def.checks.find((ch=>"nanoid"===ch.kind))}get isCUID(){return!!this._def.checks.find((ch=>"cuid"===ch.kind))}get isCUID2(){return!!this._def.checks.find((ch=>"cuid2"===ch.kind))}get isULID(){return!!this._def.checks.find((ch=>"ulid"===ch.kind))}get isIP(){return!!this._def.checks.find((ch=>"ip"===ch.kind))}get isCIDR(){return!!this._def.checks.find((ch=>"cidr"===ch.kind))}get isBase64(){return!!this._def.checks.find((ch=>"base64"===ch.kind))}get isBase64url(){return!!this._def.checks.find((ch=>"base64url"===ch.kind))}get minLength(){let min=null;for(const ch of this._def.checks)"min"===ch.kind&&(null===min||ch.value>min)&&(min=ch.value);return min}get maxLength(){let max=null;for(const ch of this._def.checks)"max"===ch.kind&&(null===max||ch.value<max)&&(max=ch.value);return max}}function types_floatSafeRemainder(val,step){const valDecCount=(val.toString().split(".")[1]||"").length,stepDecCount=(step.toString().split(".")[1]||"").length,decCount=valDecCount>stepDecCount?valDecCount:stepDecCount;return Number.parseInt(val.toFixed(decCount).replace(".",""))%Number.parseInt(step.toFixed(decCount).replace(".",""))/10**decCount}ZodString.create=params=>new ZodString({checks:[],typeName:ZodFirstPartyTypeKind.ZodString,coerce:params?.coerce??!1,...processCreateParams(params)});class ZodNumber extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(input){this._def.coerce&&(input.data=Number(input.data));if(this._getType(input)!==ZodParsedType.number){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.number,received:ctx.parsedType}),parseUtil_INVALID}let ctx;const status=new ParseStatus;for(const check of this._def.checks)if("int"===check.kind)util_util.isInteger(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:"integer",received:"float",message:check.message}),status.dirty());else if("min"===check.kind){(check.inclusive?input.data<check.value:input.data<=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:check.value,type:"number",inclusive:check.inclusive,exact:!1,message:check.message}),status.dirty())}else if("max"===check.kind){(check.inclusive?input.data>check.value:input.data>=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:check.value,type:"number",inclusive:check.inclusive,exact:!1,message:check.message}),status.dirty())}else"multipleOf"===check.kind?0!==types_floatSafeRemainder(input.data,check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.not_multiple_of,multipleOf:check.value,message:check.message}),status.dirty()):"finite"===check.kind?Number.isFinite(input.data)||(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.not_finite,message:check.message}),status.dirty()):util_util.assertNever(check);return{status:status.value,value:input.data}}gte(value,message){return this.setLimit("min",value,!0,errorUtil.toString(message))}gt(value,message){return this.setLimit("min",value,!1,errorUtil.toString(message))}lte(value,message){return this.setLimit("max",value,!0,errorUtil.toString(message))}lt(value,message){return this.setLimit("max",value,!1,errorUtil.toString(message))}setLimit(kind,value,inclusive,message){return new ZodNumber({...this._def,checks:[...this._def.checks,{kind,value,inclusive,message:errorUtil.toString(message)}]})}_addCheck(check){return new ZodNumber({...this._def,checks:[...this._def.checks,check]})}int(message){return this._addCheck({kind:"int",message:errorUtil.toString(message)})}positive(message){return this._addCheck({kind:"min",value:0,inclusive:!1,message:errorUtil.toString(message)})}negative(message){return this._addCheck({kind:"max",value:0,inclusive:!1,message:errorUtil.toString(message)})}nonpositive(message){return this._addCheck({kind:"max",value:0,inclusive:!0,message:errorUtil.toString(message)})}nonnegative(message){return this._addCheck({kind:"min",value:0,inclusive:!0,message:errorUtil.toString(message)})}multipleOf(value,message){return this._addCheck({kind:"multipleOf",value,message:errorUtil.toString(message)})}finite(message){return this._addCheck({kind:"finite",message:errorUtil.toString(message)})}safe(message){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:errorUtil.toString(message)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:errorUtil.toString(message)})}get minValue(){let min=null;for(const ch of this._def.checks)"min"===ch.kind&&(null===min||ch.value>min)&&(min=ch.value);return min}get maxValue(){let max=null;for(const ch of this._def.checks)"max"===ch.kind&&(null===max||ch.value<max)&&(max=ch.value);return max}get isInt(){return!!this._def.checks.find((ch=>"int"===ch.kind||"multipleOf"===ch.kind&&util_util.isInteger(ch.value)))}get isFinite(){let max=null,min=null;for(const ch of this._def.checks){if("finite"===ch.kind||"int"===ch.kind||"multipleOf"===ch.kind)return!0;"min"===ch.kind?(null===min||ch.value>min)&&(min=ch.value):"max"===ch.kind&&(null===max||ch.value<max)&&(max=ch.value)}return Number.isFinite(min)&&Number.isFinite(max)}}ZodNumber.create=params=>new ZodNumber({checks:[],typeName:ZodFirstPartyTypeKind.ZodNumber,coerce:params?.coerce||!1,...processCreateParams(params)});class ZodBigInt extends ZodType{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(input){if(this._def.coerce)try{input.data=BigInt(input.data)}catch{return this._getInvalidInput(input)}if(this._getType(input)!==ZodParsedType.bigint)return this._getInvalidInput(input);let ctx;const status=new ParseStatus;for(const check of this._def.checks)if("min"===check.kind){(check.inclusive?input.data<check.value:input.data<=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,type:"bigint",minimum:check.value,inclusive:check.inclusive,message:check.message}),status.dirty())}else if("max"===check.kind){(check.inclusive?input.data>check.value:input.data>=check.value)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,type:"bigint",maximum:check.value,inclusive:check.inclusive,message:check.message}),status.dirty())}else"multipleOf"===check.kind?input.data%check.value!==BigInt(0)&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.not_multiple_of,multipleOf:check.value,message:check.message}),status.dirty()):util_util.assertNever(check);return{status:status.value,value:input.data}}_getInvalidInput(input){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.bigint,received:ctx.parsedType}),parseUtil_INVALID}gte(value,message){return this.setLimit("min",value,!0,errorUtil.toString(message))}gt(value,message){return this.setLimit("min",value,!1,errorUtil.toString(message))}lte(value,message){return this.setLimit("max",value,!0,errorUtil.toString(message))}lt(value,message){return this.setLimit("max",value,!1,errorUtil.toString(message))}setLimit(kind,value,inclusive,message){return new ZodBigInt({...this._def,checks:[...this._def.checks,{kind,value,inclusive,message:errorUtil.toString(message)}]})}_addCheck(check){return new ZodBigInt({...this._def,checks:[...this._def.checks,check]})}positive(message){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:errorUtil.toString(message)})}negative(message){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:errorUtil.toString(message)})}nonpositive(message){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:errorUtil.toString(message)})}nonnegative(message){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:errorUtil.toString(message)})}multipleOf(value,message){return this._addCheck({kind:"multipleOf",value,message:errorUtil.toString(message)})}get minValue(){let min=null;for(const ch of this._def.checks)"min"===ch.kind&&(null===min||ch.value>min)&&(min=ch.value);return min}get maxValue(){let max=null;for(const ch of this._def.checks)"max"===ch.kind&&(null===max||ch.value<max)&&(max=ch.value);return max}}ZodBigInt.create=params=>new ZodBigInt({checks:[],typeName:ZodFirstPartyTypeKind.ZodBigInt,coerce:params?.coerce??!1,...processCreateParams(params)});class ZodBoolean extends ZodType{_parse(input){this._def.coerce&&(input.data=Boolean(input.data));if(this._getType(input)!==ZodParsedType.boolean){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.boolean,received:ctx.parsedType}),parseUtil_INVALID}return OK(input.data)}}ZodBoolean.create=params=>new ZodBoolean({typeName:ZodFirstPartyTypeKind.ZodBoolean,coerce:params?.coerce||!1,...processCreateParams(params)});class ZodDate extends ZodType{_parse(input){this._def.coerce&&(input.data=new Date(input.data));if(this._getType(input)!==ZodParsedType.date){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.date,received:ctx.parsedType}),parseUtil_INVALID}if(Number.isNaN(input.data.getTime())){return addIssueToContext(this._getOrReturnCtx(input),{code:ZodIssueCode.invalid_date}),parseUtil_INVALID}const status=new ParseStatus;let ctx;for(const check of this._def.checks)"min"===check.kind?input.data.getTime()<check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_small,message:check.message,inclusive:!0,exact:!1,minimum:check.value,type:"date"}),status.dirty()):"max"===check.kind?input.data.getTime()>check.value&&(ctx=this._getOrReturnCtx(input,ctx),addIssueToContext(ctx,{code:ZodIssueCode.too_big,message:check.message,inclusive:!0,exact:!1,maximum:check.value,type:"date"}),status.dirty()):util_util.assertNever(check);return{status:status.value,value:new Date(input.data.getTime())}}_addCheck(check){return new ZodDate({...this._def,checks:[...this._def.checks,check]})}min(minDate,message){return this._addCheck({kind:"min",value:minDate.getTime(),message:errorUtil.toString(message)})}max(maxDate,message){return this._addCheck({kind:"max",value:maxDate.getTime(),message:errorUtil.toString(message)})}get minDate(){let min=null;for(const ch of this._def.checks)"min"===ch.kind&&(null===min||ch.value>min)&&(min=ch.value);return null!=min?new Date(min):null}get maxDate(){let max=null;for(const ch of this._def.checks)"max"===ch.kind&&(null===max||ch.value<max)&&(max=ch.value);return null!=max?new Date(max):null}}ZodDate.create=params=>new ZodDate({checks:[],coerce:params?.coerce||!1,typeName:ZodFirstPartyTypeKind.ZodDate,...processCreateParams(params)});class ZodSymbol extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.symbol){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.symbol,received:ctx.parsedType}),parseUtil_INVALID}return OK(input.data)}}ZodSymbol.create=params=>new ZodSymbol({typeName:ZodFirstPartyTypeKind.ZodSymbol,...processCreateParams(params)});class ZodUndefined extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.undefined){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.undefined,received:ctx.parsedType}),parseUtil_INVALID}return OK(input.data)}}ZodUndefined.create=params=>new ZodUndefined({typeName:ZodFirstPartyTypeKind.ZodUndefined,...processCreateParams(params)});class ZodNull extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.null){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.null,received:ctx.parsedType}),parseUtil_INVALID}return OK(input.data)}}ZodNull.create=params=>new ZodNull({typeName:ZodFirstPartyTypeKind.ZodNull,...processCreateParams(params)});class ZodAny extends ZodType{constructor(){super(...arguments),this._any=!0}_parse(input){return OK(input.data)}}ZodAny.create=params=>new ZodAny({typeName:ZodFirstPartyTypeKind.ZodAny,...processCreateParams(params)});class ZodUnknown extends ZodType{constructor(){super(...arguments),this._unknown=!0}_parse(input){return OK(input.data)}}ZodUnknown.create=params=>new ZodUnknown({typeName:ZodFirstPartyTypeKind.ZodUnknown,...processCreateParams(params)});class ZodNever extends ZodType{_parse(input){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.never,received:ctx.parsedType}),parseUtil_INVALID}}ZodNever.create=params=>new ZodNever({typeName:ZodFirstPartyTypeKind.ZodNever,...processCreateParams(params)});class ZodVoid extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.undefined){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.void,received:ctx.parsedType}),parseUtil_INVALID}return OK(input.data)}}ZodVoid.create=params=>new ZodVoid({typeName:ZodFirstPartyTypeKind.ZodVoid,...processCreateParams(params)});class ZodArray extends ZodType{_parse(input){const{ctx,status}=this._processInputParams(input),def=this._def;if(ctx.parsedType!==ZodParsedType.array)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ctx.parsedType}),parseUtil_INVALID;if(null!==def.exactLength){const tooBig=ctx.data.length>def.exactLength.value,tooSmall=ctx.data.length<def.exactLength.value;(tooBig||tooSmall)&&(addIssueToContext(ctx,{code:tooBig?ZodIssueCode.too_big:ZodIssueCode.too_small,minimum:tooSmall?def.exactLength.value:void 0,maximum:tooBig?def.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:def.exactLength.message}),status.dirty())}if(null!==def.minLength&&ctx.data.length<def.minLength.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:def.minLength.value,type:"array",inclusive:!0,exact:!1,message:def.minLength.message}),status.dirty()),null!==def.maxLength&&ctx.data.length>def.maxLength.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:def.maxLength.value,type:"array",inclusive:!0,exact:!1,message:def.maxLength.message}),status.dirty()),ctx.common.async)return Promise.all([...ctx.data].map(((item,i)=>def.type._parseAsync(new ParseInputLazyPath(ctx,item,ctx.path,i))))).then((result=>ParseStatus.mergeArray(status,result)));const result=[...ctx.data].map(((item,i)=>def.type._parseSync(new ParseInputLazyPath(ctx,item,ctx.path,i))));return ParseStatus.mergeArray(status,result)}get element(){return this._def.type}min(minLength,message){return new ZodArray({...this._def,minLength:{value:minLength,message:errorUtil.toString(message)}})}max(maxLength,message){return new ZodArray({...this._def,maxLength:{value:maxLength,message:errorUtil.toString(message)}})}length(len,message){return new ZodArray({...this._def,exactLength:{value:len,message:errorUtil.toString(message)}})}nonempty(message){return this.min(1,message)}}function deepPartialify(schema){if(schema instanceof ZodObject){const newShape={};for(const key in schema.shape){const fieldSchema=schema.shape[key];newShape[key]=ZodOptional.create(deepPartialify(fieldSchema))}return new ZodObject({...schema._def,shape:()=>newShape})}return schema instanceof ZodArray?new ZodArray({...schema._def,type:deepPartialify(schema.element)}):schema instanceof ZodOptional?ZodOptional.create(deepPartialify(schema.unwrap())):schema instanceof ZodNullable?ZodNullable.create(deepPartialify(schema.unwrap())):schema instanceof ZodTuple?ZodTuple.create(schema.items.map((item=>deepPartialify(item)))):schema}ZodArray.create=(schema,params)=>new ZodArray({type:schema,minLength:null,maxLength:null,exactLength:null,typeName:ZodFirstPartyTypeKind.ZodArray,...processCreateParams(params)});class ZodObject extends ZodType{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const shape=this._def.shape(),keys=util_util.objectKeys(shape);return this._cached={shape,keys},this._cached}_parse(input){if(this._getType(input)!==ZodParsedType.object){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.object,received:ctx.parsedType}),parseUtil_INVALID}const{status,ctx}=this._processInputParams(input),{shape,keys:shapeKeys}=this._getCached(),extraKeys=[];if(!(this._def.catchall instanceof ZodNever&&"strip"===this._def.unknownKeys))for(const key in ctx.data)shapeKeys.includes(key)||extraKeys.push(key);const pairs=[];for(const key of shapeKeys){const keyValidator=shape[key],value=ctx.data[key];pairs.push({key:{status:"valid",value:key},value:keyValidator._parse(new ParseInputLazyPath(ctx,value,ctx.path,key)),alwaysSet:key in ctx.data})}if(this._def.catchall instanceof ZodNever){const unknownKeys=this._def.unknownKeys;if("passthrough"===unknownKeys)for(const key of extraKeys)pairs.push({key:{status:"valid",value:key},value:{status:"valid",value:ctx.data[key]}});else if("strict"===unknownKeys)extraKeys.length>0&&(addIssueToContext(ctx,{code:ZodIssueCode.unrecognized_keys,keys:extraKeys}),status.dirty());else if("strip"!==unknownKeys)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const catchall=this._def.catchall;for(const key of extraKeys){const value=ctx.data[key];pairs.push({key:{status:"valid",value:key},value:catchall._parse(new ParseInputLazyPath(ctx,value,ctx.path,key)),alwaysSet:key in ctx.data})}}return ctx.common.async?Promise.resolve().then((async()=>{const syncPairs=[];for(const pair of pairs){const key=await pair.key,value=await pair.value;syncPairs.push({key,value,alwaysSet:pair.alwaysSet})}return syncPairs})).then((syncPairs=>ParseStatus.mergeObjectSync(status,syncPairs))):ParseStatus.mergeObjectSync(status,pairs)}get shape(){return this._def.shape()}strict(message){return errorUtil.errToObj,new ZodObject({...this._def,unknownKeys:"strict",...void 0!==message?{errorMap:(issue,ctx)=>{const defaultError=this._def.errorMap?.(issue,ctx).message??ctx.defaultError;return"unrecognized_keys"===issue.code?{message:errorUtil.errToObj(message).message??defaultError}:{message:defaultError}}}:{}})}strip(){return new ZodObject({...this._def,unknownKeys:"strip"})}passthrough(){return new ZodObject({...this._def,unknownKeys:"passthrough"})}extend(augmentation){return new ZodObject({...this._def,shape:()=>({...this._def.shape(),...augmentation})})}merge(merging){return new ZodObject({unknownKeys:merging._def.unknownKeys,catchall:merging._def.catchall,shape:()=>({...this._def.shape(),...merging._def.shape()}),typeName:ZodFirstPartyTypeKind.ZodObject})}setKey(key,schema){return this.augment({[key]:schema})}catchall(index){return new ZodObject({...this._def,catchall:index})}pick(mask){const shape={};for(const key of util_util.objectKeys(mask))mask[key]&&this.shape[key]&&(shape[key]=this.shape[key]);return new ZodObject({...this._def,shape:()=>shape})}omit(mask){const shape={};for(const key of util_util.objectKeys(this.shape))mask[key]||(shape[key]=this.shape[key]);return new ZodObject({...this._def,shape:()=>shape})}deepPartial(){return deepPartialify(this)}partial(mask){const newShape={};for(const key of util_util.objectKeys(this.shape)){const fieldSchema=this.shape[key];mask&&!mask[key]?newShape[key]=fieldSchema:newShape[key]=fieldSchema.optional()}return new ZodObject({...this._def,shape:()=>newShape})}required(mask){const newShape={};for(const key of util_util.objectKeys(this.shape))if(mask&&!mask[key])newShape[key]=this.shape[key];else{let newField=this.shape[key];for(;newField instanceof ZodOptional;)newField=newField._def.innerType;newShape[key]=newField}return new ZodObject({...this._def,shape:()=>newShape})}keyof(){return createZodEnum(util_util.objectKeys(this.shape))}}ZodObject.create=(shape,params)=>new ZodObject({shape:()=>shape,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(params)}),ZodObject.strictCreate=(shape,params)=>new ZodObject({shape:()=>shape,unknownKeys:"strict",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(params)}),ZodObject.lazycreate=(shape,params)=>new ZodObject({shape,unknownKeys:"strip",catchall:ZodNever.create(),typeName:ZodFirstPartyTypeKind.ZodObject,...processCreateParams(params)});class ZodUnion extends ZodType{_parse(input){const{ctx}=this._processInputParams(input),options=this._def.options;if(ctx.common.async)return Promise.all(options.map((async option=>{const childCtx={...ctx,common:{...ctx.common,issues:[]},parent:null};return{result:await option._parseAsync({data:ctx.data,path:ctx.path,parent:childCtx}),ctx:childCtx}}))).then((function handleResults(results){for(const result of results)if("valid"===result.result.status)return result.result;for(const result of results)if("dirty"===result.result.status)return ctx.common.issues.push(...result.ctx.common.issues),result.result;const unionErrors=results.map((result=>new ZodError_ZodError(result.ctx.common.issues)));return addIssueToContext(ctx,{code:ZodIssueCode.invalid_union,unionErrors}),parseUtil_INVALID}));{let dirty;const issues=[];for(const option of options){const childCtx={...ctx,common:{...ctx.common,issues:[]},parent:null},result=option._parseSync({data:ctx.data,path:ctx.path,parent:childCtx});if("valid"===result.status)return result;"dirty"!==result.status||dirty||(dirty={result,ctx:childCtx}),childCtx.common.issues.length&&issues.push(childCtx.common.issues)}if(dirty)return ctx.common.issues.push(...dirty.ctx.common.issues),dirty.result;const unionErrors=issues.map((issues=>new ZodError_ZodError(issues)));return addIssueToContext(ctx,{code:ZodIssueCode.invalid_union,unionErrors}),parseUtil_INVALID}}get options(){return this._def.options}}ZodUnion.create=(types,params)=>new ZodUnion({options:types,typeName:ZodFirstPartyTypeKind.ZodUnion,...processCreateParams(params)});function mergeValues(a,b){const aType=util_getParsedType(a),bType=util_getParsedType(b);if(a===b)return{valid:!0,data:a};if(aType===ZodParsedType.object&&bType===ZodParsedType.object){const bKeys=util_util.objectKeys(b),sharedKeys=util_util.objectKeys(a).filter((key=>-1!==bKeys.indexOf(key))),newObj={...a,...b};for(const key of sharedKeys){const sharedValue=mergeValues(a[key],b[key]);if(!sharedValue.valid)return{valid:!1};newObj[key]=sharedValue.data}return{valid:!0,data:newObj}}if(aType===ZodParsedType.array&&bType===ZodParsedType.array){if(a.length!==b.length)return{valid:!1};const newArray=[];for(let index=0;index<a.length;index++){const sharedValue=mergeValues(a[index],b[index]);if(!sharedValue.valid)return{valid:!1};newArray.push(sharedValue.data)}return{valid:!0,data:newArray}}return aType===ZodParsedType.date&&bType===ZodParsedType.date&&+a==+b?{valid:!0,data:a}:{valid:!1}}class ZodIntersection extends ZodType{_parse(input){const{status,ctx}=this._processInputParams(input),handleParsed=(parsedLeft,parsedRight)=>{if(isAborted(parsedLeft)||isAborted(parsedRight))return parseUtil_INVALID;const merged=mergeValues(parsedLeft.value,parsedRight.value);return merged.valid?((isDirty(parsedLeft)||isDirty(parsedRight))&&status.dirty(),{status:status.value,value:merged.data}):(addIssueToContext(ctx,{code:ZodIssueCode.invalid_intersection_types}),parseUtil_INVALID)};return ctx.common.async?Promise.all([this._def.left._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}),this._def.right._parseAsync({data:ctx.data,path:ctx.path,parent:ctx})]).then((([left,right])=>handleParsed(left,right))):handleParsed(this._def.left._parseSync({data:ctx.data,path:ctx.path,parent:ctx}),this._def.right._parseSync({data:ctx.data,path:ctx.path,parent:ctx}))}}ZodIntersection.create=(left,right,params)=>new ZodIntersection({left,right,typeName:ZodFirstPartyTypeKind.ZodIntersection,...processCreateParams(params)});class ZodTuple extends ZodType{_parse(input){const{status,ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.array)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.array,received:ctx.parsedType}),parseUtil_INVALID;if(ctx.data.length<this._def.items.length)return addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),parseUtil_INVALID;!this._def.rest&&ctx.data.length>this._def.items.length&&(addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),status.dirty());const items=[...ctx.data].map(((item,itemIndex)=>{const schema=this._def.items[itemIndex]||this._def.rest;return schema?schema._parse(new ParseInputLazyPath(ctx,item,ctx.path,itemIndex)):null})).filter((x=>!!x));return ctx.common.async?Promise.all(items).then((results=>ParseStatus.mergeArray(status,results))):ParseStatus.mergeArray(status,items)}get items(){return this._def.items}rest(rest){return new ZodTuple({...this._def,rest})}}ZodTuple.create=(schemas,params)=>{if(!Array.isArray(schemas))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new ZodTuple({items:schemas,typeName:ZodFirstPartyTypeKind.ZodTuple,rest:null,...processCreateParams(params)})};class ZodMap extends ZodType{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(input){const{status,ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.map)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.map,received:ctx.parsedType}),parseUtil_INVALID;const keyType=this._def.keyType,valueType=this._def.valueType,pairs=[...ctx.data.entries()].map((([key,value],index)=>({key:keyType._parse(new ParseInputLazyPath(ctx,key,ctx.path,[index,"key"])),value:valueType._parse(new ParseInputLazyPath(ctx,value,ctx.path,[index,"value"]))})));if(ctx.common.async){const finalMap=new Map;return Promise.resolve().then((async()=>{for(const pair of pairs){const key=await pair.key,value=await pair.value;if("aborted"===key.status||"aborted"===value.status)return parseUtil_INVALID;"dirty"!==key.status&&"dirty"!==value.status||status.dirty(),finalMap.set(key.value,value.value)}return{status:status.value,value:finalMap}}))}{const finalMap=new Map;for(const pair of pairs){const key=pair.key,value=pair.value;if("aborted"===key.status||"aborted"===value.status)return parseUtil_INVALID;"dirty"!==key.status&&"dirty"!==value.status||status.dirty(),finalMap.set(key.value,value.value)}return{status:status.value,value:finalMap}}}}ZodMap.create=(keyType,valueType,params)=>new ZodMap({valueType,keyType,typeName:ZodFirstPartyTypeKind.ZodMap,...processCreateParams(params)});class ZodSet extends ZodType{_parse(input){const{status,ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.set)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.set,received:ctx.parsedType}),parseUtil_INVALID;const def=this._def;null!==def.minSize&&ctx.data.size<def.minSize.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_small,minimum:def.minSize.value,type:"set",inclusive:!0,exact:!1,message:def.minSize.message}),status.dirty()),null!==def.maxSize&&ctx.data.size>def.maxSize.value&&(addIssueToContext(ctx,{code:ZodIssueCode.too_big,maximum:def.maxSize.value,type:"set",inclusive:!0,exact:!1,message:def.maxSize.message}),status.dirty());const valueType=this._def.valueType;function finalizeSet(elements){const parsedSet=new Set;for(const element of elements){if("aborted"===element.status)return parseUtil_INVALID;"dirty"===element.status&&status.dirty(),parsedSet.add(element.value)}return{status:status.value,value:parsedSet}}const elements=[...ctx.data.values()].map(((item,i)=>valueType._parse(new ParseInputLazyPath(ctx,item,ctx.path,i))));return ctx.common.async?Promise.all(elements).then((elements=>finalizeSet(elements))):finalizeSet(elements)}min(minSize,message){return new ZodSet({...this._def,minSize:{value:minSize,message:errorUtil.toString(message)}})}max(maxSize,message){return new ZodSet({...this._def,maxSize:{value:maxSize,message:errorUtil.toString(message)}})}size(size,message){return this.min(size,message).max(size,message)}nonempty(message){return this.min(1,message)}}ZodSet.create=(valueType,params)=>new ZodSet({valueType,minSize:null,maxSize:null,typeName:ZodFirstPartyTypeKind.ZodSet,...processCreateParams(params)});class ZodLazy extends ZodType{get schema(){return this._def.getter()}_parse(input){const{ctx}=this._processInputParams(input);return this._def.getter()._parse({data:ctx.data,path:ctx.path,parent:ctx})}}ZodLazy.create=(getter,params)=>new ZodLazy({getter,typeName:ZodFirstPartyTypeKind.ZodLazy,...processCreateParams(params)});class ZodLiteral extends ZodType{_parse(input){if(input.data!==this._def.value){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{received:ctx.data,code:ZodIssueCode.invalid_literal,expected:this._def.value}),parseUtil_INVALID}return{status:"valid",value:input.data}}get value(){return this._def.value}}function createZodEnum(values,params){return new ZodEnum({values,typeName:ZodFirstPartyTypeKind.ZodEnum,...processCreateParams(params)})}ZodLiteral.create=(value,params)=>new ZodLiteral({value,typeName:ZodFirstPartyTypeKind.ZodLiteral,...processCreateParams(params)});class ZodEnum extends ZodType{_parse(input){if("string"!=typeof input.data){const ctx=this._getOrReturnCtx(input),expectedValues=this._def.values;return addIssueToContext(ctx,{expected:util_util.joinValues(expectedValues),received:ctx.parsedType,code:ZodIssueCode.invalid_type}),parseUtil_INVALID}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(input.data)){const ctx=this._getOrReturnCtx(input),expectedValues=this._def.values;return addIssueToContext(ctx,{received:ctx.data,code:ZodIssueCode.invalid_enum_value,options:expectedValues}),parseUtil_INVALID}return OK(input.data)}get options(){return this._def.values}get enum(){const enumValues={};for(const val of this._def.values)enumValues[val]=val;return enumValues}get Values(){const enumValues={};for(const val of this._def.values)enumValues[val]=val;return enumValues}get Enum(){const enumValues={};for(const val of this._def.values)enumValues[val]=val;return enumValues}extract(values,newDef=this._def){return ZodEnum.create(values,{...this._def,...newDef})}exclude(values,newDef=this._def){return ZodEnum.create(this.options.filter((opt=>!values.includes(opt))),{...this._def,...newDef})}}ZodEnum.create=createZodEnum;class ZodNativeEnum extends ZodType{_parse(input){const nativeEnumValues=util_util.getValidEnumValues(this._def.values),ctx=this._getOrReturnCtx(input);if(ctx.parsedType!==ZodParsedType.string&&ctx.parsedType!==ZodParsedType.number){const expectedValues=util_util.objectValues(nativeEnumValues);return addIssueToContext(ctx,{expected:util_util.joinValues(expectedValues),received:ctx.parsedType,code:ZodIssueCode.invalid_type}),parseUtil_INVALID}if(this._cache||(this._cache=new Set(util_util.getValidEnumValues(this._def.values))),!this._cache.has(input.data)){const expectedValues=util_util.objectValues(nativeEnumValues);return addIssueToContext(ctx,{received:ctx.data,code:ZodIssueCode.invalid_enum_value,options:expectedValues}),parseUtil_INVALID}return OK(input.data)}get enum(){return this._def.values}}ZodNativeEnum.create=(values,params)=>new ZodNativeEnum({values,typeName:ZodFirstPartyTypeKind.ZodNativeEnum,...processCreateParams(params)});class ZodPromise extends ZodType{unwrap(){return this._def.type}_parse(input){const{ctx}=this._processInputParams(input);if(ctx.parsedType!==ZodParsedType.promise&&!1===ctx.common.async)return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.promise,received:ctx.parsedType}),parseUtil_INVALID;const promisified=ctx.parsedType===ZodParsedType.promise?ctx.data:Promise.resolve(ctx.data);return OK(promisified.then((data=>this._def.type.parseAsync(data,{path:ctx.path,errorMap:ctx.common.contextualErrorMap}))))}}ZodPromise.create=(schema,params)=>new ZodPromise({type:schema,typeName:ZodFirstPartyTypeKind.ZodPromise,...processCreateParams(params)});class ZodEffects extends ZodType{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ZodFirstPartyTypeKind.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(input){const{status,ctx}=this._processInputParams(input),effect=this._def.effect||null,checkCtx={addIssue:arg=>{addIssueToContext(ctx,arg),arg.fatal?status.abort():status.dirty()},get path(){return ctx.path}};if(checkCtx.addIssue=checkCtx.addIssue.bind(checkCtx),"preprocess"===effect.type){const processed=effect.transform(ctx.data,checkCtx);if(ctx.common.async)return Promise.resolve(processed).then((async processed=>{if("aborted"===status.value)return parseUtil_INVALID;const result=await this._def.schema._parseAsync({data:processed,path:ctx.path,parent:ctx});return"aborted"===result.status?parseUtil_INVALID:"dirty"===result.status||"dirty"===status.value?DIRTY(result.value):result}));{if("aborted"===status.value)return parseUtil_INVALID;const result=this._def.schema._parseSync({data:processed,path:ctx.path,parent:ctx});return"aborted"===result.status?parseUtil_INVALID:"dirty"===result.status||"dirty"===status.value?DIRTY(result.value):result}}if("refinement"===effect.type){const executeRefinement=acc=>{const result=effect.refinement(acc,checkCtx);if(ctx.common.async)return Promise.resolve(result);if(result instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return acc};if(!1===ctx.common.async){const inner=this._def.schema._parseSync({data:ctx.data,path:ctx.path,parent:ctx});return"aborted"===inner.status?parseUtil_INVALID:("dirty"===inner.status&&status.dirty(),executeRefinement(inner.value),{status:status.value,value:inner.value})}return this._def.schema._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}).then((inner=>"aborted"===inner.status?parseUtil_INVALID:("dirty"===inner.status&&status.dirty(),executeRefinement(inner.value).then((()=>({status:status.value,value:inner.value}))))))}if("transform"===effect.type){if(!1===ctx.common.async){const base=this._def.schema._parseSync({data:ctx.data,path:ctx.path,parent:ctx});if(!isValid(base))return parseUtil_INVALID;const result=effect.transform(base.value,checkCtx);if(result instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:status.value,value:result}}return this._def.schema._parseAsync({data:ctx.data,path:ctx.path,parent:ctx}).then((base=>isValid(base)?Promise.resolve(effect.transform(base.value,checkCtx)).then((result=>({status:status.value,value:result}))):parseUtil_INVALID))}util_util.assertNever(effect)}}ZodEffects.create=(schema,effect,params)=>new ZodEffects({schema,typeName:ZodFirstPartyTypeKind.ZodEffects,effect,...processCreateParams(params)}),ZodEffects.createWithPreprocess=(preprocess,schema,params)=>new ZodEffects({schema,effect:{type:"preprocess",transform:preprocess},typeName:ZodFirstPartyTypeKind.ZodEffects,...processCreateParams(params)});class ZodOptional extends ZodType{_parse(input){return this._getType(input)===ZodParsedType.undefined?OK(void 0):this._def.innerType._parse(input)}unwrap(){return this._def.innerType}}ZodOptional.create=(type,params)=>new ZodOptional({innerType:type,typeName:ZodFirstPartyTypeKind.ZodOptional,...processCreateParams(params)});class ZodNullable extends ZodType{_parse(input){return this._getType(input)===ZodParsedType.null?OK(null):this._def.innerType._parse(input)}unwrap(){return this._def.innerType}}ZodNullable.create=(type,params)=>new ZodNullable({innerType:type,typeName:ZodFirstPartyTypeKind.ZodNullable,...processCreateParams(params)});class ZodDefault extends ZodType{_parse(input){const{ctx}=this._processInputParams(input);let data=ctx.data;return ctx.parsedType===ZodParsedType.undefined&&(data=this._def.defaultValue()),this._def.innerType._parse({data,path:ctx.path,parent:ctx})}removeDefault(){return this._def.innerType}}ZodDefault.create=(type,params)=>new ZodDefault({innerType:type,typeName:ZodFirstPartyTypeKind.ZodDefault,defaultValue:"function"==typeof params.default?params.default:()=>params.default,...processCreateParams(params)});class ZodCatch extends ZodType{_parse(input){const{ctx}=this._processInputParams(input),newCtx={...ctx,common:{...ctx.common,issues:[]}},result=this._def.innerType._parse({data:newCtx.data,path:newCtx.path,parent:{...newCtx}});return isAsync(result)?result.then((result=>({status:"valid",value:"valid"===result.status?result.value:this._def.catchValue({get error(){return new ZodError_ZodError(newCtx.common.issues)},input:newCtx.data})}))):{status:"valid",value:"valid"===result.status?result.value:this._def.catchValue({get error(){return new ZodError_ZodError(newCtx.common.issues)},input:newCtx.data})}}removeCatch(){return this._def.innerType}}ZodCatch.create=(type,params)=>new ZodCatch({innerType:type,typeName:ZodFirstPartyTypeKind.ZodCatch,catchValue:"function"==typeof params.catch?params.catch:()=>params.catch,...processCreateParams(params)});class ZodNaN extends ZodType{_parse(input){if(this._getType(input)!==ZodParsedType.nan){const ctx=this._getOrReturnCtx(input);return addIssueToContext(ctx,{code:ZodIssueCode.invalid_type,expected:ZodParsedType.nan,received:ctx.parsedType}),parseUtil_INVALID}return{status:"valid",value:input.data}}}ZodNaN.create=params=>new ZodNaN({typeName:ZodFirstPartyTypeKind.ZodNaN,...processCreateParams(params)});Symbol("zod_brand");class ZodBranded extends ZodType{_parse(input){const{ctx}=this._processInputParams(input),data=ctx.data;return this._def.type._parse({data,path:ctx.path,parent:ctx})}unwrap(){return this._def.type}}class ZodPipeline extends ZodType{_parse(input){const{status,ctx}=this._processInputParams(input);if(ctx.common.async){return(async()=>{const inResult=await this._def.in._parseAsync({data:ctx.data,path:ctx.path,parent:ctx});return"aborted"===inResult.status?parseUtil_INVALID:"dirty"===inResult.status?(status.dirty(),DIRTY(inResult.value)):this._def.out._parseAsync({data:inResult.value,path:ctx.path,parent:ctx})})()}{const inResult=this._def.in._parseSync({data:ctx.data,path:ctx.path,parent:ctx});return"aborted"===inResult.status?parseUtil_INVALID:"dirty"===inResult.status?(status.dirty(),{status:"dirty",value:inResult.value}):this._def.out._parseSync({data:inResult.value,path:ctx.path,parent:ctx})}}static create(a,b){return new ZodPipeline({in:a,out:b,typeName:ZodFirstPartyTypeKind.ZodPipeline})}}class ZodReadonly extends ZodType{_parse(input){const result=this._def.innerType._parse(input),freeze=data=>(isValid(data)&&(data.value=Object.freeze(data.value)),data);return isAsync(result)?result.then((data=>freeze(data))):freeze(result)}unwrap(){return this._def.innerType}}ZodReadonly.create=(type,params)=>new ZodReadonly({innerType:type,typeName:ZodFirstPartyTypeKind.ZodReadonly,...processCreateParams(params)});ZodObject.lazycreate;var ZodFirstPartyTypeKind;!function(ZodFirstPartyTypeKind){ZodFirstPartyTypeKind.ZodString="ZodString",ZodFirstPartyTypeKind.ZodNumber="ZodNumber",ZodFirstPartyTypeKind.ZodNaN="ZodNaN",ZodFirstPartyTypeKind.ZodBigInt="ZodBigInt",ZodFirstPartyTypeKind.ZodBoolean="ZodBoolean",ZodFirstPartyTypeKind.ZodDate="ZodDate",ZodFirstPartyTypeKind.ZodSymbol="ZodSymbol",ZodFirstPartyTypeKind.ZodUndefined="ZodUndefined",ZodFirstPartyTypeKind.ZodNull="ZodNull",ZodFirstPartyTypeKind.ZodAny="ZodAny",ZodFirstPartyTypeKind.ZodUnknown="ZodUnknown",ZodFirstPartyTypeKind.ZodNever="ZodNever",ZodFirstPartyTypeKind.ZodVoid="ZodVoid",ZodFirstPartyTypeKind.ZodArray="ZodArray",ZodFirstPartyTypeKind.ZodObject="ZodObject",ZodFirstPartyTypeKind.ZodUnion="ZodUnion",ZodFirstPartyTypeKind.ZodDiscriminatedUnion="ZodDiscriminatedUnion",ZodFirstPartyTypeKind.ZodIntersection="ZodIntersection",ZodFirstPartyTypeKind.ZodTuple="ZodTuple",ZodFirstPartyTypeKind.ZodRecord="ZodRecord",ZodFirstPartyTypeKind.ZodMap="ZodMap",ZodFirstPartyTypeKind.ZodSet="ZodSet",ZodFirstPartyTypeKind.ZodFunction="ZodFunction",ZodFirstPartyTypeKind.ZodLazy="ZodLazy",ZodFirstPartyTypeKind.ZodLiteral="ZodLiteral",ZodFirstPartyTypeKind.ZodEnum="ZodEnum",ZodFirstPartyTypeKind.ZodEffects="ZodEffects",ZodFirstPartyTypeKind.ZodNativeEnum="ZodNativeEnum",ZodFirstPartyTypeKind.ZodOptional="ZodOptional",ZodFirstPartyTypeKind.ZodNullable="ZodNullable",ZodFirstPartyTypeKind.ZodDefault="ZodDefault",ZodFirstPartyTypeKind.ZodCatch="ZodCatch",ZodFirstPartyTypeKind.ZodPromise="ZodPromise",ZodFirstPartyTypeKind.ZodBranded="ZodBranded",ZodFirstPartyTypeKind.ZodPipeline="ZodPipeline",ZodFirstPartyTypeKind.ZodReadonly="ZodReadonly"}(ZodFirstPartyTypeKind||(ZodFirstPartyTypeKind={}));ZodString.create,ZodNumber.create,ZodNaN.create,ZodBigInt.create,ZodBoolean.create,ZodDate.create,ZodSymbol.create,ZodUndefined.create,ZodNull.create,ZodAny.create,ZodUnknown.create,ZodNever.create,ZodVoid.create,ZodArray.create,ZodObject.create,ZodObject.strictCreate,ZodUnion.create,ZodIntersection.create,ZodTuple.create,ZodMap.create,ZodSet.create,ZodLazy.create,ZodLiteral.create,ZodEnum.create,ZodNativeEnum.create,ZodPromise.create,ZodEffects.create,ZodOptional.create,ZodNullable.create,ZodEffects.createWithPreprocess,ZodPipeline.create;__webpack_require__("./node_modules/.pnpm/process@0.11.10/node_modules/process/browser.js");var dist_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");function dist_getRuntimeEnvironmentUserAgent(globalThisAny=globalThis){var _a,_b,_c;return globalThisAny.window?"runtime/browser":(null==(_a=globalThisAny.navigator)?void 0:_a.userAgent)?`runtime/${globalThisAny.navigator.userAgent.toLowerCase()}`:(null==(_c=null==(_b=globalThisAny.process)?void 0:_b.versions)?void 0:_c.node)?`runtime/node.js/${globalThisAny.process.version.substring(0)}`:globalThisAny.EdgeRuntime?"runtime/vercel-edge":"runtime/unknown"}function dist_withUserAgentSuffix(headers,...userAgentSuffixParts){const cleanedHeaders=function removeUndefinedEntries(record){return Object.fromEntries(Object.entries(record).filter((([_key,value])=>null!=value)))}(null!=headers?headers:{}),normalizedHeaders=new Headers(cleanedHeaders),currentUserAgentHeader=normalizedHeaders.get("user-agent")||"";return normalizedHeaders.set("user-agent",[currentUserAgentHeader,...userAgentSuffixParts].filter(Boolean).join(" ")),Object.fromEntries(normalizedHeaders)}var createIdGenerator=({prefix,size=16,alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator="-"}={})=>{const generator=()=>{const alphabetLength=alphabet.length,chars=new Array(size);for(let i=0;i<size;i++)chars[i]=alphabet[Math.random()*alphabetLength|0];return chars.join("")};if(null==prefix)return generator;if(alphabet.includes(separator))throw new InvalidArgumentError({argument:"separator",message:`The separator "${separator}" must not be part of the alphabet "${alphabet}".`});return()=>`${prefix}${separator}${generator()}`},dist_generateId=createIdGenerator();var suspectProtoRx=/"__proto__"\s*:/,suspectConstructorRx=/"constructor"\s*:/;function dist_parse(text){const obj=JSON.parse(text);return null===obj||"object"!=typeof obj||!1===suspectProtoRx.test(text)&&!1===suspectConstructorRx.test(text)?obj:function filter(obj){let next=[obj];for(;next.length;){const nodes=next;next=[];for(const node of nodes){if(Object.prototype.hasOwnProperty.call(node,"__proto__"))throw new SyntaxError("Object contains forbidden prototype property");if(Object.prototype.hasOwnProperty.call(node,"constructor")&&Object.prototype.hasOwnProperty.call(node.constructor,"prototype"))throw new SyntaxError("Object contains forbidden prototype property");for(const key in node){const value=node[key];value&&"object"==typeof value&&next.push(value)}}}return obj}(obj)}function secureJsonParse(text){const{stackTraceLimit}=Error;Error.stackTraceLimit=0;try{return dist_parse(text)}finally{Error.stackTraceLimit=stackTraceLimit}}var validatorSymbol=Symbol.for("vercel.ai.validator");function asValidator(value){return function isValidator(value){return"object"==typeof value&&null!==value&&validatorSymbol in value&&!0===value[validatorSymbol]&&"validate"in value}(value)?value:function standardSchemaValidator(standardSchema){return function validator(validate){return{[validatorSymbol]:!0,validate}}((async value=>{const result=await standardSchema["~standard"].validate(value);return null==result.issues?{success:!0,value:result.value}:{success:!1,error:new TypeValidationError({value,cause:result.issues})}}))}(value)}async function validateTypes({value,schema}){const result=await dist_safeValidateTypes({value,schema});if(!result.success)throw TypeValidationError.wrap({value,cause:result.error});return result.value}async function dist_safeValidateTypes({value,schema}){const validator2=asValidator(schema);try{if(null==validator2.validate)return{success:!0,value,rawValue:value};const result=await validator2.validate(value);return result.success?{success:!0,value:result.value,rawValue:value}:{success:!1,error:TypeValidationError.wrap({value,cause:result.error}),rawValue:value}}catch(error){return{success:!1,error:TypeValidationError.wrap({value,cause:error}),rawValue:value}}}async function dist_safeParseJSON({text,schema}){try{const value=secureJsonParse(text);return null==schema?{success:!0,value,rawValue:value}:await dist_safeValidateTypes({value,schema})}catch(error){return{success:!1,error:dist_JSONParseError.isInstance(error)?error:new dist_JSONParseError({text,cause:error}),rawValue:void 0}}}function dist_parseJsonEventStream({stream,schema}){return stream.pipeThrough(new TextDecoderStream).pipeThrough(new stream_EventSourceParserStream).pipeThrough(new TransformStream({async transform({data},controller){"[DONE]"!==data&&controller.enqueue(await dist_safeParseJSON({text:data,schema}))}}))}async function resolve(value){return"function"==typeof value&&(value=value()),Promise.resolve(value)}var getRelativePath=(pathA,pathB)=>{let i=0;for(;i<pathA.length&&i<pathB.length&&pathA[i]===pathB[i];i++);return[(pathA.length-i).toString(),...pathB.slice(i)].join("/")},ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use"),defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",strictUnions:!1,definitions:{},errorMessages:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"};function parseBrandedDef(_def,refs){return parseDef(_def.type._def,refs)}function parseDateDef(def,refs,overrideDateStrategy){const strategy=null!=overrideDateStrategy?overrideDateStrategy:refs.dateStrategy;if(Array.isArray(strategy))return{anyOf:strategy.map(((item,i)=>parseDateDef(def,refs,item)))};switch(strategy){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return integerDateParser(def)}}var integerDateParser=def=>{const res={type:"integer",format:"unix-time"};for(const check of def.checks)switch(check.kind){case"min":res.minimum=check.value;break;case"max":res.maximum=check.value}return res};var dist_emojiRegex=void 0,zodPatterns_cuid=/^[cC][^\s-]{8,}$/,zodPatterns_cuid2=/^[0-9a-z]+$/,zodPatterns_ulid=/^[0-9A-HJKMNP-TV-Z]{26}$/,zodPatterns_email=/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,zodPatterns_emoji=()=>(void 0===dist_emojiRegex&&(dist_emojiRegex=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),dist_emojiRegex),zodPatterns_ipv4Cidr=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,zodPatterns_ipv6Cidr=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,zodPatterns_base64=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,zodPatterns_base64url=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zodPatterns_nanoid=/^[a-zA-Z0-9_-]{21}$/,zodPatterns_jwt=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/;function parseStringDef(def,refs){const res={type:"string"};if(def.checks)for(const check of def.checks)switch(check.kind){case"min":res.minLength="number"==typeof res.minLength?Math.max(res.minLength,check.value):check.value;break;case"max":res.maxLength="number"==typeof res.maxLength?Math.min(res.maxLength,check.value):check.value;break;case"email":switch(refs.emailStrategy){case"format:email":addFormat(res,"email",check.message,refs);break;case"format:idn-email":addFormat(res,"idn-email",check.message,refs);break;case"pattern:zod":addPattern(res,zodPatterns_email,check.message,refs)}break;case"url":addFormat(res,"uri",check.message,refs);break;case"uuid":addFormat(res,"uuid",check.message,refs);break;case"regex":addPattern(res,check.regex,check.message,refs);break;case"cuid":addPattern(res,zodPatterns_cuid,check.message,refs);break;case"cuid2":addPattern(res,zodPatterns_cuid2,check.message,refs);break;case"startsWith":addPattern(res,RegExp(`^${escapeLiteralCheckValue(check.value,refs)}`),check.message,refs);break;case"endsWith":addPattern(res,RegExp(`${escapeLiteralCheckValue(check.value,refs)}$`),check.message,refs);break;case"datetime":addFormat(res,"date-time",check.message,refs);break;case"date":addFormat(res,"date",check.message,refs);break;case"time":addFormat(res,"time",check.message,refs);break;case"duration":addFormat(res,"duration",check.message,refs);break;case"length":res.minLength="number"==typeof res.minLength?Math.max(res.minLength,check.value):check.value,res.maxLength="number"==typeof res.maxLength?Math.min(res.maxLength,check.value):check.value;break;case"includes":addPattern(res,RegExp(escapeLiteralCheckValue(check.value,refs)),check.message,refs);break;case"ip":"v6"!==check.version&&addFormat(res,"ipv4",check.message,refs),"v4"!==check.version&&addFormat(res,"ipv6",check.message,refs);break;case"base64url":addPattern(res,zodPatterns_base64url,check.message,refs);break;case"jwt":addPattern(res,zodPatterns_jwt,check.message,refs);break;case"cidr":"v6"!==check.version&&addPattern(res,zodPatterns_ipv4Cidr,check.message,refs),"v4"!==check.version&&addPattern(res,zodPatterns_ipv6Cidr,check.message,refs);break;case"emoji":addPattern(res,zodPatterns_emoji(),check.message,refs);break;case"ulid":addPattern(res,zodPatterns_ulid,check.message,refs);break;case"base64":switch(refs.base64Strategy){case"format:binary":addFormat(res,"binary",check.message,refs);break;case"contentEncoding:base64":res.contentEncoding="base64";break;case"pattern:zod":addPattern(res,zodPatterns_base64,check.message,refs)}break;case"nanoid":addPattern(res,zodPatterns_nanoid,check.message,refs)}return res}function escapeLiteralCheckValue(literal,refs){return"escape"===refs.patternStrategy?function escapeNonAlphaNumeric(source){let result="";for(let i=0;i<source.length;i++)ALPHA_NUMERIC.has(source[i])||(result+="\\"),result+=source[i];return result}(literal):literal}var ALPHA_NUMERIC=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function addFormat(schema,value,message,refs){var _a;schema.format||(null==(_a=schema.anyOf)?void 0:_a.some((x=>x.format)))?(schema.anyOf||(schema.anyOf=[]),schema.format&&(schema.anyOf.push({format:schema.format}),delete schema.format),schema.anyOf.push({format:value,...message&&refs.errorMessages&&{errorMessage:{format:message}}})):schema.format=value}function addPattern(schema,regex,message,refs){var _a;schema.pattern||(null==(_a=schema.allOf)?void 0:_a.some((x=>x.pattern)))?(schema.allOf||(schema.allOf=[]),schema.pattern&&(schema.allOf.push({pattern:schema.pattern}),delete schema.pattern),schema.allOf.push({pattern:stringifyRegExpWithFlags(regex,refs),...message&&refs.errorMessages&&{errorMessage:{pattern:message}}})):schema.pattern=stringifyRegExpWithFlags(regex,refs)}function stringifyRegExpWithFlags(regex,refs){var _a;if(!refs.applyRegexFlags||!regex.flags)return regex.source;const flags_i=regex.flags.includes("i"),flags_m=regex.flags.includes("m"),flags_s=regex.flags.includes("s"),source=flags_i?regex.source.toLowerCase():regex.source;let pattern="",isEscaped=!1,inCharGroup=!1,inCharRange=!1;for(let i=0;i<source.length;i++)if(isEscaped)pattern+=source[i],isEscaped=!1;else{if(flags_i)if(inCharGroup){if(source[i].match(/[a-z]/)){inCharRange?(pattern+=source[i],pattern+=`${source[i-2]}-${source[i]}`.toUpperCase(),inCharRange=!1):"-"===source[i+1]&&(null==(_a=source[i+2])?void 0:_a.match(/[a-z]/))?(pattern+=source[i],inCharRange=!0):pattern+=`${source[i]}${source[i].toUpperCase()}`;continue}}else if(source[i].match(/[a-z]/)){pattern+=`[${source[i]}${source[i].toUpperCase()}]`;continue}if(flags_m){if("^"===source[i]){pattern+="(^|(?<=[\r\n]))";continue}if("$"===source[i]){pattern+="($|(?=[\r\n]))";continue}}flags_s&&"."===source[i]?pattern+=inCharGroup?`${source[i]}\r\n`:`[${source[i]}\r\n]`:(pattern+=source[i],"\\"===source[i]?isEscaped=!0:inCharGroup&&"]"===source[i]?inCharGroup=!1:inCharGroup||"["!==source[i]||(inCharGroup=!0))}try{new RegExp(pattern)}catch(e){return dist_console.warn(`Could not convert regex pattern at ${refs.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),regex.source}return pattern}function parseRecordDef(def,refs){var _a,_b,_c,_d,_e,_f;const schema={type:"object",additionalProperties:null!=(_a=parseDef(def.valueType._def,{...refs,currentPath:[...refs.currentPath,"additionalProperties"]}))?_a:refs.allowedAdditionalProperties};if((null==(_b=def.keyType)?void 0:_b._def.typeName)===ZodFirstPartyTypeKind.ZodString&&(null==(_c=def.keyType._def.checks)?void 0:_c.length)){const{type,...keyType}=parseStringDef(def.keyType._def,refs);return{...schema,propertyNames:keyType}}if((null==(_d=def.keyType)?void 0:_d._def.typeName)===ZodFirstPartyTypeKind.ZodEnum)return{...schema,propertyNames:{enum:def.keyType._def.values}};if((null==(_e=def.keyType)?void 0:_e._def.typeName)===ZodFirstPartyTypeKind.ZodBranded&&def.keyType._def.type._def.typeName===ZodFirstPartyTypeKind.ZodString&&(null==(_f=def.keyType._def.type._def.checks)?void 0:_f.length)){const{type,...keyType}=parseBrandedDef(def.keyType._def,refs);return{...schema,propertyNames:keyType}}return schema}var primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};var asAnyOf=(def,refs)=>{const anyOf=(def.options instanceof Map?Array.from(def.options.values()):def.options).map(((x,i)=>parseDef(x._def,{...refs,currentPath:[...refs.currentPath,"anyOf",`${i}`]}))).filter((x=>!!x&&(!refs.strictUnions||"object"==typeof x&&Object.keys(x).length>0)));return anyOf.length?{anyOf}:void 0};function parseObjectDef(def,refs){const result={type:"object",properties:{}},required=[],shape=def.shape();for(const propName in shape){let propDef=shape[propName];if(void 0===propDef||void 0===propDef._def)continue;const propOptional=safeIsOptional(propDef),parsedDef=parseDef(propDef._def,{...refs,currentPath:[...refs.currentPath,"properties",propName],propertyPath:[...refs.currentPath,"properties",propName]});void 0!==parsedDef&&(result.properties[propName]=parsedDef,propOptional||required.push(propName))}required.length&&(result.required=required);const additionalProperties=function decideAdditionalProperties(def,refs){if("ZodNever"!==def.catchall._def.typeName)return parseDef(def.catchall._def,{...refs,currentPath:[...refs.currentPath,"additionalProperties"]});switch(def.unknownKeys){case"passthrough":return refs.allowedAdditionalProperties;case"strict":return refs.rejectedAdditionalProperties;case"strip":return"strict"===refs.removeAdditionalStrategy?refs.allowedAdditionalProperties:refs.rejectedAdditionalProperties}}(def,refs);return void 0!==additionalProperties&&(result.additionalProperties=additionalProperties),result}function safeIsOptional(schema){try{return schema.isOptional()}catch(e){return!0}}var selectParser=(def,typeName,refs)=>{switch(typeName){case ZodFirstPartyTypeKind.ZodString:return parseStringDef(def,refs);case ZodFirstPartyTypeKind.ZodNumber:return function parseNumberDef(def){const res={type:"number"};if(!def.checks)return res;for(const check of def.checks)switch(check.kind){case"int":res.type="integer";break;case"min":check.inclusive?res.minimum=check.value:res.exclusiveMinimum=check.value;break;case"max":check.inclusive?res.maximum=check.value:res.exclusiveMaximum=check.value;break;case"multipleOf":res.multipleOf=check.value}return res}(def);case ZodFirstPartyTypeKind.ZodObject:return parseObjectDef(def,refs);case ZodFirstPartyTypeKind.ZodBigInt:return function parseBigintDef(def){const res={type:"integer",format:"int64"};if(!def.checks)return res;for(const check of def.checks)switch(check.kind){case"min":check.inclusive?res.minimum=check.value:res.exclusiveMinimum=check.value;break;case"max":check.inclusive?res.maximum=check.value:res.exclusiveMaximum=check.value;break;case"multipleOf":res.multipleOf=check.value}return res}(def);case ZodFirstPartyTypeKind.ZodBoolean:return{type:"boolean"};case ZodFirstPartyTypeKind.ZodDate:return parseDateDef(def,refs);case ZodFirstPartyTypeKind.ZodUndefined:return{not:{}};case ZodFirstPartyTypeKind.ZodNull:return{type:"null"};case ZodFirstPartyTypeKind.ZodArray:return function parseArrayDef(def,refs){var _a,_b,_c;const res={type:"array"};return(null==(_a=def.type)?void 0:_a._def)&&(null==(_c=null==(_b=def.type)?void 0:_b._def)?void 0:_c.typeName)!==ZodFirstPartyTypeKind.ZodAny&&(res.items=parseDef(def.type._def,{...refs,currentPath:[...refs.currentPath,"items"]})),def.minLength&&(res.minItems=def.minLength.value),def.maxLength&&(res.maxItems=def.maxLength.value),def.exactLength&&(res.minItems=def.exactLength.value,res.maxItems=def.exactLength.value),res}(def,refs);case ZodFirstPartyTypeKind.ZodUnion:case ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return function parseUnionDef(def,refs){const options=def.options instanceof Map?Array.from(def.options.values()):def.options;if(options.every((x=>x._def.typeName in primitiveMappings&&(!x._def.checks||!x._def.checks.length)))){const types=options.reduce(((types2,x)=>{const type=primitiveMappings[x._def.typeName];return type&&!types2.includes(type)?[...types2,type]:types2}),[]);return{type:types.length>1?types:types[0]}}if(options.every((x=>"ZodLiteral"===x._def.typeName&&!x.description))){const types=options.reduce(((acc,x)=>{const type=typeof x._def.value;switch(type){case"string":case"number":case"boolean":return[...acc,type];case"bigint":return[...acc,"integer"];case"object":if(null===x._def.value)return[...acc,"null"];default:return acc}}),[]);if(types.length===options.length){const uniqueTypes=types.filter(((x,i,a)=>a.indexOf(x)===i));return{type:uniqueTypes.length>1?uniqueTypes:uniqueTypes[0],enum:options.reduce(((acc,x)=>acc.includes(x._def.value)?acc:[...acc,x._def.value]),[])}}}else if(options.every((x=>"ZodEnum"===x._def.typeName)))return{type:"string",enum:options.reduce(((acc,x)=>[...acc,...x._def.values.filter((x2=>!acc.includes(x2)))]),[])};return asAnyOf(def,refs)}(def,refs);case ZodFirstPartyTypeKind.ZodIntersection:return function parseIntersectionDef(def,refs){const allOf=[parseDef(def.left._def,{...refs,currentPath:[...refs.currentPath,"allOf","0"]}),parseDef(def.right._def,{...refs,currentPath:[...refs.currentPath,"allOf","1"]})].filter((x=>!!x)),mergedAllOf=[];return allOf.forEach((schema=>{if("type"in(type=schema)&&"string"===type.type||!("allOf"in type)){let nestedSchema=schema;if("additionalProperties"in schema&&!1===schema.additionalProperties){const{additionalProperties,...rest}=schema;nestedSchema=rest}mergedAllOf.push(nestedSchema)}else mergedAllOf.push(...schema.allOf);var type})),mergedAllOf.length?{allOf:mergedAllOf}:void 0}(def,refs);case ZodFirstPartyTypeKind.ZodTuple:return function parseTupleDef(def,refs){return def.rest?{type:"array",minItems:def.items.length,items:def.items.map(((x,i)=>parseDef(x._def,{...refs,currentPath:[...refs.currentPath,"items",`${i}`]}))).reduce(((acc,x)=>void 0===x?acc:[...acc,x]),[]),additionalItems:parseDef(def.rest._def,{...refs,currentPath:[...refs.currentPath,"additionalItems"]})}:{type:"array",minItems:def.items.length,maxItems:def.items.length,items:def.items.map(((x,i)=>parseDef(x._def,{...refs,currentPath:[...refs.currentPath,"items",`${i}`]}))).reduce(((acc,x)=>void 0===x?acc:[...acc,x]),[])}}(def,refs);case ZodFirstPartyTypeKind.ZodRecord:return parseRecordDef(def,refs);case ZodFirstPartyTypeKind.ZodLiteral:return function parseLiteralDef(def){const parsedType=typeof def.value;return"bigint"!==parsedType&&"number"!==parsedType&&"boolean"!==parsedType&&"string"!==parsedType?{type:Array.isArray(def.value)?"array":"object"}:{type:"bigint"===parsedType?"integer":parsedType,const:def.value}}(def);case ZodFirstPartyTypeKind.ZodEnum:return function parseEnumDef(def){return{type:"string",enum:Array.from(def.values)}}(def);case ZodFirstPartyTypeKind.ZodNativeEnum:return function parseNativeEnumDef(def){const object=def.values,actualValues=Object.keys(def.values).filter((key=>"number"!=typeof object[object[key]])).map((key=>object[key])),parsedTypes=Array.from(new Set(actualValues.map((values=>typeof values))));return{type:1===parsedTypes.length?"string"===parsedTypes[0]?"string":"number":["string","number"],enum:actualValues}}(def);case ZodFirstPartyTypeKind.ZodNullable:return function parseNullableDef(def,refs){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(def.innerType._def.typeName)&&(!def.innerType._def.checks||!def.innerType._def.checks.length))return{type:[primitiveMappings[def.innerType._def.typeName],"null"]};const base=parseDef(def.innerType._def,{...refs,currentPath:[...refs.currentPath,"anyOf","0"]});return base&&{anyOf:[base,{type:"null"}]}}(def,refs);case ZodFirstPartyTypeKind.ZodOptional:return((def,refs)=>{var _a;if(refs.currentPath.toString()===(null==(_a=refs.propertyPath)?void 0:_a.toString()))return parseDef(def.innerType._def,refs);const innerSchema=parseDef(def.innerType._def,{...refs,currentPath:[...refs.currentPath,"anyOf","1"]});return innerSchema?{anyOf:[{not:{}},innerSchema]}:{}})(def,refs);case ZodFirstPartyTypeKind.ZodMap:return function parseMapDef(def,refs){return"record"===refs.mapStrategy?parseRecordDef(def,refs):{type:"array",maxItems:125,items:{type:"array",items:[parseDef(def.keyType._def,{...refs,currentPath:[...refs.currentPath,"items","items","0"]})||{},parseDef(def.valueType._def,{...refs,currentPath:[...refs.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}(def,refs);case ZodFirstPartyTypeKind.ZodSet:return function parseSetDef(def,refs){const schema={type:"array",uniqueItems:!0,items:parseDef(def.valueType._def,{...refs,currentPath:[...refs.currentPath,"items"]})};return def.minSize&&(schema.minItems=def.minSize.value),def.maxSize&&(schema.maxItems=def.maxSize.value),schema}(def,refs);case ZodFirstPartyTypeKind.ZodLazy:return()=>def.getter()._def;case ZodFirstPartyTypeKind.ZodPromise:return function parsePromiseDef(def,refs){return parseDef(def.type._def,refs)}(def,refs);case ZodFirstPartyTypeKind.ZodNaN:case ZodFirstPartyTypeKind.ZodNever:return{not:{}};case ZodFirstPartyTypeKind.ZodEffects:return function parseEffectsDef(_def,refs){return"input"===refs.effectStrategy?parseDef(_def.schema._def,refs):{}}(def,refs);case ZodFirstPartyTypeKind.ZodAny:case ZodFirstPartyTypeKind.ZodUnknown:return{};case ZodFirstPartyTypeKind.ZodDefault:return function parseDefaultDef(_def,refs){return{...parseDef(_def.innerType._def,refs),default:_def.defaultValue()}}(def,refs);case ZodFirstPartyTypeKind.ZodBranded:return parseBrandedDef(def,refs);case ZodFirstPartyTypeKind.ZodReadonly:case ZodFirstPartyTypeKind.ZodCatch:return((def,refs)=>parseDef(def.innerType._def,refs))(def,refs);case ZodFirstPartyTypeKind.ZodPipeline:return((def,refs)=>{if("input"===refs.pipeStrategy)return parseDef(def.in._def,refs);if("output"===refs.pipeStrategy)return parseDef(def.out._def,refs);const a=parseDef(def.in._def,{...refs,currentPath:[...refs.currentPath,"allOf","0"]});return{allOf:[a,parseDef(def.out._def,{...refs,currentPath:[...refs.currentPath,"allOf",a?"1":"0"]})].filter((x=>void 0!==x))}})(def,refs);case ZodFirstPartyTypeKind.ZodFunction:case ZodFirstPartyTypeKind.ZodVoid:case ZodFirstPartyTypeKind.ZodSymbol:default:return}};function parseDef(def,refs,forceResolution=!1){var _a;const seenItem=refs.seen.get(def);if(refs.override){const overrideResult=null==(_a=refs.override)?void 0:_a.call(refs,def,refs,seenItem,forceResolution);if(overrideResult!==ignoreOverride)return overrideResult}if(seenItem&&!forceResolution){const seenSchema=get$ref(seenItem,refs);if(void 0!==seenSchema)return seenSchema}const newItem={def,path:refs.currentPath,jsonSchema:void 0};refs.seen.set(def,newItem);const jsonSchemaOrGetter=selectParser(def,def.typeName,refs),jsonSchema2="function"==typeof jsonSchemaOrGetter?parseDef(jsonSchemaOrGetter(),refs):jsonSchemaOrGetter;if(jsonSchema2&&addMeta(def,refs,jsonSchema2),refs.postProcess){const postProcessResult=refs.postProcess(jsonSchema2,def,refs);return newItem.jsonSchema=jsonSchema2,postProcessResult}return newItem.jsonSchema=jsonSchema2,jsonSchema2}var get$ref=(item,refs)=>{switch(refs.$refStrategy){case"root":return{$ref:item.path.join("/")};case"relative":return{$ref:getRelativePath(refs.currentPath,item.path)};case"none":case"seen":return item.path.length<refs.currentPath.length&&item.path.every(((value,index)=>refs.currentPath[index]===value))?(dist_console.warn(`Recursive reference detected at ${refs.currentPath.join("/")}! Defaulting to any`),{}):"seen"===refs.$refStrategy?{}:void 0}},addMeta=(def,refs,jsonSchema2)=>(def.description&&(jsonSchema2.description=def.description),jsonSchema2),getRefs=options=>{const _options=(options=>"string"==typeof options?{...defaultOptions,name:options}:{...defaultOptions,...options})(options),currentPath=void 0!==_options.name?[..._options.basePath,_options.definitionPath,_options.name]:_options.basePath;return{..._options,currentPath,propertyPath:void 0,seen:new Map(Object.entries(_options.definitions).map((([name,def])=>[def._def,{def:def._def,path:[..._options.basePath,_options.definitionPath,name],jsonSchema:void 0}])))}},zod_to_json_schema_default=(schema,options)=>{var _a;const refs=getRefs(options);let definitions="object"==typeof options&&options.definitions?Object.entries(options.definitions).reduce(((acc,[name2,schema2])=>{var _a2;return{...acc,[name2]:null!=(_a2=parseDef(schema2._def,{...refs,currentPath:[...refs.basePath,refs.definitionPath,name2]},!0))?_a2:{}}}),{}):void 0;const name="string"==typeof options?options:"title"===(null==options?void 0:options.nameStrategy)||null==options?void 0:options.name,main=null!=(_a=parseDef(schema._def,void 0===name?refs:{...refs,currentPath:[...refs.basePath,refs.definitionPath,name]},!1))?_a:{},title="object"==typeof options&&void 0!==options.name&&"title"===options.nameStrategy?options.name:void 0;void 0!==title&&(main.title=title);const combined=void 0===name?definitions?{...main,[refs.definitionPath]:definitions}:main:{$ref:[..."relative"===refs.$refStrategy?[]:refs.basePath,refs.definitionPath,name].join("/"),[refs.definitionPath]:{...definitions,[name]:main}};return combined.$schema="http://json-schema.org/draft-07/schema#",combined};function zod4Schema(zodSchema2,options){var _a;const useReferences=null!=(_a=null==options?void 0:options.useReferences)&&_a;return dist_jsonSchema(function toJSONSchema(input,_params){if(input instanceof $ZodRegistry){const gen=new JSONSchemaGenerator(_params),defs={};for(const entry of input._idmap.entries()){const[_,schema]=entry;gen.process(schema)}const schemas={},external={registry:input,uri:_params?.uri,defs};for(const entry of input._idmap.entries()){const[key,schema]=entry;schemas[key]=gen.emit(schema,{..._params,external})}if(Object.keys(defs).length>0){const defsSegment="draft-2020-12"===gen.target?"$defs":"definitions";schemas.__shared={[defsSegment]:defs}}return{schemas}}const gen=new JSONSchemaGenerator(_params);return gen.process(input),gen.emit(input,_params)}(zodSchema2,{target:"draft-7",io:"output",reused:useReferences?"ref":"inline"}),{validate:async value=>{const result=await parse_safeParseAsync(zodSchema2,value);return result.success?{success:!0,value:result.data}:{success:!1,error:result.error}}})}function zodSchema(zodSchema2,options){return function isZod4Schema(zodSchema2){return"_zod"in zodSchema2}(zodSchema2)?zod4Schema(zodSchema2,options):function zod3Schema(zodSchema2,options){var _a;const useReferences=null!=(_a=null==options?void 0:options.useReferences)&&_a;return dist_jsonSchema(zod_to_json_schema_default(zodSchema2,{$refStrategy:useReferences?"root":"none"}),{validate:async value=>{const result=await zodSchema2.safeParseAsync(value);return result.success?{success:!0,value:result.data}:{success:!1,error:result.error}}})}(zodSchema2,options)}var schemaSymbol=Symbol.for("vercel.ai.schema");function dist_jsonSchema(jsonSchema2,{validate}={}){return{[schemaSymbol]:!0,_type:void 0,[validatorSymbol]:!0,jsonSchema:jsonSchema2,validate}}function dist_asSchema(schema){return null==schema?dist_jsonSchema({properties:{},additionalProperties:!1}):function isSchema(value){return"object"==typeof value&&null!==value&&schemaSymbol in value&&!0===value[schemaSymbol]&&"jsonSchema"in value&&"validate"in value}(schema)?schema:zodSchema(schema)}var{btoa,atob:dist_atob}=globalThis;const cuid=/^[cC][^\s-]{8,}$/,cuid2=/^[0-9a-z]+$/,ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xid=/^[0-9a-vA-V]{20}$/,ksuid=/^[A-Za-z0-9]{27}$/,nanoid=/^[a-zA-Z0-9_-]{21}$/,duration=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,uuid=version=>version?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${version}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/;const ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,base64url=/^[A-Za-z0-9_-]*$/,hostname=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,e164=/^\+(?:[0-9]){6,14}[0-9]$/,dateSource="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",date=new RegExp(`^${dateSource}$`);function timeSource(args){const hhmm="(?:[01]\\d|2[0-3]):[0-5]\\d";return"number"==typeof args.precision?-1===args.precision?`${hhmm}`:0===args.precision?`${hhmm}:[0-5]\\d`:`${hhmm}:[0-5]\\d\\.\\d{${args.precision}}`:`${hhmm}(?::[0-5]\\d(?:\\.\\d+)?)?`}const integer=/^\d+$/,number=/^-?\d+(?:\.\d+)?/i,regexes_boolean=/true|false/i,_null=/null/i,lowercase=/^[^A-Z]*$/,uppercase=/^[^a-z]*$/,$ZodCheck=$constructor("$ZodCheck",((inst,def)=>{var _a;inst._zod??(inst._zod={}),inst._zod.def=def,(_a=inst._zod).onattach??(_a.onattach=[])})),numericOriginMap={number:"number",bigint:"bigint",object:"date"},$ZodCheckLessThan=$constructor("$ZodCheckLessThan",((inst,def)=>{$ZodCheck.init(inst,def);const origin=numericOriginMap[typeof def.value];inst._zod.onattach.push((inst=>{const bag=inst._zod.bag,curr=(def.inclusive?bag.maximum:bag.exclusiveMaximum)??Number.POSITIVE_INFINITY;def.value<curr&&(def.inclusive?bag.maximum=def.value:bag.exclusiveMaximum=def.value)})),inst._zod.check=payload=>{(def.inclusive?payload.value<=def.value:payload.value<def.value)||payload.issues.push({origin,code:"too_big",maximum:def.value,input:payload.value,inclusive:def.inclusive,inst,continue:!def.abort})}})),$ZodCheckGreaterThan=$constructor("$ZodCheckGreaterThan",((inst,def)=>{$ZodCheck.init(inst,def);const origin=numericOriginMap[typeof def.value];inst._zod.onattach.push((inst=>{const bag=inst._zod.bag,curr=(def.inclusive?bag.minimum:bag.exclusiveMinimum)??Number.NEGATIVE_INFINITY;def.value>curr&&(def.inclusive?bag.minimum=def.value:bag.exclusiveMinimum=def.value)})),inst._zod.check=payload=>{(def.inclusive?payload.value>=def.value:payload.value>def.value)||payload.issues.push({origin,code:"too_small",minimum:def.value,input:payload.value,inclusive:def.inclusive,inst,continue:!def.abort})}})),$ZodCheckMultipleOf=$constructor("$ZodCheckMultipleOf",((inst,def)=>{$ZodCheck.init(inst,def),inst._zod.onattach.push((inst=>{var _a;(_a=inst._zod.bag).multipleOf??(_a.multipleOf=def.value)})),inst._zod.check=payload=>{if(typeof payload.value!=typeof def.value)throw new Error("Cannot mix number and bigint in multiple_of check.");("bigint"==typeof payload.value?payload.value%def.value===BigInt(0):0===function floatSafeRemainder(val,step){const valDecCount=(val.toString().split(".")[1]||"").length,stepString=step.toString();let stepDecCount=(stepString.split(".")[1]||"").length;if(0===stepDecCount&&/\d?e-\d?/.test(stepString)){const match=stepString.match(/\d?e-(\d?)/);match?.[1]&&(stepDecCount=Number.parseInt(match[1]))}const decCount=valDecCount>stepDecCount?valDecCount:stepDecCount;return Number.parseInt(val.toFixed(decCount).replace(".",""))%Number.parseInt(step.toFixed(decCount).replace(".",""))/10**decCount}(payload.value,def.value))||payload.issues.push({origin:typeof payload.value,code:"not_multiple_of",divisor:def.value,input:payload.value,inst,continue:!def.abort})}})),$ZodCheckNumberFormat=$constructor("$ZodCheckNumberFormat",((inst,def)=>{$ZodCheck.init(inst,def),def.format=def.format||"float64";const isInt=def.format?.includes("int"),origin=isInt?"int":"number",[minimum,maximum]=NUMBER_FORMAT_RANGES[def.format];inst._zod.onattach.push((inst=>{const bag=inst._zod.bag;bag.format=def.format,bag.minimum=minimum,bag.maximum=maximum,isInt&&(bag.pattern=integer)})),inst._zod.check=payload=>{const input=payload.value;if(isInt){if(!Number.isInteger(input))return void payload.issues.push({expected:origin,format:def.format,code:"invalid_type",continue:!1,input,inst});if(!Number.isSafeInteger(input))return void(input>0?payload.issues.push({input,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst,origin,continue:!def.abort}):payload.issues.push({input,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst,origin,continue:!def.abort}))}input<minimum&&payload.issues.push({origin:"number",input,code:"too_small",minimum,inclusive:!0,inst,continue:!def.abort}),input>maximum&&payload.issues.push({origin:"number",input,code:"too_big",maximum,inst})}})),$ZodCheckMaxLength=$constructor("$ZodCheckMaxLength",((inst,def)=>{var _a;$ZodCheck.init(inst,def),(_a=inst._zod.def).when??(_a.when=payload=>{const val=payload.value;return!nullish(val)&&void 0!==val.length}),inst._zod.onattach.push((inst=>{const curr=inst._zod.bag.maximum??Number.POSITIVE_INFINITY;def.maximum<curr&&(inst._zod.bag.maximum=def.maximum)})),inst._zod.check=payload=>{const input=payload.value;if(input.length<=def.maximum)return;const origin=getLengthableOrigin(input);payload.issues.push({origin,code:"too_big",maximum:def.maximum,inclusive:!0,input,inst,continue:!def.abort})}})),$ZodCheckMinLength=$constructor("$ZodCheckMinLength",((inst,def)=>{var _a;$ZodCheck.init(inst,def),(_a=inst._zod.def).when??(_a.when=payload=>{const val=payload.value;return!nullish(val)&&void 0!==val.length}),inst._zod.onattach.push((inst=>{const curr=inst._zod.bag.minimum??Number.NEGATIVE_INFINITY;def.minimum>curr&&(inst._zod.bag.minimum=def.minimum)})),inst._zod.check=payload=>{const input=payload.value;if(input.length>=def.minimum)return;const origin=getLengthableOrigin(input);payload.issues.push({origin,code:"too_small",minimum:def.minimum,inclusive:!0,input,inst,continue:!def.abort})}})),$ZodCheckLengthEquals=$constructor("$ZodCheckLengthEquals",((inst,def)=>{var _a;$ZodCheck.init(inst,def),(_a=inst._zod.def).when??(_a.when=payload=>{const val=payload.value;return!nullish(val)&&void 0!==val.length}),inst._zod.onattach.push((inst=>{const bag=inst._zod.bag;bag.minimum=def.length,bag.maximum=def.length,bag.length=def.length})),inst._zod.check=payload=>{const input=payload.value,length=input.length;if(length===def.length)return;const origin=getLengthableOrigin(input),tooBig=length>def.length;payload.issues.push({origin,...tooBig?{code:"too_big",maximum:def.length}:{code:"too_small",minimum:def.length},inclusive:!0,exact:!0,input:payload.value,inst,continue:!def.abort})}})),$ZodCheckStringFormat=$constructor("$ZodCheckStringFormat",((inst,def)=>{var _a,_b;$ZodCheck.init(inst,def),inst._zod.onattach.push((inst=>{const bag=inst._zod.bag;bag.format=def.format,def.pattern&&(bag.patterns??(bag.patterns=new Set),bag.patterns.add(def.pattern))})),def.pattern?(_a=inst._zod).check??(_a.check=payload=>{def.pattern.lastIndex=0,def.pattern.test(payload.value)||payload.issues.push({origin:"string",code:"invalid_format",format:def.format,input:payload.value,...def.pattern?{pattern:def.pattern.toString()}:{},inst,continue:!def.abort})}):(_b=inst._zod).check??(_b.check=()=>{})})),$ZodCheckRegex=$constructor("$ZodCheckRegex",((inst,def)=>{$ZodCheckStringFormat.init(inst,def),inst._zod.check=payload=>{def.pattern.lastIndex=0,def.pattern.test(payload.value)||payload.issues.push({origin:"string",code:"invalid_format",format:"regex",input:payload.value,pattern:def.pattern.toString(),inst,continue:!def.abort})}})),$ZodCheckLowerCase=$constructor("$ZodCheckLowerCase",((inst,def)=>{def.pattern??(def.pattern=lowercase),$ZodCheckStringFormat.init(inst,def)})),$ZodCheckUpperCase=$constructor("$ZodCheckUpperCase",((inst,def)=>{def.pattern??(def.pattern=uppercase),$ZodCheckStringFormat.init(inst,def)})),$ZodCheckIncludes=$constructor("$ZodCheckIncludes",((inst,def)=>{$ZodCheck.init(inst,def);const escapedRegex=escapeRegex(def.includes),pattern=new RegExp("number"==typeof def.position?`^.{${def.position}}${escapedRegex}`:escapedRegex);def.pattern=pattern,inst._zod.onattach.push((inst=>{const bag=inst._zod.bag;bag.patterns??(bag.patterns=new Set),bag.patterns.add(pattern)})),inst._zod.check=payload=>{payload.value.includes(def.includes,def.position)||payload.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:def.includes,input:payload.value,inst,continue:!def.abort})}})),$ZodCheckStartsWith=$constructor("$ZodCheckStartsWith",((inst,def)=>{$ZodCheck.init(inst,def);const pattern=new RegExp(`^${escapeRegex(def.prefix)}.*`);def.pattern??(def.pattern=pattern),inst._zod.onattach.push((inst=>{const bag=inst._zod.bag;bag.patterns??(bag.patterns=new Set),bag.patterns.add(pattern)})),inst._zod.check=payload=>{payload.value.startsWith(def.prefix)||payload.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:def.prefix,input:payload.value,inst,continue:!def.abort})}})),$ZodCheckEndsWith=$constructor("$ZodCheckEndsWith",((inst,def)=>{$ZodCheck.init(inst,def);const pattern=new RegExp(`.*${escapeRegex(def.suffix)}$`);def.pattern??(def.pattern=pattern),inst._zod.onattach.push((inst=>{const bag=inst._zod.bag;bag.patterns??(bag.patterns=new Set),bag.patterns.add(pattern)})),inst._zod.check=payload=>{payload.value.endsWith(def.suffix)||payload.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:def.suffix,input:payload.value,inst,continue:!def.abort})}}));const $ZodCheckOverwrite=$constructor("$ZodCheckOverwrite",((inst,def)=>{$ZodCheck.init(inst,def),inst._zod.check=payload=>{payload.value=def.tx(payload.value)}}));class Doc{constructor(args=[]){this.content=[],this.indent=0,this&&(this.args=args)}indented(fn){this.indent+=1,fn(this),this.indent-=1}write(arg){if("function"==typeof arg)return arg(this,{execution:"sync"}),void arg(this,{execution:"async"});const lines=arg.split("\n").filter((x=>x)),minIndent=Math.min(...lines.map((x=>x.length-x.trimStart().length))),dedented=lines.map((x=>x.slice(minIndent))).map((x=>" ".repeat(2*this.indent)+x));for(const line of dedented)this.content.push(line)}compile(){const F=Function,args=this?.args;return new F(...args,[...(this?.content??[""]).map((x=>`  ${x}`))].join("\n"))}}const version={major:4,minor:0,patch:17},$ZodType=$constructor("$ZodType",((inst,def)=>{var _a;inst??(inst={}),inst._zod.def=def,inst._zod.bag=inst._zod.bag||{},inst._zod.version=version;const checks=[...inst._zod.def.checks??[]];inst._zod.traits.has("$ZodCheck")&&checks.unshift(inst);for(const ch of checks)for(const fn of ch._zod.onattach)fn(inst);if(0===checks.length)(_a=inst._zod).deferred??(_a.deferred=[]),inst._zod.deferred?.push((()=>{inst._zod.run=inst._zod.parse}));else{const runChecks=(payload,checks,ctx)=>{let asyncResult,isAborted=aborted(payload);for(const ch of checks){if(ch._zod.def.when){if(!ch._zod.def.when(payload))continue}else if(isAborted)continue;const currLen=payload.issues.length,_=ch._zod.check(payload);if(_ instanceof Promise&&!1===ctx?.async)throw new $ZodAsyncError;if(asyncResult||_ instanceof Promise)asyncResult=(asyncResult??Promise.resolve()).then((async()=>{await _;payload.issues.length!==currLen&&(isAborted||(isAborted=aborted(payload,currLen)))}));else{if(payload.issues.length===currLen)continue;isAborted||(isAborted=aborted(payload,currLen))}}return asyncResult?asyncResult.then((()=>payload)):payload};inst._zod.run=(payload,ctx)=>{const result=inst._zod.parse(payload,ctx);if(result instanceof Promise){if(!1===ctx.async)throw new $ZodAsyncError;return result.then((result=>runChecks(result,checks,ctx)))}return runChecks(result,checks,ctx)}}inst["~standard"]={validate:value=>{try{const r=safeParse(inst,value);return r.success?{value:r.data}:{issues:r.error?.issues}}catch(_){return safeParseAsync(inst,value).then((r=>r.success?{value:r.data}:{issues:r.error?.issues}))}},vendor:"zod",version:1}})),$ZodString=$constructor("$ZodString",((inst,def)=>{var params;$ZodType.init(inst,def),inst._zod.pattern=[...inst?._zod.bag?.patterns??[]].pop()??(params=inst._zod.bag,new RegExp(`^${params?`[\\s\\S]{${params?.minimum??0},${params?.maximum??""}}`:"[\\s\\S]*"}$`)),inst._zod.parse=(payload,_)=>{if(def.coerce)try{payload.value=String(payload.value)}catch(_){}return"string"==typeof payload.value||payload.issues.push({expected:"string",code:"invalid_type",input:payload.value,inst}),payload}})),$ZodStringFormat=$constructor("$ZodStringFormat",((inst,def)=>{$ZodCheckStringFormat.init(inst,def),$ZodString.init(inst,def)})),$ZodGUID=$constructor("$ZodGUID",((inst,def)=>{def.pattern??(def.pattern=guid),$ZodStringFormat.init(inst,def)})),$ZodUUID=$constructor("$ZodUUID",((inst,def)=>{if(def.version){const v={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[def.version];if(void 0===v)throw new Error(`Invalid UUID version: "${def.version}"`);def.pattern??(def.pattern=uuid(v))}else def.pattern??(def.pattern=uuid());$ZodStringFormat.init(inst,def)})),$ZodEmail=$constructor("$ZodEmail",((inst,def)=>{def.pattern??(def.pattern=email),$ZodStringFormat.init(inst,def)})),$ZodURL=$constructor("$ZodURL",((inst,def)=>{$ZodStringFormat.init(inst,def),inst._zod.check=payload=>{try{const trimmed=payload.value.trim(),url=new URL(trimmed);return def.hostname&&(def.hostname.lastIndex=0,def.hostname.test(url.hostname)||payload.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:hostname.source,input:payload.value,inst,continue:!def.abort})),def.protocol&&(def.protocol.lastIndex=0,def.protocol.test(url.protocol.endsWith(":")?url.protocol.slice(0,-1):url.protocol)||payload.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:def.protocol.source,input:payload.value,inst,continue:!def.abort})),void(def.normalize?payload.value=url.href:payload.value=trimmed)}catch(_){payload.issues.push({code:"invalid_format",format:"url",input:payload.value,inst,continue:!def.abort})}}})),$ZodEmoji=$constructor("$ZodEmoji",((inst,def)=>{def.pattern??(def.pattern=function emoji(){return new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")}()),$ZodStringFormat.init(inst,def)})),$ZodNanoID=$constructor("$ZodNanoID",((inst,def)=>{def.pattern??(def.pattern=nanoid),$ZodStringFormat.init(inst,def)})),$ZodCUID=$constructor("$ZodCUID",((inst,def)=>{def.pattern??(def.pattern=cuid),$ZodStringFormat.init(inst,def)})),$ZodCUID2=$constructor("$ZodCUID2",((inst,def)=>{def.pattern??(def.pattern=cuid2),$ZodStringFormat.init(inst,def)})),$ZodULID=$constructor("$ZodULID",((inst,def)=>{def.pattern??(def.pattern=ulid),$ZodStringFormat.init(inst,def)})),$ZodXID=$constructor("$ZodXID",((inst,def)=>{def.pattern??(def.pattern=xid),$ZodStringFormat.init(inst,def)})),$ZodKSUID=$constructor("$ZodKSUID",((inst,def)=>{def.pattern??(def.pattern=ksuid),$ZodStringFormat.init(inst,def)})),$ZodISODateTime=$constructor("$ZodISODateTime",((inst,def)=>{def.pattern??(def.pattern=function datetime(args){const time=timeSource({precision:args.precision}),opts=["Z"];args.local&&opts.push(""),args.offset&&opts.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const timeRegex=`${time}(?:${opts.join("|")})`;return new RegExp(`^${dateSource}T(?:${timeRegex})$`)}(def)),$ZodStringFormat.init(inst,def)})),$ZodISODate=$constructor("$ZodISODate",((inst,def)=>{def.pattern??(def.pattern=date),$ZodStringFormat.init(inst,def)})),$ZodISOTime=$constructor("$ZodISOTime",((inst,def)=>{def.pattern??(def.pattern=function time(args){return new RegExp(`^${timeSource(args)}$`)}(def)),$ZodStringFormat.init(inst,def)})),$ZodISODuration=$constructor("$ZodISODuration",((inst,def)=>{def.pattern??(def.pattern=duration),$ZodStringFormat.init(inst,def)})),$ZodIPv4=$constructor("$ZodIPv4",((inst,def)=>{def.pattern??(def.pattern=ipv4),$ZodStringFormat.init(inst,def),inst._zod.onattach.push((inst=>{inst._zod.bag.format="ipv4"}))})),$ZodIPv6=$constructor("$ZodIPv6",((inst,def)=>{def.pattern??(def.pattern=ipv6),$ZodStringFormat.init(inst,def),inst._zod.onattach.push((inst=>{inst._zod.bag.format="ipv6"})),inst._zod.check=payload=>{try{new URL(`http://[${payload.value}]`)}catch{payload.issues.push({code:"invalid_format",format:"ipv6",input:payload.value,inst,continue:!def.abort})}}})),$ZodCIDRv4=$constructor("$ZodCIDRv4",((inst,def)=>{def.pattern??(def.pattern=cidrv4),$ZodStringFormat.init(inst,def)})),$ZodCIDRv6=$constructor("$ZodCIDRv6",((inst,def)=>{def.pattern??(def.pattern=cidrv6),$ZodStringFormat.init(inst,def),inst._zod.check=payload=>{const[address,prefix]=payload.value.split("/");try{if(!prefix)throw new Error;const prefixNum=Number(prefix);if(`${prefixNum}`!==prefix)throw new Error;if(prefixNum<0||prefixNum>128)throw new Error;new URL(`http://[${address}]`)}catch{payload.issues.push({code:"invalid_format",format:"cidrv6",input:payload.value,inst,continue:!def.abort})}}}));function isValidBase64(data){if(""===data)return!0;if(data.length%4!=0)return!1;try{return atob(data),!0}catch{return!1}}const $ZodBase64=$constructor("$ZodBase64",((inst,def)=>{def.pattern??(def.pattern=base64),$ZodStringFormat.init(inst,def),inst._zod.onattach.push((inst=>{inst._zod.bag.contentEncoding="base64"})),inst._zod.check=payload=>{isValidBase64(payload.value)||payload.issues.push({code:"invalid_format",format:"base64",input:payload.value,inst,continue:!def.abort})}}));const $ZodBase64URL=$constructor("$ZodBase64URL",((inst,def)=>{def.pattern??(def.pattern=base64url),$ZodStringFormat.init(inst,def),inst._zod.onattach.push((inst=>{inst._zod.bag.contentEncoding="base64url"})),inst._zod.check=payload=>{(function isValidBase64URL(data){if(!base64url.test(data))return!1;const base64=data.replace(/[-_]/g,(c=>"-"===c?"+":"/"));return isValidBase64(base64.padEnd(4*Math.ceil(base64.length/4),"="))})(payload.value)||payload.issues.push({code:"invalid_format",format:"base64url",input:payload.value,inst,continue:!def.abort})}})),$ZodE164=$constructor("$ZodE164",((inst,def)=>{def.pattern??(def.pattern=e164),$ZodStringFormat.init(inst,def)}));const $ZodJWT=$constructor("$ZodJWT",((inst,def)=>{$ZodStringFormat.init(inst,def),inst._zod.check=payload=>{(function schemas_isValidJWT(token,algorithm=null){try{const tokensParts=token.split(".");if(3!==tokensParts.length)return!1;const[header]=tokensParts;if(!header)return!1;const parsedHeader=JSON.parse(atob(header));return!("typ"in parsedHeader&&"JWT"!==parsedHeader?.typ||!parsedHeader.alg||algorithm&&(!("alg"in parsedHeader)||parsedHeader.alg!==algorithm))}catch{return!1}})(payload.value,def.alg)||payload.issues.push({code:"invalid_format",format:"jwt",input:payload.value,inst,continue:!def.abort})}})),$ZodNumber=$constructor("$ZodNumber",((inst,def)=>{$ZodType.init(inst,def),inst._zod.pattern=inst._zod.bag.pattern??number,inst._zod.parse=(payload,_ctx)=>{if(def.coerce)try{payload.value=Number(payload.value)}catch(_){}const input=payload.value;if("number"==typeof input&&!Number.isNaN(input)&&Number.isFinite(input))return payload;const received="number"==typeof input?Number.isNaN(input)?"NaN":Number.isFinite(input)?void 0:"Infinity":void 0;return payload.issues.push({expected:"number",code:"invalid_type",input,inst,...received?{received}:{}}),payload}})),$ZodNumberFormat=$constructor("$ZodNumber",((inst,def)=>{$ZodCheckNumberFormat.init(inst,def),$ZodNumber.init(inst,def)})),$ZodBoolean=$constructor("$ZodBoolean",((inst,def)=>{$ZodType.init(inst,def),inst._zod.pattern=regexes_boolean,inst._zod.parse=(payload,_ctx)=>{if(def.coerce)try{payload.value=Boolean(payload.value)}catch(_){}const input=payload.value;return"boolean"==typeof input||payload.issues.push({expected:"boolean",code:"invalid_type",input,inst}),payload}})),$ZodNull=$constructor("$ZodNull",((inst,def)=>{$ZodType.init(inst,def),inst._zod.pattern=_null,inst._zod.values=new Set([null]),inst._zod.parse=(payload,_ctx)=>{const input=payload.value;return null===input||payload.issues.push({expected:"null",code:"invalid_type",input,inst}),payload}})),$ZodUnknown=$constructor("$ZodUnknown",((inst,def)=>{$ZodType.init(inst,def),inst._zod.parse=payload=>payload})),$ZodNever=$constructor("$ZodNever",((inst,def)=>{$ZodType.init(inst,def),inst._zod.parse=(payload,_ctx)=>(payload.issues.push({expected:"never",code:"invalid_type",input:payload.value,inst}),payload)}));function handleArrayResult(result,final,index){result.issues.length&&final.issues.push(...prefixIssues(index,result.issues)),final.value[index]=result.value}const $ZodArray=$constructor("$ZodArray",((inst,def)=>{$ZodType.init(inst,def),inst._zod.parse=(payload,ctx)=>{const input=payload.value;if(!Array.isArray(input))return payload.issues.push({expected:"array",code:"invalid_type",input,inst}),payload;payload.value=Array(input.length);const proms=[];for(let i=0;i<input.length;i++){const item=input[i],result=def.element._zod.run({value:item,issues:[]},ctx);result instanceof Promise?proms.push(result.then((result=>handleArrayResult(result,payload,i)))):handleArrayResult(result,payload,i)}return proms.length?Promise.all(proms).then((()=>payload)):payload}}));function handlePropertyResult(result,final,key,input){result.issues.length&&final.issues.push(...prefixIssues(key,result.issues)),void 0===result.value?key in input&&(final.value[key]=void 0):final.value[key]=result.value}const $ZodObject=$constructor("$ZodObject",((inst,def)=>{$ZodType.init(inst,def);const _normalized=cached((()=>{const keys=Object.keys(def.shape);for(const k of keys)if(!def.shape[k]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${k}": expected a Zod schema`);const okeys=function optionalKeys(shape){return Object.keys(shape).filter((k=>"optional"===shape[k]._zod.optin&&"optional"===shape[k]._zod.optout))}(def.shape);return{shape:def.shape,keys,keySet:new Set(keys),numKeys:keys.length,optionalKeys:new Set(okeys)}}));defineLazy(inst._zod,"propValues",(()=>{const shape=def.shape,propValues={};for(const key in shape){const field=shape[key]._zod;if(field.values){propValues[key]??(propValues[key]=new Set);for(const v of field.values)propValues[key].add(v)}}return propValues}));let fastpass;const isObject=util_isObject,jit=!globalConfig.jitless,fastEnabled=jit&&util_allowsEval.value,catchall=def.catchall;let value;inst._zod.parse=(payload,ctx)=>{value??(value=_normalized.value);const input=payload.value;if(!isObject(input))return payload.issues.push({expected:"object",code:"invalid_type",input,inst}),payload;const proms=[];if(jit&&fastEnabled&&!1===ctx?.async&&!0!==ctx.jitless)fastpass||(fastpass=(shape=>{const doc=new Doc(["shape","payload","ctx"]),normalized=_normalized.value,parseStr=key=>{const k=esc(key);return`shape[${k}]._zod.run({ value: input[${k}], issues: [] }, ctx)`};doc.write("const input = payload.value;");const ids=Object.create(null);let counter=0;for(const key of normalized.keys)ids[key]="key_"+counter++;doc.write("const newResult = {}");for(const key of normalized.keys){const id=ids[key],k=esc(key);doc.write(`const ${id} = ${parseStr(key)};`),doc.write(`\n        if (${id}.issues.length) {\n          payload.issues = payload.issues.concat(${id}.issues.map(iss => ({\n            ...iss,\n            path: iss.path ? [${k}, ...iss.path] : [${k}]\n          })));\n        }\n        \n        if (${id}.value === undefined) {\n          if (${k} in input) {\n            newResult[${k}] = undefined;\n          }\n        } else {\n          newResult[${k}] = ${id}.value;\n        }\n      `)}doc.write("payload.value = newResult;"),doc.write("return payload;");const fn=doc.compile();return(payload,ctx)=>fn(shape,payload,ctx)})(def.shape)),payload=fastpass(payload,ctx);else{payload.value={};const shape=value.shape;for(const key of value.keys){const r=shape[key]._zod.run({value:input[key],issues:[]},ctx);r instanceof Promise?proms.push(r.then((r=>handlePropertyResult(r,payload,key,input)))):handlePropertyResult(r,payload,key,input)}}if(!catchall)return proms.length?Promise.all(proms).then((()=>payload)):payload;const unrecognized=[],keySet=value.keySet,_catchall=catchall._zod,t=_catchall.def.type;for(const key of Object.keys(input)){if(keySet.has(key))continue;if("never"===t){unrecognized.push(key);continue}const r=_catchall.run({value:input[key],issues:[]},ctx);r instanceof Promise?proms.push(r.then((r=>handlePropertyResult(r,payload,key,input)))):handlePropertyResult(r,payload,key,input)}return unrecognized.length&&payload.issues.push({code:"unrecognized_keys",keys:unrecognized,input,inst}),proms.length?Promise.all(proms).then((()=>payload)):payload}}));function handleUnionResults(results,final,inst,ctx){for(const result of results)if(0===result.issues.length)return final.value=result.value,final;const nonaborted=results.filter((r=>!aborted(r)));return 1===nonaborted.length?(final.value=nonaborted[0].value,nonaborted[0]):(final.issues.push({code:"invalid_union",input:final.value,inst,errors:results.map((result=>result.issues.map((iss=>finalizeIssue(iss,ctx,config())))))}),final)}const $ZodUnion=$constructor("$ZodUnion",((inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,"optin",(()=>def.options.some((o=>"optional"===o._zod.optin))?"optional":void 0)),defineLazy(inst._zod,"optout",(()=>def.options.some((o=>"optional"===o._zod.optout))?"optional":void 0)),defineLazy(inst._zod,"values",(()=>{if(def.options.every((o=>o._zod.values)))return new Set(def.options.flatMap((option=>Array.from(option._zod.values))))})),defineLazy(inst._zod,"pattern",(()=>{if(def.options.every((o=>o._zod.pattern))){const patterns=def.options.map((o=>o._zod.pattern));return new RegExp(`^(${patterns.map((p=>cleanRegex(p.source))).join("|")})$`)}}));const single=1===def.options.length,first=def.options[0]._zod.run;inst._zod.parse=(payload,ctx)=>{if(single)return first(payload,ctx);let async=!1;const results=[];for(const option of def.options){const result=option._zod.run({value:payload.value,issues:[]},ctx);if(result instanceof Promise)results.push(result),async=!0;else{if(0===result.issues.length)return result;results.push(result)}}return async?Promise.all(results).then((results=>handleUnionResults(results,payload,inst,ctx))):handleUnionResults(results,payload,inst,ctx)}})),$ZodDiscriminatedUnion=$constructor("$ZodDiscriminatedUnion",((inst,def)=>{$ZodUnion.init(inst,def);const _super=inst._zod.parse;defineLazy(inst._zod,"propValues",(()=>{const propValues={};for(const option of def.options){const pv=option._zod.propValues;if(!pv||0===Object.keys(pv).length)throw new Error(`Invalid discriminated union option at index "${def.options.indexOf(option)}"`);for(const[k,v]of Object.entries(pv)){propValues[k]||(propValues[k]=new Set);for(const val of v)propValues[k].add(val)}}return propValues}));const disc=cached((()=>{const opts=def.options,map=new Map;for(const o of opts){const values=o._zod.propValues?.[def.discriminator];if(!values||0===values.size)throw new Error(`Invalid discriminated union option at index "${def.options.indexOf(o)}"`);for(const v of values){if(map.has(v))throw new Error(`Duplicate discriminator value "${String(v)}"`);map.set(v,o)}}return map}));inst._zod.parse=(payload,ctx)=>{const input=payload.value;if(!util_isObject(input))return payload.issues.push({code:"invalid_type",expected:"object",input,inst}),payload;const opt=disc.value.get(input?.[def.discriminator]);return opt?opt._zod.run(payload,ctx):def.unionFallback?_super(payload,ctx):(payload.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:def.discriminator,input,path:[def.discriminator],inst}),payload)}})),$ZodIntersection=$constructor("$ZodIntersection",((inst,def)=>{$ZodType.init(inst,def),inst._zod.parse=(payload,ctx)=>{const input=payload.value,left=def.left._zod.run({value:input,issues:[]},ctx),right=def.right._zod.run({value:input,issues:[]},ctx);return left instanceof Promise||right instanceof Promise?Promise.all([left,right]).then((([left,right])=>handleIntersectionResults(payload,left,right))):handleIntersectionResults(payload,left,right)}}));function schemas_mergeValues(a,b){if(a===b)return{valid:!0,data:a};if(a instanceof Date&&b instanceof Date&&+a==+b)return{valid:!0,data:a};if(isPlainObject(a)&&isPlainObject(b)){const bKeys=Object.keys(b),sharedKeys=Object.keys(a).filter((key=>-1!==bKeys.indexOf(key))),newObj={...a,...b};for(const key of sharedKeys){const sharedValue=schemas_mergeValues(a[key],b[key]);if(!sharedValue.valid)return{valid:!1,mergeErrorPath:[key,...sharedValue.mergeErrorPath]};newObj[key]=sharedValue.data}return{valid:!0,data:newObj}}if(Array.isArray(a)&&Array.isArray(b)){if(a.length!==b.length)return{valid:!1,mergeErrorPath:[]};const newArray=[];for(let index=0;index<a.length;index++){const sharedValue=schemas_mergeValues(a[index],b[index]);if(!sharedValue.valid)return{valid:!1,mergeErrorPath:[index,...sharedValue.mergeErrorPath]};newArray.push(sharedValue.data)}return{valid:!0,data:newArray}}return{valid:!1,mergeErrorPath:[]}}function handleIntersectionResults(result,left,right){if(left.issues.length&&result.issues.push(...left.issues),right.issues.length&&result.issues.push(...right.issues),aborted(result))return result;const merged=schemas_mergeValues(left.value,right.value);if(!merged.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(merged.mergeErrorPath)}`);return result.value=merged.data,result}const $ZodRecord=$constructor("$ZodRecord",((inst,def)=>{$ZodType.init(inst,def),inst._zod.parse=(payload,ctx)=>{const input=payload.value;if(!isPlainObject(input))return payload.issues.push({expected:"record",code:"invalid_type",input,inst}),payload;const proms=[];if(def.keyType._zod.values){const values=def.keyType._zod.values;payload.value={};for(const key of values)if("string"==typeof key||"number"==typeof key||"symbol"==typeof key){const result=def.valueType._zod.run({value:input[key],issues:[]},ctx);result instanceof Promise?proms.push(result.then((result=>{result.issues.length&&payload.issues.push(...prefixIssues(key,result.issues)),payload.value[key]=result.value}))):(result.issues.length&&payload.issues.push(...prefixIssues(key,result.issues)),payload.value[key]=result.value)}let unrecognized;for(const key in input)values.has(key)||(unrecognized=unrecognized??[],unrecognized.push(key));unrecognized&&unrecognized.length>0&&payload.issues.push({code:"unrecognized_keys",input,inst,keys:unrecognized})}else{payload.value={};for(const key of Reflect.ownKeys(input)){if("__proto__"===key)continue;const keyResult=def.keyType._zod.run({value:key,issues:[]},ctx);if(keyResult instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(keyResult.issues.length){payload.issues.push({code:"invalid_key",origin:"record",issues:keyResult.issues.map((iss=>finalizeIssue(iss,ctx,config()))),input:key,path:[key],inst}),payload.value[keyResult.value]=keyResult.value;continue}const result=def.valueType._zod.run({value:input[key],issues:[]},ctx);result instanceof Promise?proms.push(result.then((result=>{result.issues.length&&payload.issues.push(...prefixIssues(key,result.issues)),payload.value[keyResult.value]=result.value}))):(result.issues.length&&payload.issues.push(...prefixIssues(key,result.issues)),payload.value[keyResult.value]=result.value)}}return proms.length?Promise.all(proms).then((()=>payload)):payload}}));const $ZodEnum=$constructor("$ZodEnum",((inst,def)=>{$ZodType.init(inst,def);const values=getEnumValues(def.entries),valuesSet=new Set(values);inst._zod.values=valuesSet,inst._zod.pattern=new RegExp(`^(${values.filter((k=>propertyKeyTypes.has(typeof k))).map((o=>"string"==typeof o?escapeRegex(o):o.toString())).join("|")})$`),inst._zod.parse=(payload,_ctx)=>{const input=payload.value;return valuesSet.has(input)||payload.issues.push({code:"invalid_value",values,input,inst}),payload}})),$ZodLiteral=$constructor("$ZodLiteral",((inst,def)=>{if($ZodType.init(inst,def),0===def.values.length)throw new Error("Cannot create literal schema with no valid values");inst._zod.values=new Set(def.values),inst._zod.pattern=new RegExp(`^(${def.values.map((o=>"string"==typeof o?escapeRegex(o):o?escapeRegex(o.toString()):String(o))).join("|")})$`),inst._zod.parse=(payload,_ctx)=>{const input=payload.value;return inst._zod.values.has(input)||payload.issues.push({code:"invalid_value",values:def.values,input,inst}),payload}})),$ZodTransform=$constructor("$ZodTransform",((inst,def)=>{$ZodType.init(inst,def),inst._zod.parse=(payload,_ctx)=>{const _out=def.transform(payload.value,payload);if(_ctx.async){return(_out instanceof Promise?_out:Promise.resolve(_out)).then((output=>(payload.value=output,payload)))}if(_out instanceof Promise)throw new $ZodAsyncError;return payload.value=_out,payload}}));function handleOptionalResult(result,input){return result.issues.length&&void 0===input?{issues:[],value:void 0}:result}const $ZodOptional=$constructor("$ZodOptional",((inst,def)=>{$ZodType.init(inst,def),inst._zod.optin="optional",inst._zod.optout="optional",defineLazy(inst._zod,"values",(()=>def.innerType._zod.values?new Set([...def.innerType._zod.values,void 0]):void 0)),defineLazy(inst._zod,"pattern",(()=>{const pattern=def.innerType._zod.pattern;return pattern?new RegExp(`^(${cleanRegex(pattern.source)})?$`):void 0})),inst._zod.parse=(payload,ctx)=>{if("optional"===def.innerType._zod.optin){const result=def.innerType._zod.run(payload,ctx);return result instanceof Promise?result.then((r=>handleOptionalResult(r,payload.value))):handleOptionalResult(result,payload.value)}return void 0===payload.value?payload:def.innerType._zod.run(payload,ctx)}})),$ZodNullable=$constructor("$ZodNullable",((inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,"optin",(()=>def.innerType._zod.optin)),defineLazy(inst._zod,"optout",(()=>def.innerType._zod.optout)),defineLazy(inst._zod,"pattern",(()=>{const pattern=def.innerType._zod.pattern;return pattern?new RegExp(`^(${cleanRegex(pattern.source)}|null)$`):void 0})),defineLazy(inst._zod,"values",(()=>def.innerType._zod.values?new Set([...def.innerType._zod.values,null]):void 0)),inst._zod.parse=(payload,ctx)=>null===payload.value?payload:def.innerType._zod.run(payload,ctx)})),$ZodDefault=$constructor("$ZodDefault",((inst,def)=>{$ZodType.init(inst,def),inst._zod.optin="optional",defineLazy(inst._zod,"values",(()=>def.innerType._zod.values)),inst._zod.parse=(payload,ctx)=>{if(void 0===payload.value)return payload.value=def.defaultValue,payload;const result=def.innerType._zod.run(payload,ctx);return result instanceof Promise?result.then((result=>handleDefaultResult(result,def))):handleDefaultResult(result,def)}}));function handleDefaultResult(payload,def){return void 0===payload.value&&(payload.value=def.defaultValue),payload}const $ZodPrefault=$constructor("$ZodPrefault",((inst,def)=>{$ZodType.init(inst,def),inst._zod.optin="optional",defineLazy(inst._zod,"values",(()=>def.innerType._zod.values)),inst._zod.parse=(payload,ctx)=>(void 0===payload.value&&(payload.value=def.defaultValue),def.innerType._zod.run(payload,ctx))})),$ZodNonOptional=$constructor("$ZodNonOptional",((inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,"values",(()=>{const v=def.innerType._zod.values;return v?new Set([...v].filter((x=>void 0!==x))):void 0})),inst._zod.parse=(payload,ctx)=>{const result=def.innerType._zod.run(payload,ctx);return result instanceof Promise?result.then((result=>handleNonOptionalResult(result,inst))):handleNonOptionalResult(result,inst)}}));function handleNonOptionalResult(payload,inst){return payload.issues.length||void 0!==payload.value||payload.issues.push({code:"invalid_type",expected:"nonoptional",input:payload.value,inst}),payload}const $ZodCatch=$constructor("$ZodCatch",((inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,"optin",(()=>def.innerType._zod.optin)),defineLazy(inst._zod,"optout",(()=>def.innerType._zod.optout)),defineLazy(inst._zod,"values",(()=>def.innerType._zod.values)),inst._zod.parse=(payload,ctx)=>{const result=def.innerType._zod.run(payload,ctx);return result instanceof Promise?result.then((result=>(payload.value=result.value,result.issues.length&&(payload.value=def.catchValue({...payload,error:{issues:result.issues.map((iss=>finalizeIssue(iss,ctx,config())))},input:payload.value}),payload.issues=[]),payload))):(payload.value=result.value,result.issues.length&&(payload.value=def.catchValue({...payload,error:{issues:result.issues.map((iss=>finalizeIssue(iss,ctx,config())))},input:payload.value}),payload.issues=[]),payload)}})),$ZodPipe=$constructor("$ZodPipe",((inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,"values",(()=>def.in._zod.values)),defineLazy(inst._zod,"optin",(()=>def.in._zod.optin)),defineLazy(inst._zod,"optout",(()=>def.out._zod.optout)),defineLazy(inst._zod,"propValues",(()=>def.in._zod.propValues)),inst._zod.parse=(payload,ctx)=>{const left=def.in._zod.run(payload,ctx);return left instanceof Promise?left.then((left=>handlePipeResult(left,def,ctx))):handlePipeResult(left,def,ctx)}}));function handlePipeResult(left,def,ctx){return left.issues.length?left:def.out._zod.run({value:left.value,issues:left.issues},ctx)}const $ZodReadonly=$constructor("$ZodReadonly",((inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,"propValues",(()=>def.innerType._zod.propValues)),defineLazy(inst._zod,"values",(()=>def.innerType._zod.values)),defineLazy(inst._zod,"optin",(()=>def.innerType._zod.optin)),defineLazy(inst._zod,"optout",(()=>def.innerType._zod.optout)),inst._zod.parse=(payload,ctx)=>{const result=def.innerType._zod.run(payload,ctx);return result instanceof Promise?result.then(handleReadonlyResult):handleReadonlyResult(result)}}));function handleReadonlyResult(payload){return payload.value=Object.freeze(payload.value),payload}const $ZodLazy=$constructor("$ZodLazy",((inst,def)=>{$ZodType.init(inst,def),defineLazy(inst._zod,"innerType",(()=>def.getter())),defineLazy(inst._zod,"pattern",(()=>inst._zod.innerType._zod.pattern)),defineLazy(inst._zod,"propValues",(()=>inst._zod.innerType._zod.propValues)),defineLazy(inst._zod,"optin",(()=>inst._zod.innerType._zod.optin??void 0)),defineLazy(inst._zod,"optout",(()=>inst._zod.innerType._zod.optout??void 0)),inst._zod.parse=(payload,ctx)=>inst._zod.innerType._zod.run(payload,ctx)})),$ZodCustom=$constructor("$ZodCustom",((inst,def)=>{$ZodCheck.init(inst,def),$ZodType.init(inst,def),inst._zod.parse=(payload,_)=>payload,inst._zod.check=payload=>{const input=payload.value,r=def.fn(input);if(r instanceof Promise)return r.then((r=>handleRefineResult(r,payload,input,inst)));handleRefineResult(r,payload,input,inst)}}));function handleRefineResult(result,payload,input,inst){if(!result){const _iss={code:"custom",input,inst,path:[...inst._zod.def.path??[]],continue:!inst._zod.def.abort};inst._zod.def.params&&(_iss.params=inst._zod.def.params),payload.issues.push(util_issue(_iss))}}function _guid(Class,params){return new Class({type:"string",format:"guid",check:"string_format",abort:!1,...normalizeParams(params)})}function _base64(Class,params){return new Class({type:"string",format:"base64",check:"string_format",abort:!1,...normalizeParams(params)})}function _lt(value,params){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(params),value,inclusive:!1})}function _lte(value,params){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(params),value,inclusive:!0})}function _gt(value,params){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(params),value,inclusive:!1})}function _gte(value,params){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(params),value,inclusive:!0})}function _multipleOf(value,params){return new $ZodCheckMultipleOf({check:"multiple_of",...normalizeParams(params),value})}function _maxLength(maximum,params){return new $ZodCheckMaxLength({check:"max_length",...normalizeParams(params),maximum})}function _minLength(minimum,params){return new $ZodCheckMinLength({check:"min_length",...normalizeParams(params),minimum})}function _length(length,params){return new $ZodCheckLengthEquals({check:"length_equals",...normalizeParams(params),length})}function _overwrite(tx){return new $ZodCheckOverwrite({check:"overwrite",tx})}function _superRefine(fn){const ch=function _check(fn,params){const ch=new $ZodCheck({check:"custom",...normalizeParams(params)});return ch._zod.check=fn,ch}((payload=>(payload.addIssue=issue=>{if("string"==typeof issue)payload.issues.push(util_issue(issue,payload.value,ch._zod.def));else{const _issue=issue;_issue.fatal&&(_issue.continue=!1),_issue.code??(_issue.code="custom"),_issue.input??(_issue.input=payload.value),_issue.inst??(_issue.inst=ch),_issue.continue??(_issue.continue=!ch._zod.def.abort),payload.issues.push(util_issue(_issue))}},fn(payload.value,payload))));return ch}const ZodISODateTime=$constructor("ZodISODateTime",((inst,def)=>{$ZodISODateTime.init(inst,def),ZodStringFormat.init(inst,def)}));function iso_datetime(params){return function _isoDateTime(Class,params){return new Class({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...normalizeParams(params)})}(ZodISODateTime,params)}const ZodISODate=$constructor("ZodISODate",((inst,def)=>{$ZodISODate.init(inst,def),ZodStringFormat.init(inst,def)}));function iso_date(params){return function _isoDate(Class,params){return new Class({type:"string",format:"date",check:"string_format",...normalizeParams(params)})}(ZodISODate,params)}const ZodISOTime=$constructor("ZodISOTime",((inst,def)=>{$ZodISOTime.init(inst,def),ZodStringFormat.init(inst,def)}));function iso_time(params){return function _isoTime(Class,params){return new Class({type:"string",format:"time",check:"string_format",precision:null,...normalizeParams(params)})}(ZodISOTime,params)}const ZodISODuration=$constructor("ZodISODuration",((inst,def)=>{$ZodISODuration.init(inst,def),ZodStringFormat.init(inst,def)}));function iso_duration(params){return function _isoDuration(Class,params){return new Class({type:"string",format:"duration",check:"string_format",...normalizeParams(params)})}(ZodISODuration,params)}const schemas_ZodType=$constructor("ZodType",((inst,def)=>($ZodType.init(inst,def),inst.def=def,Object.defineProperty(inst,"_def",{value:def}),inst.check=(...checks)=>inst.clone({...def,checks:[...def.checks??[],...checks.map((ch=>"function"==typeof ch?{_zod:{check:ch,def:{check:"custom"},onattach:[]}}:ch))]}),inst.clone=(def,params)=>clone(inst,def,params),inst.brand=()=>inst,inst.register=(reg,meta)=>(reg.add(inst,meta),inst),inst.parse=(data,params)=>parse_parse(inst,data,params,{callee:inst.parse}),inst.safeParse=(data,params)=>parse_safeParse(inst,data,params),inst.parseAsync=async(data,params)=>parse_parseAsync(inst,data,params,{callee:inst.parseAsync}),inst.safeParseAsync=async(data,params)=>parse_safeParseAsync(inst,data,params),inst.spa=inst.safeParseAsync,inst.refine=(check,params)=>inst.check(function refine(fn,_params={}){return function _refine(Class,fn,_params){return new Class({type:"custom",check:"custom",fn,...normalizeParams(_params)})}(ZodCustom,fn,_params)}(check,params)),inst.superRefine=refinement=>inst.check(function superRefine(fn){return _superRefine(fn)}(refinement)),inst.overwrite=fn=>inst.check(_overwrite(fn)),inst.optional=()=>optional(inst),inst.nullable=()=>nullable(inst),inst.nullish=()=>optional(nullable(inst)),inst.nonoptional=params=>function nonoptional(innerType,params){return new ZodNonOptional({type:"nonoptional",innerType,...normalizeParams(params)})}(inst,params),inst.array=()=>array(inst),inst.or=arg=>union([inst,arg]),inst.and=arg=>function intersection(left,right){return new schemas_ZodIntersection({type:"intersection",left,right})}(inst,arg),inst.transform=tx=>pipe(inst,transform(tx)),inst.default=def=>function schemas_default(innerType,defaultValue){return new schemas_ZodDefault({type:"default",innerType,get defaultValue(){return"function"==typeof defaultValue?defaultValue():shallowClone(defaultValue)}})}(inst,def),inst.prefault=def=>function prefault(innerType,defaultValue){return new ZodPrefault({type:"prefault",innerType,get defaultValue(){return"function"==typeof defaultValue?defaultValue():shallowClone(defaultValue)}})}(inst,def),inst.catch=params=>function schemas_catch(innerType,catchValue){return new schemas_ZodCatch({type:"catch",innerType,catchValue:"function"==typeof catchValue?catchValue:()=>catchValue})}(inst,params),inst.pipe=target=>pipe(inst,target),inst.readonly=()=>function readonly(innerType){return new schemas_ZodReadonly({type:"readonly",innerType})}(inst),inst.describe=description=>{const cl=inst.clone();return globalRegistry.add(cl,{description}),cl},Object.defineProperty(inst,"description",{get:()=>globalRegistry.get(inst)?.description,configurable:!0}),inst.meta=(...args)=>{if(0===args.length)return globalRegistry.get(inst);const cl=inst.clone();return globalRegistry.add(cl,args[0]),cl},inst.isOptional=()=>inst.safeParse(void 0).success,inst.isNullable=()=>inst.safeParse(null).success,inst))),_ZodString=$constructor("_ZodString",((inst,def)=>{$ZodString.init(inst,def),schemas_ZodType.init(inst,def);const bag=inst._zod.bag;inst.format=bag.format??null,inst.minLength=bag.minimum??null,inst.maxLength=bag.maximum??null,inst.regex=(...args)=>inst.check(function _regex(pattern,params){return new $ZodCheckRegex({check:"string_format",format:"regex",...normalizeParams(params),pattern})}(...args)),inst.includes=(...args)=>inst.check(function _includes(includes,params){return new $ZodCheckIncludes({check:"string_format",format:"includes",...normalizeParams(params),includes})}(...args)),inst.startsWith=(...args)=>inst.check(function _startsWith(prefix,params){return new $ZodCheckStartsWith({check:"string_format",format:"starts_with",...normalizeParams(params),prefix})}(...args)),inst.endsWith=(...args)=>inst.check(function _endsWith(suffix,params){return new $ZodCheckEndsWith({check:"string_format",format:"ends_with",...normalizeParams(params),suffix})}(...args)),inst.min=(...args)=>inst.check(_minLength(...args)),inst.max=(...args)=>inst.check(_maxLength(...args)),inst.length=(...args)=>inst.check(_length(...args)),inst.nonempty=(...args)=>inst.check(_minLength(1,...args)),inst.lowercase=params=>inst.check(function _lowercase(params){return new $ZodCheckLowerCase({check:"string_format",format:"lowercase",...normalizeParams(params)})}(params)),inst.uppercase=params=>inst.check(function _uppercase(params){return new $ZodCheckUpperCase({check:"string_format",format:"uppercase",...normalizeParams(params)})}(params)),inst.trim=()=>inst.check(function _trim(){return _overwrite((input=>input.trim()))}()),inst.normalize=(...args)=>inst.check(function _normalize(form){return _overwrite((input=>input.normalize(form)))}(...args)),inst.toLowerCase=()=>inst.check(function _toLowerCase(){return _overwrite((input=>input.toLowerCase()))}()),inst.toUpperCase=()=>inst.check(function _toUpperCase(){return _overwrite((input=>input.toUpperCase()))}())})),schemas_ZodString=$constructor("ZodString",((inst,def)=>{$ZodString.init(inst,def),_ZodString.init(inst,def),inst.email=params=>inst.check(function _email(Class,params){return new Class({type:"string",format:"email",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodEmail,params)),inst.url=params=>inst.check(function _url(Class,params){return new Class({type:"string",format:"url",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodURL,params)),inst.jwt=params=>inst.check(function _jwt(Class,params){return new Class({type:"string",format:"jwt",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodJWT,params)),inst.emoji=params=>inst.check(function api_emoji(Class,params){return new Class({type:"string",format:"emoji",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodEmoji,params)),inst.guid=params=>inst.check(_guid(ZodGUID,params)),inst.uuid=params=>inst.check(function _uuid(Class,params){return new Class({type:"string",format:"uuid",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodUUID,params)),inst.uuidv4=params=>inst.check(function _uuidv4(Class,params){return new Class({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...normalizeParams(params)})}(ZodUUID,params)),inst.uuidv6=params=>inst.check(function _uuidv6(Class,params){return new Class({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...normalizeParams(params)})}(ZodUUID,params)),inst.uuidv7=params=>inst.check(function _uuidv7(Class,params){return new Class({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...normalizeParams(params)})}(ZodUUID,params)),inst.nanoid=params=>inst.check(function _nanoid(Class,params){return new Class({type:"string",format:"nanoid",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodNanoID,params)),inst.guid=params=>inst.check(_guid(ZodGUID,params)),inst.cuid=params=>inst.check(function _cuid(Class,params){return new Class({type:"string",format:"cuid",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodCUID,params)),inst.cuid2=params=>inst.check(function _cuid2(Class,params){return new Class({type:"string",format:"cuid2",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodCUID2,params)),inst.ulid=params=>inst.check(function _ulid(Class,params){return new Class({type:"string",format:"ulid",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodULID,params)),inst.base64=params=>inst.check(_base64(ZodBase64,params)),inst.base64url=params=>inst.check(function _base64url(Class,params){return new Class({type:"string",format:"base64url",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodBase64URL,params)),inst.xid=params=>inst.check(function _xid(Class,params){return new Class({type:"string",format:"xid",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodXID,params)),inst.ksuid=params=>inst.check(function _ksuid(Class,params){return new Class({type:"string",format:"ksuid",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodKSUID,params)),inst.ipv4=params=>inst.check(function _ipv4(Class,params){return new Class({type:"string",format:"ipv4",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodIPv4,params)),inst.ipv6=params=>inst.check(function _ipv6(Class,params){return new Class({type:"string",format:"ipv6",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodIPv6,params)),inst.cidrv4=params=>inst.check(function _cidrv4(Class,params){return new Class({type:"string",format:"cidrv4",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodCIDRv4,params)),inst.cidrv6=params=>inst.check(function _cidrv6(Class,params){return new Class({type:"string",format:"cidrv6",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodCIDRv6,params)),inst.e164=params=>inst.check(function _e164(Class,params){return new Class({type:"string",format:"e164",check:"string_format",abort:!1,...normalizeParams(params)})}(ZodE164,params)),inst.datetime=params=>inst.check(iso_datetime(params)),inst.date=params=>inst.check(iso_date(params)),inst.time=params=>inst.check(iso_time(params)),inst.duration=params=>inst.check(iso_duration(params))}));function schemas_string(params){return function _string(Class,params){return new Class({type:"string",...normalizeParams(params)})}(schemas_ZodString,params)}const ZodStringFormat=$constructor("ZodStringFormat",((inst,def)=>{$ZodStringFormat.init(inst,def),_ZodString.init(inst,def)})),ZodEmail=$constructor("ZodEmail",((inst,def)=>{$ZodEmail.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodGUID=$constructor("ZodGUID",((inst,def)=>{$ZodGUID.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodUUID=$constructor("ZodUUID",((inst,def)=>{$ZodUUID.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodURL=$constructor("ZodURL",((inst,def)=>{$ZodURL.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodEmoji=$constructor("ZodEmoji",((inst,def)=>{$ZodEmoji.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodNanoID=$constructor("ZodNanoID",((inst,def)=>{$ZodNanoID.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodCUID=$constructor("ZodCUID",((inst,def)=>{$ZodCUID.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodCUID2=$constructor("ZodCUID2",((inst,def)=>{$ZodCUID2.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodULID=$constructor("ZodULID",((inst,def)=>{$ZodULID.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodXID=$constructor("ZodXID",((inst,def)=>{$ZodXID.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodKSUID=$constructor("ZodKSUID",((inst,def)=>{$ZodKSUID.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodIPv4=$constructor("ZodIPv4",((inst,def)=>{$ZodIPv4.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodIPv6=$constructor("ZodIPv6",((inst,def)=>{$ZodIPv6.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodCIDRv4=$constructor("ZodCIDRv4",((inst,def)=>{$ZodCIDRv4.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodCIDRv6=$constructor("ZodCIDRv6",((inst,def)=>{$ZodCIDRv6.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodBase64=$constructor("ZodBase64",((inst,def)=>{$ZodBase64.init(inst,def),ZodStringFormat.init(inst,def)}));function schemas_base64(params){return _base64(ZodBase64,params)}const ZodBase64URL=$constructor("ZodBase64URL",((inst,def)=>{$ZodBase64URL.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodE164=$constructor("ZodE164",((inst,def)=>{$ZodE164.init(inst,def),ZodStringFormat.init(inst,def)}));const ZodJWT=$constructor("ZodJWT",((inst,def)=>{$ZodJWT.init(inst,def),ZodStringFormat.init(inst,def)}));const schemas_ZodNumber=$constructor("ZodNumber",((inst,def)=>{$ZodNumber.init(inst,def),schemas_ZodType.init(inst,def),inst.gt=(value,params)=>inst.check(_gt(value,params)),inst.gte=(value,params)=>inst.check(_gte(value,params)),inst.min=(value,params)=>inst.check(_gte(value,params)),inst.lt=(value,params)=>inst.check(_lt(value,params)),inst.lte=(value,params)=>inst.check(_lte(value,params)),inst.max=(value,params)=>inst.check(_lte(value,params)),inst.int=params=>inst.check(schemas_int(params)),inst.safe=params=>inst.check(schemas_int(params)),inst.positive=params=>inst.check(_gt(0,params)),inst.nonnegative=params=>inst.check(_gte(0,params)),inst.negative=params=>inst.check(_lt(0,params)),inst.nonpositive=params=>inst.check(_lte(0,params)),inst.multipleOf=(value,params)=>inst.check(_multipleOf(value,params)),inst.step=(value,params)=>inst.check(_multipleOf(value,params)),inst.finite=()=>inst;const bag=inst._zod.bag;inst.minValue=Math.max(bag.minimum??Number.NEGATIVE_INFINITY,bag.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,inst.maxValue=Math.min(bag.maximum??Number.POSITIVE_INFINITY,bag.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,inst.isInt=(bag.format??"").includes("int")||Number.isSafeInteger(bag.multipleOf??.5),inst.isFinite=!0,inst.format=bag.format??null}));function schemas_number(params){return function _number(Class,params){return new Class({type:"number",checks:[],...normalizeParams(params)})}(schemas_ZodNumber,params)}const ZodNumberFormat=$constructor("ZodNumberFormat",((inst,def)=>{$ZodNumberFormat.init(inst,def),schemas_ZodNumber.init(inst,def)}));function schemas_int(params){return function _int(Class,params){return new Class({type:"number",check:"number_format",abort:!1,format:"safeint",...normalizeParams(params)})}(ZodNumberFormat,params)}const schemas_ZodBoolean=$constructor("ZodBoolean",((inst,def)=>{$ZodBoolean.init(inst,def),schemas_ZodType.init(inst,def)}));function schemas_boolean(params){return function _boolean(Class,params){return new Class({type:"boolean",...normalizeParams(params)})}(schemas_ZodBoolean,params)}const schemas_ZodNull=$constructor("ZodNull",((inst,def)=>{$ZodNull.init(inst,def),schemas_ZodType.init(inst,def)}));function schemas_null(params){return function api_null(Class,params){return new Class({type:"null",...normalizeParams(params)})}(schemas_ZodNull,params)}const schemas_ZodUnknown=$constructor("ZodUnknown",((inst,def)=>{$ZodUnknown.init(inst,def),schemas_ZodType.init(inst,def)}));function unknown(){return function _unknown(Class){return new Class({type:"unknown"})}(schemas_ZodUnknown)}const schemas_ZodNever=$constructor("ZodNever",((inst,def)=>{$ZodNever.init(inst,def),schemas_ZodType.init(inst,def)}));function never(params){return function _never(Class,params){return new Class({type:"never",...normalizeParams(params)})}(schemas_ZodNever,params)}const schemas_ZodArray=$constructor("ZodArray",((inst,def)=>{$ZodArray.init(inst,def),schemas_ZodType.init(inst,def),inst.element=def.element,inst.min=(minLength,params)=>inst.check(_minLength(minLength,params)),inst.nonempty=params=>inst.check(_minLength(1,params)),inst.max=(maxLength,params)=>inst.check(_maxLength(maxLength,params)),inst.length=(len,params)=>inst.check(_length(len,params)),inst.unwrap=()=>inst.element}));function array(element,params){return function _array(Class,element,params){return new Class({type:"array",element,...normalizeParams(params)})}(schemas_ZodArray,element,params)}const schemas_ZodObject=$constructor("ZodObject",((inst,def)=>{$ZodObject.init(inst,def),schemas_ZodType.init(inst,def),defineLazy(inst,"shape",(()=>def.shape)),inst.keyof=()=>schemas_enum(Object.keys(inst._zod.def.shape)),inst.catchall=catchall=>inst.clone({...inst._zod.def,catchall}),inst.passthrough=()=>inst.clone({...inst._zod.def,catchall:unknown()}),inst.loose=()=>inst.clone({...inst._zod.def,catchall:unknown()}),inst.strict=()=>inst.clone({...inst._zod.def,catchall:never()}),inst.strip=()=>inst.clone({...inst._zod.def,catchall:void 0}),inst.extend=incoming=>function extend(schema,shape){if(!isPlainObject(shape))throw new Error("Invalid input to extend: expected a plain object");const def=mergeDefs(schema._zod.def,{get shape(){const _shape={...schema._zod.def.shape,...shape};return assignProp(this,"shape",_shape),_shape},checks:[]});return clone(schema,def)}(inst,incoming),inst.merge=other=>function merge(a,b){const def=mergeDefs(a._zod.def,{get shape(){const _shape={...a._zod.def.shape,...b._zod.def.shape};return assignProp(this,"shape",_shape),_shape},get catchall(){return b._zod.def.catchall},checks:[]});return clone(a,def)}(inst,other),inst.pick=mask=>function pick(schema,mask){const currDef=schema._zod.def;return clone(schema,mergeDefs(schema._zod.def,{get shape(){const newShape={};for(const key in mask){if(!(key in currDef.shape))throw new Error(`Unrecognized key: "${key}"`);mask[key]&&(newShape[key]=currDef.shape[key])}return assignProp(this,"shape",newShape),newShape},checks:[]}))}(inst,mask),inst.omit=mask=>function omit(schema,mask){const currDef=schema._zod.def,def=mergeDefs(schema._zod.def,{get shape(){const newShape={...schema._zod.def.shape};for(const key in mask){if(!(key in currDef.shape))throw new Error(`Unrecognized key: "${key}"`);mask[key]&&delete newShape[key]}return assignProp(this,"shape",newShape),newShape},checks:[]});return clone(schema,def)}(inst,mask),inst.partial=(...args)=>function partial(Class,schema,mask){const def=mergeDefs(schema._zod.def,{get shape(){const oldShape=schema._zod.def.shape,shape={...oldShape};if(mask)for(const key in mask){if(!(key in oldShape))throw new Error(`Unrecognized key: "${key}"`);mask[key]&&(shape[key]=Class?new Class({type:"optional",innerType:oldShape[key]}):oldShape[key])}else for(const key in oldShape)shape[key]=Class?new Class({type:"optional",innerType:oldShape[key]}):oldShape[key];return assignProp(this,"shape",shape),shape},checks:[]});return clone(schema,def)}(schemas_ZodOptional,inst,args[0]),inst.required=(...args)=>function required(Class,schema,mask){const def=mergeDefs(schema._zod.def,{get shape(){const oldShape=schema._zod.def.shape,shape={...oldShape};if(mask)for(const key in mask){if(!(key in shape))throw new Error(`Unrecognized key: "${key}"`);mask[key]&&(shape[key]=new Class({type:"nonoptional",innerType:oldShape[key]}))}else for(const key in oldShape)shape[key]=new Class({type:"nonoptional",innerType:oldShape[key]});return assignProp(this,"shape",shape),shape},checks:[]});return clone(schema,def)}(ZodNonOptional,inst,args[0])}));function object(shape,params){const def={type:"object",get shape(){return assignProp(this,"shape",shape?objectClone(shape):{}),this.shape},...normalizeParams(params)};return new schemas_ZodObject(def)}function strictObject(shape,params){return new schemas_ZodObject({type:"object",get shape(){return assignProp(this,"shape",objectClone(shape)),this.shape},catchall:never(),...normalizeParams(params)})}function looseObject(shape,params){return new schemas_ZodObject({type:"object",get shape(){return assignProp(this,"shape",objectClone(shape)),this.shape},catchall:unknown(),...normalizeParams(params)})}const schemas_ZodUnion=$constructor("ZodUnion",((inst,def)=>{$ZodUnion.init(inst,def),schemas_ZodType.init(inst,def),inst.options=def.options}));function union(options,params){return new schemas_ZodUnion({type:"union",options,...normalizeParams(params)})}const schemas_ZodDiscriminatedUnion=$constructor("ZodDiscriminatedUnion",((inst,def)=>{schemas_ZodUnion.init(inst,def),$ZodDiscriminatedUnion.init(inst,def)}));const schemas_ZodIntersection=$constructor("ZodIntersection",((inst,def)=>{$ZodIntersection.init(inst,def),schemas_ZodType.init(inst,def)}));const schemas_ZodRecord=$constructor("ZodRecord",((inst,def)=>{$ZodRecord.init(inst,def),schemas_ZodType.init(inst,def),inst.keyType=def.keyType,inst.valueType=def.valueType}));function record(keyType,valueType,params){return new schemas_ZodRecord({type:"record",keyType,valueType,...normalizeParams(params)})}const schemas_ZodEnum=$constructor("ZodEnum",((inst,def)=>{$ZodEnum.init(inst,def),schemas_ZodType.init(inst,def),inst.enum=def.entries,inst.options=Object.values(def.entries);const keys=new Set(Object.keys(def.entries));inst.extract=(values,params)=>{const newEntries={};for(const value of values){if(!keys.has(value))throw new Error(`Key ${value} not found in enum`);newEntries[value]=def.entries[value]}return new schemas_ZodEnum({...def,checks:[],...normalizeParams(params),entries:newEntries})},inst.exclude=(values,params)=>{const newEntries={...def.entries};for(const value of values){if(!keys.has(value))throw new Error(`Key ${value} not found in enum`);delete newEntries[value]}return new schemas_ZodEnum({...def,checks:[],...normalizeParams(params),entries:newEntries})}}));function schemas_enum(values,params){const entries=Array.isArray(values)?Object.fromEntries(values.map((v=>[v,v]))):values;return new schemas_ZodEnum({type:"enum",entries,...normalizeParams(params)})}const schemas_ZodLiteral=$constructor("ZodLiteral",((inst,def)=>{$ZodLiteral.init(inst,def),schemas_ZodType.init(inst,def),inst.values=new Set(def.values),Object.defineProperty(inst,"value",{get(){if(def.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return def.values[0]}})}));function literal(value,params){return new schemas_ZodLiteral({type:"literal",values:Array.isArray(value)?value:[value],...normalizeParams(params)})}const ZodTransform=$constructor("ZodTransform",((inst,def)=>{$ZodTransform.init(inst,def),schemas_ZodType.init(inst,def),inst._zod.parse=(payload,_ctx)=>{payload.addIssue=issue=>{if("string"==typeof issue)payload.issues.push(util_issue(issue,payload.value,def));else{const _issue=issue;_issue.fatal&&(_issue.continue=!1),_issue.code??(_issue.code="custom"),_issue.input??(_issue.input=payload.value),_issue.inst??(_issue.inst=inst),payload.issues.push(util_issue(_issue))}};const output=def.transform(payload.value,payload);return output instanceof Promise?output.then((output=>(payload.value=output,payload))):(payload.value=output,payload)}}));function transform(fn){return new ZodTransform({type:"transform",transform:fn})}const schemas_ZodOptional=$constructor("ZodOptional",((inst,def)=>{$ZodOptional.init(inst,def),schemas_ZodType.init(inst,def),inst.unwrap=()=>inst._zod.def.innerType}));function optional(innerType){return new schemas_ZodOptional({type:"optional",innerType})}const schemas_ZodNullable=$constructor("ZodNullable",((inst,def)=>{$ZodNullable.init(inst,def),schemas_ZodType.init(inst,def),inst.unwrap=()=>inst._zod.def.innerType}));function nullable(innerType){return new schemas_ZodNullable({type:"nullable",innerType})}const schemas_ZodDefault=$constructor("ZodDefault",((inst,def)=>{$ZodDefault.init(inst,def),schemas_ZodType.init(inst,def),inst.unwrap=()=>inst._zod.def.innerType,inst.removeDefault=inst.unwrap}));const ZodPrefault=$constructor("ZodPrefault",((inst,def)=>{$ZodPrefault.init(inst,def),schemas_ZodType.init(inst,def),inst.unwrap=()=>inst._zod.def.innerType}));const ZodNonOptional=$constructor("ZodNonOptional",((inst,def)=>{$ZodNonOptional.init(inst,def),schemas_ZodType.init(inst,def),inst.unwrap=()=>inst._zod.def.innerType}));const schemas_ZodCatch=$constructor("ZodCatch",((inst,def)=>{$ZodCatch.init(inst,def),schemas_ZodType.init(inst,def),inst.unwrap=()=>inst._zod.def.innerType,inst.removeCatch=inst.unwrap}));const ZodPipe=$constructor("ZodPipe",((inst,def)=>{$ZodPipe.init(inst,def),schemas_ZodType.init(inst,def),inst.in=def.in,inst.out=def.out}));function pipe(in_,out){return new ZodPipe({type:"pipe",in:in_,out})}const schemas_ZodReadonly=$constructor("ZodReadonly",((inst,def)=>{$ZodReadonly.init(inst,def),schemas_ZodType.init(inst,def),inst.unwrap=()=>inst._zod.def.innerType}));const schemas_ZodLazy=$constructor("ZodLazy",((inst,def)=>{$ZodLazy.init(inst,def),schemas_ZodType.init(inst,def),inst.unwrap=()=>inst._zod.def.getter()}));function lazy(getter){return new schemas_ZodLazy({type:"lazy",getter})}const ZodCustom=$constructor("ZodCustom",((inst,def)=>{$ZodCustom.init(inst,def),schemas_ZodType.init(inst,def)}));function schemas_custom(fn,_params){return function _custom(Class,fn,_params){const norm=normalizeParams(_params);return norm.abort??(norm.abort=!0),new Class({type:"custom",check:"custom",fn,...norm})}(ZodCustom,fn??(()=>!0),_params)}function _instanceof(cls,params={error:`Input not instance of ${cls.name}`}){const inst=new ZodCustom({type:"custom",check:"custom",fn:data=>data instanceof cls,abort:!0,...normalizeParams(params)});return inst._zod.bag.Class=cls,inst}__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/@opentelemetry/api/index.js");var ai_dist_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js"),__defProp=Object.defineProperty,dist_marker="vercel.ai.error.AI_NoOutputSpecifiedError",dist_symbol=Symbol.for(dist_marker);var dist_marker2="vercel.ai.error.AI_InvalidArgumentError",dist_symbol2=Symbol.for(dist_marker2);var dist_marker3="vercel.ai.error.AI_InvalidStreamPartError",dist_symbol3=Symbol.for(dist_marker3);var dist_marker4="vercel.ai.error.AI_InvalidToolInputError",dist_symbol4=Symbol.for(dist_marker4);var dist_symbol5=Symbol.for("vercel.ai.error.AI_MCPClientError");var dist_marker6="vercel.ai.error.AI_NoImageGeneratedError",dist_symbol6=Symbol.for(dist_marker6);var dist_a7,dist_marker7="vercel.ai.error.AI_NoObjectGeneratedError",dist_symbol7=Symbol.for(dist_marker7),NoObjectGeneratedError=class extends AISDKError{constructor({message="No object generated.",cause,text:text2,response,usage,finishReason}){super({name:"AI_NoObjectGeneratedError",message,cause}),this[dist_a7]=!0,this.text=text2,this.response=response,this.usage=usage,this.finishReason=finishReason}static isInstance(error){return AISDKError.hasMarker(error,dist_marker7)}};dist_a7=dist_symbol7;var dist_marker8="vercel.ai.error.AI_NoOutputGeneratedError",dist_symbol8=Symbol.for(dist_marker8);var dist_symbol9=Symbol.for("vercel.ai.error.AI_NoSuchToolError");var dist_symbol10=Symbol.for("vercel.ai.error.AI_ToolCallRepairError");var dist_marker11="vercel.ai.error.AI_InvalidDataContentError",dist_symbol11=Symbol.for(dist_marker11);var dist_marker12="vercel.ai.error.AI_InvalidMessageRoleError",dist_symbol12=Symbol.for(dist_marker12);var dist_marker13="vercel.ai.error.AI_MessageConversionError",dist_symbol13=Symbol.for(dist_marker13);var dist_symbol14=Symbol.for("vercel.ai.error.AI_DownloadError");var marker15="vercel.ai.error.AI_RetryError",symbol15=Symbol.for(marker15);var dataContentSchema=union([schemas_string(),_instanceof(Uint8Array),_instanceof(ArrayBuffer),schemas_custom((value=>{var _a17,_b;return null!=(_b=null==(_a17=globalThis.Buffer)?void 0:_a17.isBuffer(value))&&_b}),{message:"Must be a Buffer"})]);var jsonValueSchema=lazy((()=>union([schemas_null(),schemas_string(),schemas_number(),schemas_boolean(),record(schemas_string(),jsonValueSchema),array(jsonValueSchema)]))),providerMetadataSchema=record(schemas_string(),record(schemas_string(),jsonValueSchema)),textPartSchema=object({type:literal("text"),text:schemas_string(),providerOptions:providerMetadataSchema.optional()}),imagePartSchema=object({type:literal("image"),image:union([dataContentSchema,_instanceof(URL)]),mediaType:schemas_string().optional(),providerOptions:providerMetadataSchema.optional()}),filePartSchema=object({type:literal("file"),data:union([dataContentSchema,_instanceof(URL)]),filename:schemas_string().optional(),mediaType:schemas_string(),providerOptions:providerMetadataSchema.optional()}),reasoningPartSchema=object({type:literal("reasoning"),text:schemas_string(),providerOptions:providerMetadataSchema.optional()}),toolCallPartSchema=object({type:literal("tool-call"),toolCallId:schemas_string(),toolName:schemas_string(),input:unknown(),providerOptions:providerMetadataSchema.optional(),providerExecuted:schemas_boolean().optional()}),outputSchema=function discriminatedUnion(discriminator,options,params){return new schemas_ZodDiscriminatedUnion({type:"union",options,discriminator,...normalizeParams(params)})}("type",[object({type:literal("text"),value:schemas_string()}),object({type:literal("json"),value:jsonValueSchema}),object({type:literal("error-text"),value:schemas_string()}),object({type:literal("error-json"),value:jsonValueSchema}),object({type:literal("content"),value:array(union([object({type:literal("text"),text:schemas_string()}),object({type:literal("media"),data:schemas_string(),mediaType:schemas_string()})]))})]),toolResultPartSchema=object({type:literal("tool-result"),toolCallId:schemas_string(),toolName:schemas_string(),output:outputSchema,providerOptions:providerMetadataSchema.optional()}),systemModelMessageSchema=object({role:literal("system"),content:schemas_string(),providerOptions:providerMetadataSchema.optional()}),userModelMessageSchema=object({role:literal("user"),content:union([schemas_string(),array(union([textPartSchema,imagePartSchema,filePartSchema]))]),providerOptions:providerMetadataSchema.optional()}),assistantModelMessageSchema=object({role:literal("assistant"),content:union([schemas_string(),array(union([textPartSchema,filePartSchema,reasoningPartSchema,toolCallPartSchema,toolResultPartSchema]))]),providerOptions:providerMetadataSchema.optional()}),toolModelMessageSchema=object({role:literal("tool"),content:array(toolResultPartSchema),providerOptions:providerMetadataSchema.optional()});union([systemModelMessageSchema,userModelMessageSchema,assistantModelMessageSchema,toolModelMessageSchema]);createIdGenerator({prefix:"aitxt",size:24});TransformStream;var uiMessageChunkSchema=union([strictObject({type:literal("text-start"),id:schemas_string(),providerMetadata:providerMetadataSchema.optional()}),strictObject({type:literal("text-delta"),id:schemas_string(),delta:schemas_string(),providerMetadata:providerMetadataSchema.optional()}),strictObject({type:literal("text-end"),id:schemas_string(),providerMetadata:providerMetadataSchema.optional()}),strictObject({type:literal("error"),errorText:schemas_string()}),strictObject({type:literal("tool-input-start"),toolCallId:schemas_string(),toolName:schemas_string(),providerExecuted:schemas_boolean().optional(),dynamic:schemas_boolean().optional()}),strictObject({type:literal("tool-input-delta"),toolCallId:schemas_string(),inputTextDelta:schemas_string()}),strictObject({type:literal("tool-input-available"),toolCallId:schemas_string(),toolName:schemas_string(),input:unknown(),providerExecuted:schemas_boolean().optional(),providerMetadata:providerMetadataSchema.optional(),dynamic:schemas_boolean().optional()}),strictObject({type:literal("tool-input-error"),toolCallId:schemas_string(),toolName:schemas_string(),input:unknown(),providerExecuted:schemas_boolean().optional(),providerMetadata:providerMetadataSchema.optional(),dynamic:schemas_boolean().optional(),errorText:schemas_string()}),strictObject({type:literal("tool-output-available"),toolCallId:schemas_string(),output:unknown(),providerExecuted:schemas_boolean().optional(),dynamic:schemas_boolean().optional(),preliminary:schemas_boolean().optional()}),strictObject({type:literal("tool-output-error"),toolCallId:schemas_string(),errorText:schemas_string(),providerExecuted:schemas_boolean().optional(),dynamic:schemas_boolean().optional()}),strictObject({type:literal("reasoning-start"),id:schemas_string(),providerMetadata:providerMetadataSchema.optional()}),strictObject({type:literal("reasoning-delta"),id:schemas_string(),delta:schemas_string(),providerMetadata:providerMetadataSchema.optional()}),strictObject({type:literal("reasoning-end"),id:schemas_string(),providerMetadata:providerMetadataSchema.optional()}),strictObject({type:literal("source-url"),sourceId:schemas_string(),url:schemas_string(),title:schemas_string().optional(),providerMetadata:providerMetadataSchema.optional()}),strictObject({type:literal("source-document"),sourceId:schemas_string(),mediaType:schemas_string(),title:schemas_string(),filename:schemas_string().optional(),providerMetadata:providerMetadataSchema.optional()}),strictObject({type:literal("file"),url:schemas_string(),mediaType:schemas_string(),providerMetadata:providerMetadataSchema.optional()}),strictObject({type:schemas_custom((value=>"string"==typeof value&&value.startsWith("data-")),{message:'Type must start with "data-"'}),id:schemas_string().optional(),data:unknown(),transient:schemas_boolean().optional()}),strictObject({type:literal("start-step")}),strictObject({type:literal("finish-step")}),strictObject({type:literal("start"),messageId:schemas_string().optional(),messageMetadata:unknown().optional()}),strictObject({type:literal("finish"),messageMetadata:unknown().optional()}),strictObject({type:literal("abort")}),strictObject({type:literal("message-metadata"),messageMetadata:unknown()})]);function mergeObjects(base,overrides){if(void 0===base&&void 0===overrides)return;if(void 0===base)return overrides;if(void 0===overrides)return base;const result={...base};for(const key in overrides)if(Object.prototype.hasOwnProperty.call(overrides,key)){const overridesValue=overrides[key];if(void 0===overridesValue)continue;const baseValue=key in base?base[key]:void 0,isSourceObject=!(null===overridesValue||"object"!=typeof overridesValue||Array.isArray(overridesValue)||overridesValue instanceof Date||overridesValue instanceof RegExp),isTargetObject=!(null==baseValue||"object"!=typeof baseValue||Array.isArray(baseValue)||baseValue instanceof Date||baseValue instanceof RegExp);result[key]=isSourceObject&&isTargetObject?mergeObjects(baseValue,overridesValue):overridesValue}return result}function fixJson(input){const stack=["ROOT"];let lastValidIndex=-1,literalStart=null;function processValueStart(char,i,swapState){switch(char){case'"':lastValidIndex=i,stack.pop(),stack.push(swapState),stack.push("INSIDE_STRING");break;case"f":case"t":case"n":lastValidIndex=i,literalStart=i,stack.pop(),stack.push(swapState),stack.push("INSIDE_LITERAL");break;case"-":stack.pop(),stack.push(swapState),stack.push("INSIDE_NUMBER");break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":lastValidIndex=i,stack.pop(),stack.push(swapState),stack.push("INSIDE_NUMBER");break;case"{":lastValidIndex=i,stack.pop(),stack.push(swapState),stack.push("INSIDE_OBJECT_START");break;case"[":lastValidIndex=i,stack.pop(),stack.push(swapState),stack.push("INSIDE_ARRAY_START")}}function processAfterObjectValue(char,i){switch(char){case",":stack.pop(),stack.push("INSIDE_OBJECT_AFTER_COMMA");break;case"}":lastValidIndex=i,stack.pop()}}function processAfterArrayValue(char,i){switch(char){case",":stack.pop(),stack.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":lastValidIndex=i,stack.pop()}}for(let i=0;i<input.length;i++){const char=input[i];switch(stack[stack.length-1]){case"ROOT":processValueStart(char,i,"FINISH");break;case"INSIDE_OBJECT_START":switch(char){case'"':stack.pop(),stack.push("INSIDE_OBJECT_KEY");break;case"}":lastValidIndex=i,stack.pop()}break;case"INSIDE_OBJECT_AFTER_COMMA":if('"'===char)stack.pop(),stack.push("INSIDE_OBJECT_KEY");break;case"INSIDE_OBJECT_KEY":if('"'===char)stack.pop(),stack.push("INSIDE_OBJECT_AFTER_KEY");break;case"INSIDE_OBJECT_AFTER_KEY":if(":"===char)stack.pop(),stack.push("INSIDE_OBJECT_BEFORE_VALUE");break;case"INSIDE_OBJECT_BEFORE_VALUE":processValueStart(char,i,"INSIDE_OBJECT_AFTER_VALUE");break;case"INSIDE_OBJECT_AFTER_VALUE":processAfterObjectValue(char,i);break;case"INSIDE_STRING":switch(char){case'"':stack.pop(),lastValidIndex=i;break;case"\\":stack.push("INSIDE_STRING_ESCAPE");break;default:lastValidIndex=i}break;case"INSIDE_ARRAY_START":if("]"===char)lastValidIndex=i,stack.pop();else lastValidIndex=i,processValueStart(char,i,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_ARRAY_AFTER_VALUE":switch(char){case",":stack.pop(),stack.push("INSIDE_ARRAY_AFTER_COMMA");break;case"]":lastValidIndex=i,stack.pop();break;default:lastValidIndex=i}break;case"INSIDE_ARRAY_AFTER_COMMA":processValueStart(char,i,"INSIDE_ARRAY_AFTER_VALUE");break;case"INSIDE_STRING_ESCAPE":stack.pop(),lastValidIndex=i;break;case"INSIDE_NUMBER":switch(char){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":lastValidIndex=i;break;case"e":case"E":case"-":case".":break;case",":stack.pop(),"INSIDE_ARRAY_AFTER_VALUE"===stack[stack.length-1]&&processAfterArrayValue(char,i),"INSIDE_OBJECT_AFTER_VALUE"===stack[stack.length-1]&&processAfterObjectValue(char,i);break;case"}":stack.pop(),"INSIDE_OBJECT_AFTER_VALUE"===stack[stack.length-1]&&processAfterObjectValue(char,i);break;case"]":stack.pop(),"INSIDE_ARRAY_AFTER_VALUE"===stack[stack.length-1]&&processAfterArrayValue(char,i);break;default:stack.pop()}break;case"INSIDE_LITERAL":{const partialLiteral=input.substring(literalStart,i+1);"false".startsWith(partialLiteral)||"true".startsWith(partialLiteral)||"null".startsWith(partialLiteral)?lastValidIndex=i:(stack.pop(),"INSIDE_OBJECT_AFTER_VALUE"===stack[stack.length-1]?processAfterObjectValue(char,i):"INSIDE_ARRAY_AFTER_VALUE"===stack[stack.length-1]&&processAfterArrayValue(char,i));break}}}let result=input.slice(0,lastValidIndex+1);for(let i=stack.length-1;i>=0;i--){switch(stack[i]){case"INSIDE_STRING":result+='"';break;case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":result+="}";break;case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":result+="]";break;case"INSIDE_LITERAL":{const partialLiteral=input.substring(literalStart,input.length);"true".startsWith(partialLiteral)?result+="true".slice(partialLiteral.length):"false".startsWith(partialLiteral)?result+="false".slice(partialLiteral.length):"null".startsWith(partialLiteral)&&(result+="null".slice(partialLiteral.length))}}}return result}async function dist_parsePartialJson(jsonText){if(void 0===jsonText)return{value:void 0,state:"undefined-input"};let result=await dist_safeParseJSON({text:jsonText});return result.success?{value:result.value,state:"successful-parse"}:(result=await dist_safeParseJSON({text:fixJson(jsonText)}),result.success?{value:result.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}function isToolUIPart(part){return part.type.startsWith("tool-")}function isDynamicToolUIPart(part){return"dynamic-tool"===part.type}function isToolOrDynamicToolUIPart(part){return isToolUIPart(part)||isDynamicToolUIPart(part)}function getToolName(part){return part.type.split("-").slice(1).join("-")}function createStreamingUIMessageState({lastMessage,messageId}){return{message:"assistant"===(null==lastMessage?void 0:lastMessage.role)?lastMessage:{id:messageId,metadata:void 0,role:"assistant",parts:[]},activeTextParts:{},activeReasoningParts:{},partialToolCalls:{}}}function processUIMessageStream({stream,messageMetadataSchema,dataPartSchemas,runUpdateMessageJob,onError,onToolCall,onData}){return stream.pipeThrough(new TransformStream({async transform(chunk,controller){await runUpdateMessageJob((async({state,write})=>{var _a17,_b,_c,_d;function getToolInvocation(toolCallId){const toolInvocation=state.message.parts.filter(isToolUIPart).find((invocation=>invocation.toolCallId===toolCallId));if(null==toolInvocation)throw new Error("tool-output-error must be preceded by a tool-input-available");return toolInvocation}function getDynamicToolInvocation(toolCallId){const toolInvocation=state.message.parts.filter((part=>"dynamic-tool"===part.type)).find((invocation=>invocation.toolCallId===toolCallId));if(null==toolInvocation)throw new Error("tool-output-error must be preceded by a tool-input-available");return toolInvocation}function updateToolPart(options){var _a18;const part=state.message.parts.find((part2=>isToolUIPart(part2)&&part2.toolCallId===options.toolCallId)),anyOptions=options,anyPart=part;null!=part?(part.state=options.state,anyPart.input=anyOptions.input,anyPart.output=anyOptions.output,anyPart.errorText=anyOptions.errorText,anyPart.rawInput=anyOptions.rawInput,anyPart.preliminary=anyOptions.preliminary,anyPart.providerExecuted=null!=(_a18=anyOptions.providerExecuted)?_a18:part.providerExecuted,null!=anyOptions.providerMetadata&&"input-available"===part.state&&(part.callProviderMetadata=anyOptions.providerMetadata)):state.message.parts.push({type:`tool-${options.toolName}`,toolCallId:options.toolCallId,state:options.state,input:anyOptions.input,output:anyOptions.output,rawInput:anyOptions.rawInput,errorText:anyOptions.errorText,providerExecuted:anyOptions.providerExecuted,preliminary:anyOptions.preliminary,...null!=anyOptions.providerMetadata?{callProviderMetadata:anyOptions.providerMetadata}:{}})}function updateDynamicToolPart(options){var _a18;const part=state.message.parts.find((part2=>"dynamic-tool"===part2.type&&part2.toolCallId===options.toolCallId)),anyOptions=options,anyPart=part;null!=part?(part.state=options.state,anyPart.toolName=options.toolName,anyPart.input=anyOptions.input,anyPart.output=anyOptions.output,anyPart.errorText=anyOptions.errorText,anyPart.rawInput=null!=(_a18=anyOptions.rawInput)?_a18:anyPart.rawInput,anyPart.preliminary=anyOptions.preliminary,null!=anyOptions.providerMetadata&&"input-available"===part.state&&(part.callProviderMetadata=anyOptions.providerMetadata)):state.message.parts.push({type:"dynamic-tool",toolName:options.toolName,toolCallId:options.toolCallId,state:options.state,input:anyOptions.input,output:anyOptions.output,errorText:anyOptions.errorText,preliminary:anyOptions.preliminary,...null!=anyOptions.providerMetadata?{callProviderMetadata:anyOptions.providerMetadata}:{}})}async function updateMessageMetadata(metadata){if(null!=metadata){const mergedMetadata=null!=state.message.metadata?mergeObjects(state.message.metadata,metadata):metadata;null!=messageMetadataSchema&&await validateTypes({value:mergedMetadata,schema:messageMetadataSchema}),state.message.metadata=mergedMetadata}}switch(chunk.type){case"text-start":{const textPart={type:"text",text:"",providerMetadata:chunk.providerMetadata,state:"streaming"};state.activeTextParts[chunk.id]=textPart,state.message.parts.push(textPart),write();break}case"text-delta":{const textPart=state.activeTextParts[chunk.id];textPart.text+=chunk.delta,textPart.providerMetadata=null!=(_a17=chunk.providerMetadata)?_a17:textPart.providerMetadata,write();break}case"text-end":{const textPart=state.activeTextParts[chunk.id];textPart.state="done",textPart.providerMetadata=null!=(_b=chunk.providerMetadata)?_b:textPart.providerMetadata,delete state.activeTextParts[chunk.id],write();break}case"reasoning-start":{const reasoningPart={type:"reasoning",text:"",providerMetadata:chunk.providerMetadata,state:"streaming"};state.activeReasoningParts[chunk.id]=reasoningPart,state.message.parts.push(reasoningPart),write();break}case"reasoning-delta":{const reasoningPart=state.activeReasoningParts[chunk.id];reasoningPart.text+=chunk.delta,reasoningPart.providerMetadata=null!=(_c=chunk.providerMetadata)?_c:reasoningPart.providerMetadata,write();break}case"reasoning-end":{const reasoningPart=state.activeReasoningParts[chunk.id];reasoningPart.providerMetadata=null!=(_d=chunk.providerMetadata)?_d:reasoningPart.providerMetadata,reasoningPart.state="done",delete state.activeReasoningParts[chunk.id],write();break}case"file":state.message.parts.push({type:"file",mediaType:chunk.mediaType,url:chunk.url}),write();break;case"source-url":state.message.parts.push({type:"source-url",sourceId:chunk.sourceId,url:chunk.url,title:chunk.title,providerMetadata:chunk.providerMetadata}),write();break;case"source-document":state.message.parts.push({type:"source-document",sourceId:chunk.sourceId,mediaType:chunk.mediaType,title:chunk.title,filename:chunk.filename,providerMetadata:chunk.providerMetadata}),write();break;case"tool-input-start":{const toolInvocations=state.message.parts.filter(isToolUIPart);state.partialToolCalls[chunk.toolCallId]={text:"",toolName:chunk.toolName,index:toolInvocations.length,dynamic:chunk.dynamic},chunk.dynamic?updateDynamicToolPart({toolCallId:chunk.toolCallId,toolName:chunk.toolName,state:"input-streaming",input:void 0}):updateToolPart({toolCallId:chunk.toolCallId,toolName:chunk.toolName,state:"input-streaming",input:void 0,providerExecuted:chunk.providerExecuted}),write();break}case"tool-input-delta":{const partialToolCall=state.partialToolCalls[chunk.toolCallId];partialToolCall.text+=chunk.inputTextDelta;const{value:partialArgs}=await dist_parsePartialJson(partialToolCall.text);partialToolCall.dynamic?updateDynamicToolPart({toolCallId:chunk.toolCallId,toolName:partialToolCall.toolName,state:"input-streaming",input:partialArgs}):updateToolPart({toolCallId:chunk.toolCallId,toolName:partialToolCall.toolName,state:"input-streaming",input:partialArgs}),write();break}case"tool-input-available":chunk.dynamic?updateDynamicToolPart({toolCallId:chunk.toolCallId,toolName:chunk.toolName,state:"input-available",input:chunk.input,providerMetadata:chunk.providerMetadata}):updateToolPart({toolCallId:chunk.toolCallId,toolName:chunk.toolName,state:"input-available",input:chunk.input,providerExecuted:chunk.providerExecuted,providerMetadata:chunk.providerMetadata}),write(),onToolCall&&!chunk.providerExecuted&&await onToolCall({toolCall:chunk});break;case"tool-input-error":chunk.dynamic?updateDynamicToolPart({toolCallId:chunk.toolCallId,toolName:chunk.toolName,state:"output-error",input:chunk.input,errorText:chunk.errorText,providerMetadata:chunk.providerMetadata}):updateToolPart({toolCallId:chunk.toolCallId,toolName:chunk.toolName,state:"output-error",input:void 0,rawInput:chunk.input,errorText:chunk.errorText,providerExecuted:chunk.providerExecuted,providerMetadata:chunk.providerMetadata}),write();break;case"tool-output-available":if(chunk.dynamic){const toolInvocation=getDynamicToolInvocation(chunk.toolCallId);updateDynamicToolPart({toolCallId:chunk.toolCallId,toolName:toolInvocation.toolName,state:"output-available",input:toolInvocation.input,output:chunk.output,preliminary:chunk.preliminary})}else{const toolInvocation=getToolInvocation(chunk.toolCallId);updateToolPart({toolCallId:chunk.toolCallId,toolName:getToolName(toolInvocation),state:"output-available",input:toolInvocation.input,output:chunk.output,providerExecuted:chunk.providerExecuted,preliminary:chunk.preliminary})}write();break;case"tool-output-error":if(chunk.dynamic){const toolInvocation=getDynamicToolInvocation(chunk.toolCallId);updateDynamicToolPart({toolCallId:chunk.toolCallId,toolName:toolInvocation.toolName,state:"output-error",input:toolInvocation.input,errorText:chunk.errorText})}else{const toolInvocation=getToolInvocation(chunk.toolCallId);updateToolPart({toolCallId:chunk.toolCallId,toolName:getToolName(toolInvocation),state:"output-error",input:toolInvocation.input,rawInput:toolInvocation.rawInput,errorText:chunk.errorText})}write();break;case"start-step":state.message.parts.push({type:"step-start"});break;case"finish-step":state.activeTextParts={},state.activeReasoningParts={};break;case"start":null!=chunk.messageId&&(state.message.id=chunk.messageId),await updateMessageMetadata(chunk.messageMetadata),null==chunk.messageId&&null==chunk.messageMetadata||write();break;case"finish":case"message-metadata":await updateMessageMetadata(chunk.messageMetadata),null!=chunk.messageMetadata&&write();break;case"error":null==onError||onError(new Error(chunk.errorText));break;default:if(function isDataUIMessageChunk(chunk){return chunk.type.startsWith("data-")}(chunk)){null!=(null==dataPartSchemas?void 0:dataPartSchemas[chunk.type])&&await validateTypes({value:chunk.data,schema:dataPartSchemas[chunk.type]});const dataChunk=chunk;if(dataChunk.transient){null==onData||onData(dataChunk);break}const existingUIPart=null!=dataChunk.id?state.message.parts.find((chunkArg=>dataChunk.type===chunkArg.type&&dataChunk.id===chunkArg.id)):void 0;null!=existingUIPart?existingUIPart.data=dataChunk.data:state.message.parts.push(dataChunk),null==onData||onData(dataChunk),write()}}controller.enqueue(chunk)}))}}))}async function consumeStream({stream,onError}){const reader=stream.getReader();try{for(;;){const{done}=await reader.read();if(done)break}}catch(error){null==onError||onError(error)}finally{reader.releaseLock()}}createIdGenerator({prefix:"aitxt",size:24});createIdGenerator({prefix:"aiobj",size:24});var SerialJobExecutor=class{constructor(){this.queue=[],this.isProcessing=!1}async processQueue(){if(!this.isProcessing){for(this.isProcessing=!0;this.queue.length>0;)await this.queue[0](),this.queue.shift();this.isProcessing=!1}}async run(job){return new Promise(((resolve2,reject)=>{this.queue.push((async()=>{try{await job(),resolve2()}catch(error){reject(error)}})),this.processQueue()}))}};createIdGenerator({prefix:"aiobj",size:24});((target,all)=>{for(var name17 in all)__defProp(target,name17,{get:all[name17],enumerable:!0})})({},{object:()=>dist_object,text:()=>dist_text});var dist_text=()=>({type:"text",responseFormat:{type:"text"},parsePartial:async({text:text2})=>({partial:text2}),parseOutput:async({text:text2})=>text2}),dist_object=({schema:inputSchema})=>{const schema=dist_asSchema(inputSchema);return{type:"object",responseFormat:{type:"json",schema:schema.jsonSchema},async parsePartial({text:text2}){const result=await dist_parsePartialJson(text2);switch(result.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:result.value};default:{const _exhaustiveCheck=result.state;throw new Error(`Unsupported parse state: ${_exhaustiveCheck}`)}}},async parseOutput({text:text2},context){const parseResult=await dist_safeParseJSON({text:text2});if(!parseResult.success)throw new NoObjectGeneratedError({message:"No object generated: could not parse the response.",cause:parseResult.error,text:text2,response:context.response,usage:context.usage,finishReason:context.finishReason});const validationResult=await dist_safeValidateTypes({value:parseResult.value,schema});if(!validationResult.success)throw new NoObjectGeneratedError({message:"No object generated: response did not match schema.",cause:validationResult.error,text:text2,response:context.response,usage:context.usage,finishReason:context.finishReason});return validationResult.value}}};var name16="AI_NoSuchProviderError",marker16=`vercel.ai.error.${name16}`,symbol16=Symbol.for(marker16);var ClientOrServerImplementationSchema=looseObject({name:schemas_string(),version:schemas_string()}),BaseParamsSchema=looseObject({_meta:optional(object({}).loose())}),ResultSchema=BaseParamsSchema,RequestSchema=object({method:schemas_string(),params:optional(BaseParamsSchema)}),ServerCapabilitiesSchema=looseObject({experimental:optional(object({}).loose()),logging:optional(object({}).loose()),prompts:optional(looseObject({listChanged:optional(schemas_boolean())})),resources:optional(looseObject({subscribe:optional(schemas_boolean()),listChanged:optional(schemas_boolean())})),tools:optional(looseObject({listChanged:optional(schemas_boolean())}))}),PaginatedResultSchema=(ResultSchema.extend({protocolVersion:schemas_string(),capabilities:ServerCapabilitiesSchema,serverInfo:ClientOrServerImplementationSchema,instructions:optional(schemas_string())}),ResultSchema.extend({nextCursor:optional(schemas_string())})),ToolSchema=object({name:schemas_string(),description:optional(schemas_string()),inputSchema:object({type:literal("object"),properties:optional(object({}).loose())}).loose()}).loose(),TextContentSchema=(PaginatedResultSchema.extend({tools:array(ToolSchema)}),object({type:literal("text"),text:schemas_string()}).loose()),ImageContentSchema=object({type:literal("image"),data:schemas_base64(),mimeType:schemas_string()}).loose(),ResourceContentsSchema=object({uri:schemas_string(),mimeType:optional(schemas_string())}).loose(),TextResourceContentsSchema=ResourceContentsSchema.extend({text:schemas_string()}),BlobResourceContentsSchema=ResourceContentsSchema.extend({blob:schemas_base64()}),EmbeddedResourceSchema=object({type:literal("resource"),resource:union([TextResourceContentsSchema,BlobResourceContentsSchema])}).loose(),JSONRPCRequestSchema=(ResultSchema.extend({content:array(union([TextContentSchema,ImageContentSchema,EmbeddedResourceSchema])),isError:schemas_boolean().default(!1).optional()}).or(ResultSchema.extend({toolResult:unknown()})),object({jsonrpc:literal("2.0"),id:union([schemas_string(),schemas_number().int()])}).merge(RequestSchema).strict()),JSONRPCResponseSchema=object({jsonrpc:literal("2.0"),id:union([schemas_string(),schemas_number().int()]),result:ResultSchema}).strict(),JSONRPCErrorSchema=object({jsonrpc:literal("2.0"),id:union([schemas_string(),schemas_number().int()]),error:object({code:schemas_number().int(),message:schemas_string(),data:optional(unknown())})}).strict();union([JSONRPCRequestSchema,object({jsonrpc:literal("2.0")}).merge(object({method:schemas_string(),params:optional(BaseParamsSchema)})).strict(),JSONRPCResponseSchema,JSONRPCErrorSchema]);var HttpChatTransport=class{constructor({api="/api/chat",credentials,headers,body,fetch:fetch2,prepareSendMessagesRequest,prepareReconnectToStreamRequest}){this.api=api,this.credentials=credentials,this.headers=headers,this.body=body,this.fetch=fetch2,this.prepareSendMessagesRequest=prepareSendMessagesRequest,this.prepareReconnectToStreamRequest=prepareReconnectToStreamRequest}async sendMessages({abortSignal,...options}){var _a17,_b,_c,_d,_e;const resolvedBody=await resolve(this.body),resolvedHeaders=await resolve(this.headers),resolvedCredentials=await resolve(this.credentials),preparedRequest=await(null==(_a17=this.prepareSendMessagesRequest)?void 0:_a17.call(this,{api:this.api,id:options.chatId,messages:options.messages,body:{...resolvedBody,...options.body},headers:{...resolvedHeaders,...options.headers},credentials:resolvedCredentials,requestMetadata:options.metadata,trigger:options.trigger,messageId:options.messageId})),api=null!=(_b=null==preparedRequest?void 0:preparedRequest.api)?_b:this.api,headers=void 0!==(null==preparedRequest?void 0:preparedRequest.headers)?preparedRequest.headers:{...resolvedHeaders,...options.headers},body=void 0!==(null==preparedRequest?void 0:preparedRequest.body)?preparedRequest.body:{...resolvedBody,...options.body,id:options.chatId,messages:options.messages,trigger:options.trigger,messageId:options.messageId},credentials=null!=(_c=null==preparedRequest?void 0:preparedRequest.credentials)?_c:resolvedCredentials,fetch2=null!=(_d=this.fetch)?_d:globalThis.fetch,response=await fetch2(api,{method:"POST",headers:dist_withUserAgentSuffix({"Content-Type":"application/json",...headers},"ai-sdk/5.0.56",dist_getRuntimeEnvironmentUserAgent()),body:JSON.stringify(body),credentials,signal:abortSignal});if(!response.ok)throw new Error(null!=(_e=await response.text())?_e:"Failed to fetch the chat response.");if(!response.body)throw new Error("The response body is empty.");return this.processResponseStream(response.body)}async reconnectToStream(options){var _a17,_b,_c,_d,_e;const resolvedBody=await resolve(this.body),resolvedHeaders=await resolve(this.headers),resolvedCredentials=await resolve(this.credentials),preparedRequest=await(null==(_a17=this.prepareReconnectToStreamRequest)?void 0:_a17.call(this,{api:this.api,id:options.chatId,body:{...resolvedBody,...options.body},headers:{...resolvedHeaders,...options.headers},credentials:resolvedCredentials,requestMetadata:options.metadata})),api=null!=(_b=null==preparedRequest?void 0:preparedRequest.api)?_b:`${this.api}/${options.chatId}/stream`,headers=void 0!==(null==preparedRequest?void 0:preparedRequest.headers)?preparedRequest.headers:{...resolvedHeaders,...options.headers},credentials=null!=(_c=null==preparedRequest?void 0:preparedRequest.credentials)?_c:resolvedCredentials,fetch2=null!=(_d=this.fetch)?_d:globalThis.fetch,response=await fetch2(api,{method:"GET",headers:dist_withUserAgentSuffix(headers,"ai-sdk/5.0.56",dist_getRuntimeEnvironmentUserAgent()),credentials});if(204===response.status)return null;if(!response.ok)throw new Error(null!=(_e=await response.text())?_e:"Failed to fetch the chat response.");if(!response.body)throw new Error("The response body is empty.");return this.processResponseStream(response.body)}},DefaultChatTransport=class extends HttpChatTransport{constructor(options={}){super(options)}processResponseStream(stream){return dist_parseJsonEventStream({stream,schema:uiMessageChunkSchema}).pipeThrough(new TransformStream({async transform(chunk,controller){if(!chunk.success)throw chunk.error;controller.enqueue(chunk.value)}}))}},AbstractChat=class{constructor({generateId:generateId3=dist_generateId,id=generateId3(),transport=new DefaultChatTransport,messageMetadataSchema,dataPartSchemas,state,onError,onToolCall,onFinish,onData,sendAutomaticallyWhen}){this.activeResponse=void 0,this.jobExecutor=new SerialJobExecutor,this.sendMessage=async(message,options)=>{var _a17,_b,_c,_d;if(null==message)return void await this.makeRequest({trigger:"submit-message",messageId:null==(_a17=this.lastMessage)?void 0:_a17.id,...options});let uiMessage;if("text"in message||"files"in message){const fileParts=Array.isArray(message.files)?message.files:await async function convertFileListToFileUIParts(files){if(null==files)return[];if(!(globalThis.FileList&&files instanceof globalThis.FileList))throw new Error("FileList is not supported in the current environment");return Promise.all(Array.from(files).map((async file=>{const{name:name17,type}=file;return{type:"file",mediaType:type,filename:name17,url:await new Promise(((resolve2,reject)=>{const reader=new FileReader;reader.onload=readerEvent=>{var _a17;resolve2(null==(_a17=readerEvent.target)?void 0:_a17.result)},reader.onerror=error=>reject(error),reader.readAsDataURL(file)}))}})))}(message.files);uiMessage={parts:[...fileParts,..."text"in message&&null!=message.text?[{type:"text",text:message.text}]:[]]}}else uiMessage=message;if(null!=message.messageId){const messageIndex=this.state.messages.findIndex((m=>m.id===message.messageId));if(-1===messageIndex)throw new Error(`message with id ${message.messageId} not found`);if("user"!==this.state.messages[messageIndex].role)throw new Error(`message with id ${message.messageId} is not a user message`);this.state.messages=this.state.messages.slice(0,messageIndex+1),this.state.replaceMessage(messageIndex,{...uiMessage,id:message.messageId,role:null!=(_b=uiMessage.role)?_b:"user",metadata:message.metadata})}else this.state.pushMessage({...uiMessage,id:null!=(_c=uiMessage.id)?_c:this.generateId(),role:null!=(_d=uiMessage.role)?_d:"user",metadata:message.metadata});await this.makeRequest({trigger:"submit-message",messageId:message.messageId,...options})},this.regenerate=async({messageId,...options}={})=>{const messageIndex=null==messageId?this.state.messages.length-1:this.state.messages.findIndex((message=>message.id===messageId));if(-1===messageIndex)throw new Error(`message ${messageId} not found`);this.state.messages=this.state.messages.slice(0,"assistant"===this.messages[messageIndex].role?messageIndex:messageIndex+1),await this.makeRequest({trigger:"regenerate-message",messageId,...options})},this.resumeStream=async(options={})=>{await this.makeRequest({trigger:"resume-stream",...options})},this.clearError=()=>{"error"===this.status&&(this.state.error=void 0,this.setStatus({status:"ready"}))},this.addToolResult=async({state="output-available",tool:tool3,toolCallId,output,errorText})=>this.jobExecutor.run((async()=>{var _a17,_b;const messages=this.state.messages,lastMessage=messages[messages.length-1];this.state.replaceMessage(messages.length-1,{...lastMessage,parts:lastMessage.parts.map((part=>isToolOrDynamicToolUIPart(part)&&part.toolCallId===toolCallId?{...part,state,output,errorText}:part))}),this.activeResponse&&(this.activeResponse.state.message.parts=this.activeResponse.state.message.parts.map((part=>isToolOrDynamicToolUIPart(part)&&part.toolCallId===toolCallId?{...part,state,output,errorText}:part))),"streaming"!==this.status&&"submitted"!==this.status&&(null==(_a17=this.sendAutomaticallyWhen)?void 0:_a17.call(this,{messages:this.state.messages}))&&this.makeRequest({trigger:"submit-message",messageId:null==(_b=this.lastMessage)?void 0:_b.id})})),this.stop=async()=>{var _a17;"streaming"!==this.status&&"submitted"!==this.status||(null==(_a17=this.activeResponse)?void 0:_a17.abortController)&&this.activeResponse.abortController.abort()},this.id=id,this.transport=transport,this.generateId=generateId3,this.messageMetadataSchema=messageMetadataSchema,this.dataPartSchemas=dataPartSchemas,this.state=state,this.onError=onError,this.onToolCall=onToolCall,this.onFinish=onFinish,this.onData=onData,this.sendAutomaticallyWhen=sendAutomaticallyWhen}get status(){return this.state.status}setStatus({status,error}){this.status!==status&&(this.state.status=status,this.state.error=error)}get error(){return this.state.error}get messages(){return this.state.messages}get lastMessage(){return this.state.messages[this.state.messages.length-1]}set messages(messages){this.state.messages=messages}async makeRequest({trigger,metadata,headers,body,messageId}){var _a17,_b,_c;this.setStatus({status:"submitted",error:void 0});const lastMessage=this.lastMessage;let isAbort=!1,isDisconnect=!1,isError=!1;try{const activeResponse={state:createStreamingUIMessageState({lastMessage:this.state.snapshot(lastMessage),messageId:this.generateId()}),abortController:new AbortController};let stream;if(activeResponse.abortController.signal.addEventListener("abort",(()=>{isAbort=!0})),this.activeResponse=activeResponse,"resume-stream"===trigger){const reconnect=await this.transport.reconnectToStream({chatId:this.id,metadata,headers,body});if(null==reconnect)return void this.setStatus({status:"ready"});stream=reconnect}else stream=await this.transport.sendMessages({chatId:this.id,messages:this.state.messages,abortSignal:activeResponse.abortController.signal,metadata,headers,body,trigger,messageId});const runUpdateMessageJob=job=>this.jobExecutor.run((()=>job({state:activeResponse.state,write:()=>{var _a18;this.setStatus({status:"streaming"});activeResponse.state.message.id===(null==(_a18=this.lastMessage)?void 0:_a18.id)?this.state.replaceMessage(this.state.messages.length-1,activeResponse.state.message):this.state.pushMessage(activeResponse.state.message)}})));await consumeStream({stream:processUIMessageStream({stream,onToolCall:this.onToolCall,onData:this.onData,messageMetadataSchema:this.messageMetadataSchema,dataPartSchemas:this.dataPartSchemas,runUpdateMessageJob,onError:error=>{throw error}}),onError:error=>{throw error}}),this.setStatus({status:"ready"})}catch(err){if(isAbort||"AbortError"===err.name)return isAbort=!0,this.setStatus({status:"ready"}),null;isError=!0,err instanceof TypeError&&(err.message.toLowerCase().includes("fetch")||err.message.toLowerCase().includes("network"))&&(isDisconnect=!0),this.onError&&err instanceof Error&&this.onError(err),this.setStatus({status:"error",error:err})}finally{try{null==(_a17=this.onFinish)||_a17.call(this,{message:this.activeResponse.state.message,messages:this.state.messages,isAbort,isDisconnect,isError})}catch(err){ai_dist_console.error(err)}this.activeResponse=void 0}(null==(_b=this.sendAutomaticallyWhen)?void 0:_b.call(this,{messages:this.state.messages}))&&await this.makeRequest({trigger:"submit-message",messageId:null==(_c=this.lastMessage)?void 0:_c.id,metadata,headers,body})}};var textUIPartSchema=object({type:literal("text"),text:schemas_string(),state:schemas_enum(["streaming","done"]).optional(),providerMetadata:providerMetadataSchema.optional()}),reasoningUIPartSchema=object({type:literal("reasoning"),text:schemas_string(),state:schemas_enum(["streaming","done"]).optional(),providerMetadata:providerMetadataSchema.optional()}),sourceUrlUIPartSchema=object({type:literal("source-url"),sourceId:schemas_string(),url:schemas_string(),title:schemas_string().optional(),providerMetadata:providerMetadataSchema.optional()}),sourceDocumentUIPartSchema=object({type:literal("source-document"),sourceId:schemas_string(),mediaType:schemas_string(),title:schemas_string(),filename:schemas_string().optional(),providerMetadata:providerMetadataSchema.optional()}),fileUIPartSchema=object({type:literal("file"),mediaType:schemas_string(),filename:schemas_string().optional(),url:schemas_string(),providerMetadata:providerMetadataSchema.optional()}),stepStartUIPartSchema=object({type:literal("step-start")}),dataUIPartSchema=object({type:schemas_string().startsWith("data-"),id:schemas_string().optional(),data:unknown()}),dynamicToolUIPartSchemas=[object({type:literal("dynamic-tool"),toolName:schemas_string(),toolCallId:schemas_string(),state:literal("input-streaming"),input:unknown().optional(),output:never().optional(),errorText:never().optional()}),object({type:literal("dynamic-tool"),toolName:schemas_string(),toolCallId:schemas_string(),state:literal("input-available"),input:unknown(),output:never().optional(),errorText:never().optional(),callProviderMetadata:providerMetadataSchema.optional()}),object({type:literal("dynamic-tool"),toolName:schemas_string(),toolCallId:schemas_string(),state:literal("output-available"),input:unknown(),output:unknown(),errorText:never().optional(),callProviderMetadata:providerMetadataSchema.optional(),preliminary:schemas_boolean().optional()}),object({type:literal("dynamic-tool"),toolName:schemas_string(),toolCallId:schemas_string(),state:literal("output-error"),input:unknown(),output:never().optional(),errorText:schemas_string(),callProviderMetadata:providerMetadataSchema.optional()})],toolUIPartSchemas=[object({type:schemas_string().startsWith("tool-"),toolCallId:schemas_string(),state:literal("input-streaming"),providerExecuted:schemas_boolean().optional(),input:unknown().optional(),output:never().optional(),errorText:never().optional()}),object({type:schemas_string().startsWith("tool-"),toolCallId:schemas_string(),state:literal("input-available"),providerExecuted:schemas_boolean().optional(),input:unknown(),output:never().optional(),errorText:never().optional(),callProviderMetadata:providerMetadataSchema.optional()}),object({type:schemas_string().startsWith("tool-"),toolCallId:schemas_string(),state:literal("output-available"),providerExecuted:schemas_boolean().optional(),input:unknown(),output:unknown(),errorText:never().optional(),callProviderMetadata:providerMetadataSchema.optional(),preliminary:schemas_boolean().optional()}),object({type:schemas_string().startsWith("tool-"),toolCallId:schemas_string(),state:literal("output-error"),providerExecuted:schemas_boolean().optional(),input:unknown(),output:never().optional(),errorText:schemas_string(),callProviderMetadata:providerMetadataSchema.optional()})];object({id:schemas_string(),role:schemas_enum(["system","user","assistant"]),metadata:unknown().optional(),parts:array(union([textUIPartSchema,reasoningUIPartSchema,sourceUrlUIPartSchema,sourceDocumentUIPartSchema,fileUIPartSchema,stepStartUIPartSchema,dataUIPartSchema,...dynamicToolUIPartSchemas,...toolUIPartSchemas]))});var _messages,_status,_error,_messagesCallbacks,_statusCallbacks,_errorCallbacks,_callMessagesCallbacks,_callStatusCallbacks,_callErrorCallbacks,throttleit=__webpack_require__("./node_modules/.pnpm/throttleit@2.1.0/node_modules/throttleit/index.js"),throttleit_default=__webpack_require__.n(throttleit),__accessCheck=(obj,member,msg)=>{if(!member.has(obj))throw TypeError("Cannot "+msg)},__privateGet=(obj,member,getter)=>(__accessCheck(obj,member,"read from private field"),getter?getter.call(obj):member.get(obj)),__privateAdd=(obj,member,value)=>{if(member.has(obj))throw TypeError("Cannot add the same private member more than once");member instanceof WeakSet?member.add(obj):member.set(obj,value)},__privateSet=(obj,member,value,setter)=>(__accessCheck(obj,member,"write to private field"),setter?setter.call(obj,value):member.set(obj,value),value);function throttle(fn,waitMs){return null!=waitMs?throttleit_default()(fn,waitMs):fn}var _state,ReactChatState=class{constructor(initialMessages=[]){__privateAdd(this,_messages,void 0),__privateAdd(this,_status,"ready"),__privateAdd(this,_error,void 0),__privateAdd(this,_messagesCallbacks,new Set),__privateAdd(this,_statusCallbacks,new Set),__privateAdd(this,_errorCallbacks,new Set),this.pushMessage=message=>{__privateSet(this,_messages,__privateGet(this,_messages).concat(message)),__privateGet(this,_callMessagesCallbacks).call(this)},this.popMessage=()=>{__privateSet(this,_messages,__privateGet(this,_messages).slice(0,-1)),__privateGet(this,_callMessagesCallbacks).call(this)},this.replaceMessage=(index,message)=>{__privateSet(this,_messages,[...__privateGet(this,_messages).slice(0,index),this.snapshot(message),...__privateGet(this,_messages).slice(index+1)]),__privateGet(this,_callMessagesCallbacks).call(this)},this.snapshot=value=>structuredClone(value),this["~registerMessagesCallback"]=(onChange,throttleWaitMs)=>{const callback=throttleWaitMs?throttle(onChange,throttleWaitMs):onChange;return __privateGet(this,_messagesCallbacks).add(callback),()=>{__privateGet(this,_messagesCallbacks).delete(callback)}},this["~registerStatusCallback"]=onChange=>(__privateGet(this,_statusCallbacks).add(onChange),()=>{__privateGet(this,_statusCallbacks).delete(onChange)}),this["~registerErrorCallback"]=onChange=>(__privateGet(this,_errorCallbacks).add(onChange),()=>{__privateGet(this,_errorCallbacks).delete(onChange)}),__privateAdd(this,_callMessagesCallbacks,(()=>{__privateGet(this,_messagesCallbacks).forEach((callback=>callback()))})),__privateAdd(this,_callStatusCallbacks,(()=>{__privateGet(this,_statusCallbacks).forEach((callback=>callback()))})),__privateAdd(this,_callErrorCallbacks,(()=>{__privateGet(this,_errorCallbacks).forEach((callback=>callback()))})),__privateSet(this,_messages,initialMessages)}get status(){return __privateGet(this,_status)}set status(newStatus){__privateSet(this,_status,newStatus),__privateGet(this,_callStatusCallbacks).call(this)}get error(){return __privateGet(this,_error)}set error(newError){__privateSet(this,_error,newError),__privateGet(this,_callErrorCallbacks).call(this)}get messages(){return __privateGet(this,_messages)}set messages(newMessages){__privateSet(this,_messages,[...newMessages]),__privateGet(this,_callMessagesCallbacks).call(this)}};_messages=new WeakMap,_status=new WeakMap,_error=new WeakMap,_messagesCallbacks=new WeakMap,_statusCallbacks=new WeakMap,_errorCallbacks=new WeakMap,_callMessagesCallbacks=new WeakMap,_callStatusCallbacks=new WeakMap,_callErrorCallbacks=new WeakMap;var Chat=class extends AbstractChat{constructor({messages,...init}){const state=new ReactChatState(messages);super({...init,state}),__privateAdd(this,_state,void 0),this["~registerMessagesCallback"]=(onChange,throttleWaitMs)=>__privateGet(this,_state)["~registerMessagesCallback"](onChange,throttleWaitMs),this["~registerStatusCallback"]=onChange=>__privateGet(this,_state)["~registerStatusCallback"](onChange),this["~registerErrorCallback"]=onChange=>__privateGet(this,_state)["~registerErrorCallback"](onChange),__privateSet(this,_state,state)}};function useChat({experimental_throttle:throttleWaitMs,resume=!1,...options}={}){const chatRef=(0,react.useRef)("chat"in options?options.chat:new Chat(options));("chat"in options&&options.chat!==chatRef.current||"id"in options&&chatRef.current.id!==options.id)&&(chatRef.current="chat"in options?options.chat:new Chat(options));const optionsId="id"in options?options.id:null,subscribeToMessages=(0,react.useCallback)((update=>chatRef.current["~registerMessagesCallback"](update,throttleWaitMs)),[throttleWaitMs,optionsId]),messages=(0,react.useSyncExternalStore)(subscribeToMessages,(()=>chatRef.current.messages),(()=>chatRef.current.messages)),status=(0,react.useSyncExternalStore)(chatRef.current["~registerStatusCallback"],(()=>chatRef.current.status),(()=>chatRef.current.status)),error=(0,react.useSyncExternalStore)(chatRef.current["~registerErrorCallback"],(()=>chatRef.current.error),(()=>chatRef.current.error)),setMessages=(0,react.useCallback)((messagesParam=>{"function"==typeof messagesParam&&(messagesParam=messagesParam(chatRef.current.messages)),chatRef.current.messages=messagesParam}),[chatRef]);return(0,react.useEffect)((()=>{resume&&chatRef.current.resumeStream()}),[resume,chatRef]),{id:chatRef.current.id,messages,setMessages,sendMessage:chatRef.current.sendMessage,regenerate:chatRef.current.regenerate,clearError:chatRef.current.clearError,stop:chatRef.current.stop,error,resumeStream:chatRef.current.resumeStream,status,addToolResult:chatRef.current.addToolResult}}_state=new WeakMap},"./node_modules/.pnpm/@radix-ui+react-use-previous@1.1.0_@types+react@19.0.2_react@19.0.0/node_modules/@radix-ui/react-use-previous/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Z:()=>usePrevious});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js");function usePrevious(value){const ref=react__WEBPACK_IMPORTED_MODULE_0__.useRef({value,previous:value});return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>(ref.current.value!==value&&(ref.current.previous=ref.current.value,ref.current.value=value),ref.current.previous)),[value])}},"./node_modules/.pnpm/@radix-ui+react-visually-hidden@1.1.1_@types+react-dom@19.0.2_@types+react@19.0.2__@typ_5f8959ef0c08ba73956ed479822978c6/node_modules/@radix-ui/react-visually-hidden/dist/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{b:()=>Root,s:()=>VisuallyHidden});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-primitive@2.0.1_@types+react-dom@19.0.2_@types+react@19.0.2__@types+rea_972b36ef307cd961110978cf6cfab524/node_modules/@radix-ui/react-primitive/dist/index.mjs"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),VisuallyHidden=react__WEBPACK_IMPORTED_MODULE_0__.forwardRef(((props,forwardedRef)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_radix_ui_react_primitive__WEBPACK_IMPORTED_MODULE_2__.sG.span,{...props,ref:forwardedRef,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...props.style}})));VisuallyHidden.displayName="VisuallyHidden";var Root=VisuallyHidden},"./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/panel-left.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>PanelLeft});const PanelLeft=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]])},"./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/pen-line.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>PenLine});const PenLine=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},"./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/plus.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Plus});const Plus=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},"./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/trash-2.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>Trash2});const Trash2=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},"./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/user.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>User});const User=(0,__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},"./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/@opentelemetry/api/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{var console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");(()=>{"use strict";var e={491:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ContextAPI=void 0;const n=r(223),a=r(172),o=r(930),i="context",c=new n.NoopContextManager;class ContextAPI{constructor(){}static getInstance(){return this._instance||(this._instance=new ContextAPI),this._instance}setGlobalContextManager(e){return(0,a.registerGlobal)(i,e,o.DiagAPI.instance())}active(){return this._getContextManager().active()}with(e,t,r,...n){return this._getContextManager().with(e,t,r,...n)}bind(e,t){return this._getContextManager().bind(e,t)}_getContextManager(){return(0,a.getGlobal)(i)||c}disable(){this._getContextManager().disable(),(0,a.unregisterGlobal)(i,o.DiagAPI.instance())}}t.ContextAPI=ContextAPI},930:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagAPI=void 0;const n=r(56),a=r(912),o=r(957),i=r(172);class DiagAPI{constructor(){function _logProxy(e){return function(...t){const r=(0,i.getGlobal)("diag");if(r)return r[e](...t)}}const e=this;e.setLogger=(t,r={logLevel:o.DiagLogLevel.INFO})=>{var n,c,s;if(t===e){const t=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return e.error(null!==(n=t.stack)&&void 0!==n?n:t.message),!1}"number"==typeof r&&(r={logLevel:r});const u=(0,i.getGlobal)("diag"),l=(0,a.createLogLevelDiagLogger)(null!==(c=r.logLevel)&&void 0!==c?c:o.DiagLogLevel.INFO,t);if(u&&!r.suppressOverrideMessage){const e=null!==(s=(new Error).stack)&&void 0!==s?s:"<failed to generate stacktrace>";u.warn(`Current logger will be overwritten from ${e}`),l.warn(`Current logger will overwrite one already registered from ${e}`)}return(0,i.registerGlobal)("diag",l,e,!0)},e.disable=()=>{(0,i.unregisterGlobal)("diag",e)},e.createComponentLogger=e=>new n.DiagComponentLogger(e),e.verbose=_logProxy("verbose"),e.debug=_logProxy("debug"),e.info=_logProxy("info"),e.warn=_logProxy("warn"),e.error=_logProxy("error")}static instance(){return this._instance||(this._instance=new DiagAPI),this._instance}}t.DiagAPI=DiagAPI},653:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.MetricsAPI=void 0;const n=r(660),a=r(172),o=r(930),i="metrics";class MetricsAPI{constructor(){}static getInstance(){return this._instance||(this._instance=new MetricsAPI),this._instance}setGlobalMeterProvider(e){return(0,a.registerGlobal)(i,e,o.DiagAPI.instance())}getMeterProvider(){return(0,a.getGlobal)(i)||n.NOOP_METER_PROVIDER}getMeter(e,t,r){return this.getMeterProvider().getMeter(e,t,r)}disable(){(0,a.unregisterGlobal)(i,o.DiagAPI.instance())}}t.MetricsAPI=MetricsAPI},181:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.PropagationAPI=void 0;const n=r(172),a=r(874),o=r(194),i=r(277),c=r(369),s=r(930),u="propagation",l=new a.NoopTextMapPropagator;class PropagationAPI{constructor(){this.createBaggage=c.createBaggage,this.getBaggage=i.getBaggage,this.getActiveBaggage=i.getActiveBaggage,this.setBaggage=i.setBaggage,this.deleteBaggage=i.deleteBaggage}static getInstance(){return this._instance||(this._instance=new PropagationAPI),this._instance}setGlobalPropagator(e){return(0,n.registerGlobal)(u,e,s.DiagAPI.instance())}inject(e,t,r=o.defaultTextMapSetter){return this._getGlobalPropagator().inject(e,t,r)}extract(e,t,r=o.defaultTextMapGetter){return this._getGlobalPropagator().extract(e,t,r)}fields(){return this._getGlobalPropagator().fields()}disable(){(0,n.unregisterGlobal)(u,s.DiagAPI.instance())}_getGlobalPropagator(){return(0,n.getGlobal)(u)||l}}t.PropagationAPI=PropagationAPI},997:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceAPI=void 0;const n=r(172),a=r(846),o=r(139),i=r(607),c=r(930),s="trace";class TraceAPI{constructor(){this._proxyTracerProvider=new a.ProxyTracerProvider,this.wrapSpanContext=o.wrapSpanContext,this.isSpanContextValid=o.isSpanContextValid,this.deleteSpan=i.deleteSpan,this.getSpan=i.getSpan,this.getActiveSpan=i.getActiveSpan,this.getSpanContext=i.getSpanContext,this.setSpan=i.setSpan,this.setSpanContext=i.setSpanContext}static getInstance(){return this._instance||(this._instance=new TraceAPI),this._instance}setGlobalTracerProvider(e){const t=(0,n.registerGlobal)(s,this._proxyTracerProvider,c.DiagAPI.instance());return t&&this._proxyTracerProvider.setDelegate(e),t}getTracerProvider(){return(0,n.getGlobal)(s)||this._proxyTracerProvider}getTracer(e,t){return this.getTracerProvider().getTracer(e,t)}disable(){(0,n.unregisterGlobal)(s,c.DiagAPI.instance()),this._proxyTracerProvider=new a.ProxyTracerProvider}}t.TraceAPI=TraceAPI},277:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.deleteBaggage=t.setBaggage=t.getActiveBaggage=t.getBaggage=void 0;const n=r(491),o=(0,r(780).createContextKey)("OpenTelemetry Baggage Key");function getBaggage(e){return e.getValue(o)||void 0}t.getBaggage=getBaggage,t.getActiveBaggage=function getActiveBaggage(){return getBaggage(n.ContextAPI.getInstance().active())},t.setBaggage=function setBaggage(e,t){return e.setValue(o,t)},t.deleteBaggage=function deleteBaggage(e){return e.deleteValue(o)}},993:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.BaggageImpl=void 0;class BaggageImpl{constructor(e){this._entries=e?new Map(e):new Map}getEntry(e){const t=this._entries.get(e);if(t)return Object.assign({},t)}getAllEntries(){return Array.from(this._entries.entries()).map((([e,t])=>[e,t]))}setEntry(e,t){const r=new BaggageImpl(this._entries);return r._entries.set(e,t),r}removeEntry(e){const t=new BaggageImpl(this._entries);return t._entries.delete(e),t}removeEntries(...e){const t=new BaggageImpl(this._entries);for(const r of e)t._entries.delete(r);return t}clear(){return new BaggageImpl}}t.BaggageImpl=BaggageImpl},830:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataSymbol=void 0,t.baggageEntryMetadataSymbol=Symbol("BaggageEntryMetadata")},369:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.baggageEntryMetadataFromString=t.createBaggage=void 0;const n=r(930),a=r(993),o=r(830),i=n.DiagAPI.instance();t.createBaggage=function createBaggage(e={}){return new a.BaggageImpl(new Map(Object.entries(e)))},t.baggageEntryMetadataFromString=function baggageEntryMetadataFromString(e){return"string"!=typeof e&&(i.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:o.baggageEntryMetadataSymbol,toString:()=>e}}},67:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.context=void 0;const n=r(491);t.context=n.ContextAPI.getInstance()},223:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopContextManager=void 0;const n=r(780);t.NoopContextManager=class NoopContextManager{active(){return n.ROOT_CONTEXT}with(e,t,r,...n){return t.call(r,...n)}bind(e,t){return t}enable(){return this}disable(){return this}}},780:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ROOT_CONTEXT=t.createContextKey=void 0,t.createContextKey=function createContextKey(e){return Symbol.for(e)};class BaseContext{constructor(e){const t=this;t._currentContext=e?new Map(e):new Map,t.getValue=e=>t._currentContext.get(e),t.setValue=(e,r)=>{const n=new BaseContext(t._currentContext);return n._currentContext.set(e,r),n},t.deleteValue=e=>{const r=new BaseContext(t._currentContext);return r._currentContext.delete(e),r}}}t.ROOT_CONTEXT=new BaseContext},506:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.diag=void 0;const n=r(930);t.diag=n.DiagAPI.instance()},56:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagComponentLogger=void 0;const n=r(172);function logProxy(e,t,r){const a=(0,n.getGlobal)("diag");if(a)return r.unshift(t),a[e](...r)}t.DiagComponentLogger=class DiagComponentLogger{constructor(e){this._namespace=e.namespace||"DiagComponentLogger"}debug(...e){return logProxy("debug",this._namespace,e)}error(...e){return logProxy("error",this._namespace,e)}info(...e){return logProxy("info",this._namespace,e)}warn(...e){return logProxy("warn",this._namespace,e)}verbose(...e){return logProxy("verbose",this._namespace,e)}}},972:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagConsoleLogger=void 0;const r=[{n:"error",c:"error"},{n:"warn",c:"warn"},{n:"info",c:"info"},{n:"debug",c:"debug"},{n:"verbose",c:"trace"}];t.DiagConsoleLogger=class DiagConsoleLogger{constructor(){function _consoleFunc(e){return function(...t){if(console){let r=console[e];if("function"!=typeof r&&(r=console.log),"function"==typeof r)return r.apply(console,t)}}}for(let e=0;e<r.length;e++)this[r[e].n]=_consoleFunc(r[e].c)}}},912:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createLogLevelDiagLogger=void 0;const n=r(957);t.createLogLevelDiagLogger=function createLogLevelDiagLogger(e,t){function _filterFunc(r,n){const a=t[r];return"function"==typeof a&&e>=n?a.bind(t):function(){}}return e<n.DiagLogLevel.NONE?e=n.DiagLogLevel.NONE:e>n.DiagLogLevel.ALL&&(e=n.DiagLogLevel.ALL),t=t||{},{error:_filterFunc("error",n.DiagLogLevel.ERROR),warn:_filterFunc("warn",n.DiagLogLevel.WARN),info:_filterFunc("info",n.DiagLogLevel.INFO),debug:_filterFunc("debug",n.DiagLogLevel.DEBUG),verbose:_filterFunc("verbose",n.DiagLogLevel.VERBOSE)}}},957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DiagLogLevel=void 0,function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(t.DiagLogLevel||(t.DiagLogLevel={}))},172:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.unregisterGlobal=t.getGlobal=t.registerGlobal=void 0;const n=r(200),a=r(521),o=r(130),i=a.VERSION.split(".")[0],c=Symbol.for(`opentelemetry.js.api.${i}`),s=n._globalThis;t.registerGlobal=function registerGlobal(e,t,r,n=!1){var o;const i=s[c]=null!==(o=s[c])&&void 0!==o?o:{version:a.VERSION};if(!n&&i[e]){const t=new Error(`@opentelemetry/api: Attempted duplicate registration of API: ${e}`);return r.error(t.stack||t.message),!1}if(i.version!==a.VERSION){const t=new Error(`@opentelemetry/api: Registration of version v${i.version} for ${e} does not match previously registered API v${a.VERSION}`);return r.error(t.stack||t.message),!1}return i[e]=t,r.debug(`@opentelemetry/api: Registered a global for ${e} v${a.VERSION}.`),!0},t.getGlobal=function getGlobal(e){var t,r;const n=null===(t=s[c])||void 0===t?void 0:t.version;if(n&&(0,o.isCompatible)(n))return null===(r=s[c])||void 0===r?void 0:r[e]},t.unregisterGlobal=function unregisterGlobal(e,t){t.debug(`@opentelemetry/api: Unregistering a global for ${e} v${a.VERSION}.`);const r=s[c];r&&delete r[e]}},130:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isCompatible=t._makeCompatibilityCheck=void 0;const n=r(521),a=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function _makeCompatibilityCheck(e){const t=new Set([e]),r=new Set,n=e.match(a);if(!n)return()=>!1;const o_major=+n[1],o_minor=+n[2],o_patch=+n[3];if(null!=n[4])return function isExactmatch(t){return t===e};function _reject(e){return r.add(e),!1}function _accept(e){return t.add(e),!0}return function isCompatible(e){if(t.has(e))return!0;if(r.has(e))return!1;const n=e.match(a);if(!n)return _reject(e);const i_major=+n[1],i_minor=+n[2],i_patch=+n[3];return null!=n[4]||o_major!==i_major?_reject(e):0===o_major?o_minor===i_minor&&o_patch<=i_patch?_accept(e):_reject(e):o_minor<=i_minor?_accept(e):_reject(e)}}t._makeCompatibilityCheck=_makeCompatibilityCheck,t.isCompatible=_makeCompatibilityCheck(n.VERSION)},886:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.metrics=void 0;const n=r(653);t.metrics=n.MetricsAPI.getInstance()},901:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ValueType=void 0,function(e){e[e.INT=0]="INT",e[e.DOUBLE=1]="DOUBLE"}(t.ValueType||(t.ValueType={}))},102:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createNoopMeter=t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=t.NOOP_OBSERVABLE_GAUGE_METRIC=t.NOOP_OBSERVABLE_COUNTER_METRIC=t.NOOP_UP_DOWN_COUNTER_METRIC=t.NOOP_HISTOGRAM_METRIC=t.NOOP_COUNTER_METRIC=t.NOOP_METER=t.NoopObservableUpDownCounterMetric=t.NoopObservableGaugeMetric=t.NoopObservableCounterMetric=t.NoopObservableMetric=t.NoopHistogramMetric=t.NoopUpDownCounterMetric=t.NoopCounterMetric=t.NoopMetric=t.NoopMeter=void 0;class NoopMeter{constructor(){}createHistogram(e,r){return t.NOOP_HISTOGRAM_METRIC}createCounter(e,r){return t.NOOP_COUNTER_METRIC}createUpDownCounter(e,r){return t.NOOP_UP_DOWN_COUNTER_METRIC}createObservableGauge(e,r){return t.NOOP_OBSERVABLE_GAUGE_METRIC}createObservableCounter(e,r){return t.NOOP_OBSERVABLE_COUNTER_METRIC}createObservableUpDownCounter(e,r){return t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC}addBatchObservableCallback(e,t){}removeBatchObservableCallback(e){}}t.NoopMeter=NoopMeter;class NoopMetric{}t.NoopMetric=NoopMetric;class NoopCounterMetric extends NoopMetric{add(e,t){}}t.NoopCounterMetric=NoopCounterMetric;class NoopUpDownCounterMetric extends NoopMetric{add(e,t){}}t.NoopUpDownCounterMetric=NoopUpDownCounterMetric;class NoopHistogramMetric extends NoopMetric{record(e,t){}}t.NoopHistogramMetric=NoopHistogramMetric;class NoopObservableMetric{addCallback(e){}removeCallback(e){}}t.NoopObservableMetric=NoopObservableMetric;class NoopObservableCounterMetric extends NoopObservableMetric{}t.NoopObservableCounterMetric=NoopObservableCounterMetric;class NoopObservableGaugeMetric extends NoopObservableMetric{}t.NoopObservableGaugeMetric=NoopObservableGaugeMetric;class NoopObservableUpDownCounterMetric extends NoopObservableMetric{}t.NoopObservableUpDownCounterMetric=NoopObservableUpDownCounterMetric,t.NOOP_METER=new NoopMeter,t.NOOP_COUNTER_METRIC=new NoopCounterMetric,t.NOOP_HISTOGRAM_METRIC=new NoopHistogramMetric,t.NOOP_UP_DOWN_COUNTER_METRIC=new NoopUpDownCounterMetric,t.NOOP_OBSERVABLE_COUNTER_METRIC=new NoopObservableCounterMetric,t.NOOP_OBSERVABLE_GAUGE_METRIC=new NoopObservableGaugeMetric,t.NOOP_OBSERVABLE_UP_DOWN_COUNTER_METRIC=new NoopObservableUpDownCounterMetric,t.createNoopMeter=function createNoopMeter(){return t.NOOP_METER}},660:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NOOP_METER_PROVIDER=t.NoopMeterProvider=void 0;const n=r(102);class NoopMeterProvider{getMeter(e,t,r){return n.NOOP_METER}}t.NoopMeterProvider=NoopMeterProvider,t.NOOP_METER_PROVIDER=new NoopMeterProvider},200:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(46),t)},651:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t._globalThis=void 0,t._globalThis="object"==typeof globalThis?globalThis:__webpack_require__.g},46:function(e,t,r){var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),a(r(651),t)},939:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.propagation=void 0;const n=r(181);t.propagation=n.PropagationAPI.getInstance()},874:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTextMapPropagator=void 0;t.NoopTextMapPropagator=class NoopTextMapPropagator{inject(e,t){}extract(e,t){return e}fields(){return[]}}},194:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextMapSetter=t.defaultTextMapGetter=void 0,t.defaultTextMapGetter={get(e,t){if(null!=e)return e[t]},keys:e=>null==e?[]:Object.keys(e)},t.defaultTextMapSetter={set(e,t,r){null!=e&&(e[t]=r)}}},845:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.trace=void 0;const n=r(997);t.trace=n.TraceAPI.getInstance()},403:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NonRecordingSpan=void 0;const n=r(476);t.NonRecordingSpan=class NonRecordingSpan{constructor(e=n.INVALID_SPAN_CONTEXT){this._spanContext=e}spanContext(){return this._spanContext}setAttribute(e,t){return this}setAttributes(e){return this}addEvent(e,t){return this}setStatus(e){return this}updateName(e){return this}end(e){}isRecording(){return!1}recordException(e,t){}}},614:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracer=void 0;const n=r(491),a=r(607),o=r(403),i=r(139),c=n.ContextAPI.getInstance();t.NoopTracer=class NoopTracer{startSpan(e,t,r=c.active()){if(Boolean(null==t?void 0:t.root))return new o.NonRecordingSpan;const s=r&&(0,a.getSpanContext)(r);return function isSpanContext(e){return"object"==typeof e&&"string"==typeof e.spanId&&"string"==typeof e.traceId&&"number"==typeof e.traceFlags}(s)&&(0,i.isSpanContextValid)(s)?new o.NonRecordingSpan(s):new o.NonRecordingSpan}startActiveSpan(e,t,r,n){let o,i,s;if(arguments.length<2)return;2===arguments.length?s=t:3===arguments.length?(o=t,s=r):(o=t,i=r,s=n);const u=null!=i?i:c.active(),l=this.startSpan(e,o,u),g=(0,a.setSpan)(u,l);return c.with(g,s,void 0,l)}}},124:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.NoopTracerProvider=void 0;const n=r(614);t.NoopTracerProvider=class NoopTracerProvider{getTracer(e,t,r){return new n.NoopTracer}}},125:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracer=void 0;const a=new(r(614).NoopTracer);t.ProxyTracer=class ProxyTracer{constructor(e,t,r,n){this._provider=e,this.name=t,this.version=r,this.options=n}startSpan(e,t,r){return this._getTracer().startSpan(e,t,r)}startActiveSpan(e,t,r,n){const a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)}_getTracer(){if(this._delegate)return this._delegate;const e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):a}}},846:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyTracerProvider=void 0;const n=r(125),o=new(r(124).NoopTracerProvider);t.ProxyTracerProvider=class ProxyTracerProvider{getTracer(e,t,r){var a;return null!==(a=this.getDelegateTracer(e,t,r))&&void 0!==a?a:new n.ProxyTracer(this,e,t,r)}getDelegate(){var e;return null!==(e=this._delegate)&&void 0!==e?e:o}setDelegate(e){this._delegate=e}getDelegateTracer(e,t,r){var n;return null===(n=this._delegate)||void 0===n?void 0:n.getTracer(e,t,r)}}},996:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SamplingDecision=void 0,function(e){e[e.NOT_RECORD=0]="NOT_RECORD",e[e.RECORD=1]="RECORD",e[e.RECORD_AND_SAMPLED=2]="RECORD_AND_SAMPLED"}(t.SamplingDecision||(t.SamplingDecision={}))},607:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getSpanContext=t.setSpanContext=t.deleteSpan=t.setSpan=t.getActiveSpan=t.getSpan=void 0;const n=r(780),a=r(403),o=r(491),i=(0,n.createContextKey)("OpenTelemetry Context Key SPAN");function getSpan(e){return e.getValue(i)||void 0}function setSpan(e,t){return e.setValue(i,t)}t.getSpan=getSpan,t.getActiveSpan=function getActiveSpan(){return getSpan(o.ContextAPI.getInstance().active())},t.setSpan=setSpan,t.deleteSpan=function deleteSpan(e){return e.deleteValue(i)},t.setSpanContext=function setSpanContext(e,t){return setSpan(e,new a.NonRecordingSpan(t))},t.getSpanContext=function getSpanContext(e){var t;return null===(t=getSpan(e))||void 0===t?void 0:t.spanContext()}},325:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceStateImpl=void 0;const n=r(564);class TraceStateImpl{constructor(e){this._internalState=new Map,e&&this._parse(e)}set(e,t){const r=this._clone();return r._internalState.has(e)&&r._internalState.delete(e),r._internalState.set(e,t),r}unset(e){const t=this._clone();return t._internalState.delete(e),t}get(e){return this._internalState.get(e)}serialize(){return this._keys().reduce(((e,t)=>(e.push(t+"="+this.get(t)),e)),[]).join(",")}_parse(e){e.length>512||(this._internalState=e.split(",").reverse().reduce(((e,t)=>{const r=t.trim(),a=r.indexOf("=");if(-1!==a){const o=r.slice(0,a),i=r.slice(a+1,t.length);(0,n.validateKey)(o)&&(0,n.validateValue)(i)&&e.set(o,i)}return e}),new Map),this._internalState.size>32&&(this._internalState=new Map(Array.from(this._internalState.entries()).reverse().slice(0,32))))}_keys(){return Array.from(this._internalState.keys()).reverse()}_clone(){const e=new TraceStateImpl;return e._internalState=new Map(this._internalState),e}}t.TraceStateImpl=TraceStateImpl},564:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.validateValue=t.validateKey=void 0;const r="[_0-9a-z-*/]",o=new RegExp(`^(?:${`[a-z]${r}{0,255}`}|${`[a-z0-9]${r}{0,240}@[a-z]${r}{0,13}`})$`),i=/^[ -~]{0,255}[!-~]$/,c=/,|=/;t.validateKey=function validateKey(e){return o.test(e)},t.validateValue=function validateValue(e){return i.test(e)&&!c.test(e)}},98:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.createTraceState=void 0;const n=r(325);t.createTraceState=function createTraceState(e){return new n.TraceStateImpl(e)}},476:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.INVALID_SPAN_CONTEXT=t.INVALID_TRACEID=t.INVALID_SPANID=void 0;const n=r(475);t.INVALID_SPANID="0000000000000000",t.INVALID_TRACEID="00000000000000000000000000000000",t.INVALID_SPAN_CONTEXT={traceId:t.INVALID_TRACEID,spanId:t.INVALID_SPANID,traceFlags:n.TraceFlags.NONE}},357:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanKind=void 0,function(e){e[e.INTERNAL=0]="INTERNAL",e[e.SERVER=1]="SERVER",e[e.CLIENT=2]="CLIENT",e[e.PRODUCER=3]="PRODUCER",e[e.CONSUMER=4]="CONSUMER"}(t.SpanKind||(t.SpanKind={}))},139:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.wrapSpanContext=t.isSpanContextValid=t.isValidSpanId=t.isValidTraceId=void 0;const n=r(476),a=r(403),o=/^([0-9a-f]{32})$/i,i=/^[0-9a-f]{16}$/i;function isValidTraceId(e){return o.test(e)&&e!==n.INVALID_TRACEID}function isValidSpanId(e){return i.test(e)&&e!==n.INVALID_SPANID}t.isValidTraceId=isValidTraceId,t.isValidSpanId=isValidSpanId,t.isSpanContextValid=function isSpanContextValid(e){return isValidTraceId(e.traceId)&&isValidSpanId(e.spanId)},t.wrapSpanContext=function wrapSpanContext(e){return new a.NonRecordingSpan(e)}},847:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.SpanStatusCode=void 0,function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"}(t.SpanStatusCode||(t.SpanStatusCode={}))},475:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFlags=void 0,function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(t.TraceFlags||(t.TraceFlags={}))},521:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="1.6.0"}},t={};function __nccwpck_require__(r){var n=t[r];if(void 0!==n)return n.exports;var a=t[r]={exports:{}},o=!0;try{e[r].call(a.exports,a,a.exports,__nccwpck_require__),o=!1}finally{o&&delete t[r]}return a.exports}__nccwpck_require__.ab="//";var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.trace=e.propagation=e.metrics=e.diag=e.context=e.INVALID_SPAN_CONTEXT=e.INVALID_TRACEID=e.INVALID_SPANID=e.isValidSpanId=e.isValidTraceId=e.isSpanContextValid=e.createTraceState=e.TraceFlags=e.SpanStatusCode=e.SpanKind=e.SamplingDecision=e.ProxyTracerProvider=e.ProxyTracer=e.defaultTextMapSetter=e.defaultTextMapGetter=e.ValueType=e.createNoopMeter=e.DiagLogLevel=e.DiagConsoleLogger=e.ROOT_CONTEXT=e.createContextKey=e.baggageEntryMetadataFromString=void 0;var t=__nccwpck_require__(369);Object.defineProperty(e,"baggageEntryMetadataFromString",{enumerable:!0,get:function(){return t.baggageEntryMetadataFromString}});var n=__nccwpck_require__(780);Object.defineProperty(e,"createContextKey",{enumerable:!0,get:function(){return n.createContextKey}}),Object.defineProperty(e,"ROOT_CONTEXT",{enumerable:!0,get:function(){return n.ROOT_CONTEXT}});var a=__nccwpck_require__(972);Object.defineProperty(e,"DiagConsoleLogger",{enumerable:!0,get:function(){return a.DiagConsoleLogger}});var o=__nccwpck_require__(957);Object.defineProperty(e,"DiagLogLevel",{enumerable:!0,get:function(){return o.DiagLogLevel}});var i=__nccwpck_require__(102);Object.defineProperty(e,"createNoopMeter",{enumerable:!0,get:function(){return i.createNoopMeter}});var c=__nccwpck_require__(901);Object.defineProperty(e,"ValueType",{enumerable:!0,get:function(){return c.ValueType}});var s=__nccwpck_require__(194);Object.defineProperty(e,"defaultTextMapGetter",{enumerable:!0,get:function(){return s.defaultTextMapGetter}}),Object.defineProperty(e,"defaultTextMapSetter",{enumerable:!0,get:function(){return s.defaultTextMapSetter}});var u=__nccwpck_require__(125);Object.defineProperty(e,"ProxyTracer",{enumerable:!0,get:function(){return u.ProxyTracer}});var l=__nccwpck_require__(846);Object.defineProperty(e,"ProxyTracerProvider",{enumerable:!0,get:function(){return l.ProxyTracerProvider}});var g=__nccwpck_require__(996);Object.defineProperty(e,"SamplingDecision",{enumerable:!0,get:function(){return g.SamplingDecision}});var p=__nccwpck_require__(357);Object.defineProperty(e,"SpanKind",{enumerable:!0,get:function(){return p.SpanKind}});var d=__nccwpck_require__(847);Object.defineProperty(e,"SpanStatusCode",{enumerable:!0,get:function(){return d.SpanStatusCode}});var _=__nccwpck_require__(475);Object.defineProperty(e,"TraceFlags",{enumerable:!0,get:function(){return _.TraceFlags}});var f=__nccwpck_require__(98);Object.defineProperty(e,"createTraceState",{enumerable:!0,get:function(){return f.createTraceState}});var b=__nccwpck_require__(139);Object.defineProperty(e,"isSpanContextValid",{enumerable:!0,get:function(){return b.isSpanContextValid}}),Object.defineProperty(e,"isValidTraceId",{enumerable:!0,get:function(){return b.isValidTraceId}}),Object.defineProperty(e,"isValidSpanId",{enumerable:!0,get:function(){return b.isValidSpanId}});var v=__nccwpck_require__(476);Object.defineProperty(e,"INVALID_SPANID",{enumerable:!0,get:function(){return v.INVALID_SPANID}}),Object.defineProperty(e,"INVALID_TRACEID",{enumerable:!0,get:function(){return v.INVALID_TRACEID}}),Object.defineProperty(e,"INVALID_SPAN_CONTEXT",{enumerable:!0,get:function(){return v.INVALID_SPAN_CONTEXT}});const O=__nccwpck_require__(67);Object.defineProperty(e,"context",{enumerable:!0,get:function(){return O.context}});const P=__nccwpck_require__(506);Object.defineProperty(e,"diag",{enumerable:!0,get:function(){return P.diag}});const N=__nccwpck_require__(886);Object.defineProperty(e,"metrics",{enumerable:!0,get:function(){return N.metrics}});const S=__nccwpck_require__(939);Object.defineProperty(e,"propagation",{enumerable:!0,get:function(){return S.propagation}});const C=__nccwpck_require__(845);Object.defineProperty(e,"trace",{enumerable:!0,get:function(){return C.trace}}),e.default={context:O.context,diag:P.diag,metrics:N.metrics,propagation:S.propagation,trace:C.trace}})(),module.exports=r})()},"./node_modules/.pnpm/throttleit@2.1.0/node_modules/throttleit/index.js":module=>{module.exports=function throttle(function_,wait){if("function"!=typeof function_)throw new TypeError(`Expected the first argument to be a \`function\`, got \`${typeof function_}\`.`);let timeoutId,lastCallTime=0;return function throttled(...arguments_){clearTimeout(timeoutId);const now=Date.now(),delayForNextCall=wait-(now-lastCallTime);delayForNextCall<=0?(lastCallTime=now,function_.apply(this,arguments_)):timeoutId=setTimeout((()=>{lastCallTime=Date.now(),function_.apply(this,arguments_)}),delayForNextCall)}}}}]);