"use strict";(self.webpackChunkcortex_react_components=self.webpackChunkcortex_react_components||[]).push([[358],{"./src/components/Layouts/SlideShow.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>SlideShow});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_Blocks__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Blocks/RenderBlocks.tsx"),framer_motion__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/framer-motion@11.15.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),framer_motion__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/framer-motion@11.15.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/utils/cn.ts"),aos__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/aos@2.3.4/node_modules/aos/dist/aos.js"),aos__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(aos__WEBPACK_IMPORTED_MODULE_2__),_OutputHeaderFooter__WEBPACK_IMPORTED_MODULE_6__=(__webpack_require__("./node_modules/.pnpm/aos@2.3.4/node_modules/aos/dist/aos.css"),__webpack_require__("./node_modules/.pnpm/pagedjs@0.4.3/node_modules/pagedjs/src/index.js"),__webpack_require__("./src/components/Layouts/OutputHeaderFooter.tsx"));const SlideShow=props=>{const[activeSection,setActiveSection]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),{blocks,hero}=props,hasBlocks=blocks&&Array.isArray(blocks)&&blocks.length>0,blocksWithHero=[{id:"0000000000000000000",blockName:null,columns:[],blockType:"content",theme:{settings:{theme:"dark",background:"solid",overlay:!0}}},...blocks],goToNextSlide=()=>{setActiveSection((prev=>(prev+1)%blocksWithHero.length))},goToPreviousSlide=()=>{setActiveSection((prev=>(prev-1+blocksWithHero.length)%blocksWithHero.length))},handleWheel=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(((func,wait)=>{let timeout;return(...args)=>{clearTimeout(timeout),timeout=setTimeout((()=>func(...args)),wait)}})((event=>{event.deltaY>0?goToNextSlide():goToPreviousSlide()}),300),[]),handleKeyDown=event=>{"ArrowDown"===event.key?goToNextSlide():"ArrowUp"===event.key&&goToPreviousSlide()};return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>(aos__WEBPACK_IMPORTED_MODULE_2___default().init({duration:1e3}),window.addEventListener("wheel",handleWheel),window.addEventListener("keydown",handleKeyDown),()=>{window.removeEventListener("wheel",handleWheel),window.removeEventListener("keydown",handleKeyDown)})),[]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex flex-col min-h-screen relative overflow-hidden",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"fixed left-0 top-0 flex h-screen w-9 z-10 flex-col items-center justify-center bg-gray-900",children:hasBlocks&&blocksWithHero.map(((section,id)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"group relative flex items-center justify-center my-2 h-16 w-4 rounded-full transition-all hover:bg-accent duration-300 "+(activeSection===id?"bg-accent":"bg-gray-600"),onClick:()=>{setActiveSection(id)},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"absolute ml-7 left-full text-left transform -translate-y-1/2 translate-x-0 rotate-90 origin-left whitespace-nowrap opacity-0 group-hover:opacity-100 group-hover:translate-x-2 transition-all duration-300",children:section.blockName})},section.id)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.N,{children:blocksWithHero.map(((block,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{id:`slide-${index}`,className:"print-section",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:`absolute flex items-center justify-center transition-opacity duration-1000 \n          ${index===activeSection?"opacity-100":"opacity-0"} \n          w-full h-full bg-cover bg-center`,children:0===index?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_OutputHeaderFooter__WEBPACK_IMPORTED_MODULE_6__.k_,{hero,title:props.title}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[block.blockName&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_OutputHeaderFooter__WEBPACK_IMPORTED_MODULE_6__.Vt,{title:block.blockName}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Blocks__WEBPACK_IMPORTED_MODULE_7__.T,{blocks:[block],fill:!0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_OutputHeaderFooter__WEBPACK_IMPORTED_MODULE_6__.wi,{})]})})},index)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"absolute bottom-4 left-1 z-20 text-3xl text-primary transition-all duration-300 hover:scale-110",onClick:goToNextSlide,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ScrollDownIcon,{})})]})},ScrollDownIcon=()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_5__.N,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.7,ease:[.76,0,.24,1]},className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_9__.cn)("w-fit min-h-[50px] min-w-[20px] p-1 border-2 rounded-full","border-accent"),children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_8__.P.div,{initial:{y:0},animate:{y:[0,25],opacity:[1,0]},transition:{duration:1,ease:"easeOut",repeat:1/0,repeatDelay:1},className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_9__.cn)("w-[12px] h-[12px] rounded-full","bg-accent")})})});SlideShow.__docgenInfo={description:"",methods:[],displayName:"SlideShow",props:{title:{required:!1,tsType:{name:"string"},description:""},hero:{required:!0,tsType:{name:"Page['hero']",raw:"Page['hero']"},description:""},blocks:{required:!0,tsType:{name:"Array",elements:[{name:"Page['layout'][0]",raw:"Page['layout'][0]"}],raw:"Page['layout'][0][]"},description:""}}}},"./src/pages/Publish.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>WebsiteSection});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/getTableOfContents.ts"),_components__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Layouts/SlideShow.tsx"),_components__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Layouts/Print.tsx"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");function WebsiteSection({type="slideshow",orientation="landscape",...args}){const page=args.page;console.log("args",args);const{contentWithIds,tableOfContents}=(0,_utils__WEBPACK_IMPORTED_MODULE_1__.M)(page);return"slideshow"===type?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex fixed flex-col w-screen h-screen max-h-screen overflow-auto overscroll-contain",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components__WEBPACK_IMPORTED_MODULE_2__.p,{blocks:contentWithIds,hero:args.hero,title:args.page.title})}):"print"===type?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components__WEBPACK_IMPORTED_MODULE_3__.wx,{page:args.page,layout:orientation}):void 0}WebsiteSection.__docgenInfo={description:"",methods:[],displayName:"WebsiteSection",props:{hero:{required:!0,tsType:{name:"any"},description:""},page:{required:!0,tsType:{name:"Page"},description:""},type:{required:!1,tsType:{name:"union",raw:"'print' | 'slideshow'",elements:[{name:"literal",value:"'print'"},{name:"literal",value:"'slideshow'"}]},description:"",defaultValue:{value:"'slideshow'",computed:!1}},orientation:{required:!1,tsType:{name:"union",raw:"'portrait' | 'landscape' | 'flow'",elements:[{name:"literal",value:"'portrait'"},{name:"literal",value:"'landscape'"},{name:"literal",value:"'flow'"}]},description:"",defaultValue:{value:"'landscape'",computed:!1}}}}},"./node_modules/.pnpm/framer-motion@11.15.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{N:()=>AnimatePresence});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),PresenceContext=__webpack_require__("./node_modules/.pnpm/framer-motion@11.15.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/framer-motion/dist/es/context/PresenceContext.mjs"),use_constant=__webpack_require__("./node_modules/.pnpm/framer-motion@11.15.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/framer-motion/dist/es/utils/use-constant.mjs"),MotionConfigContext=__webpack_require__("./node_modules/.pnpm/framer-motion@11.15.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/framer-motion/dist/es/context/MotionConfigContext.mjs");class PopChildMeasure extends react.Component{getSnapshotBeforeUpdate(prevProps){const element=this.props.childRef.current;if(element&&prevProps.isPresent&&!this.props.isPresent){const size=this.props.sizeRef.current;size.height=element.offsetHeight||0,size.width=element.offsetWidth||0,size.top=element.offsetTop,size.left=element.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children,isPresent}){const id=(0,react.useId)(),ref=(0,react.useRef)(null),size=(0,react.useRef)({width:0,height:0,top:0,left:0}),{nonce}=(0,react.useContext)(MotionConfigContext.Q);return(0,react.useInsertionEffect)((()=>{const{width,height,top,left}=size.current;if(isPresent||!ref.current||!width||!height)return;ref.current.dataset.motionPopId=id;const style=document.createElement("style");return nonce&&(style.nonce=nonce),document.head.appendChild(style),style.sheet&&style.sheet.insertRule(`\n          [data-motion-pop-id="${id}"] {\n            position: absolute !important;\n            width: ${width}px !important;\n            height: ${height}px !important;\n            top: ${top}px !important;\n            left: ${left}px !important;\n          }\n        `),()=>{document.head.removeChild(style)}}),[isPresent]),(0,jsx_runtime.jsx)(PopChildMeasure,{isPresent,childRef:ref,sizeRef:size,children:react.cloneElement(children,{ref})})}const PresenceChild=({children,initial,isPresent,onExitComplete,custom,presenceAffectsLayout,mode})=>{const presenceChildren=(0,use_constant.M)(newChildrenMap),id=(0,react.useId)(),memoizedOnExitComplete=(0,react.useCallback)((childId=>{presenceChildren.set(childId,!0);for(const isComplete of presenceChildren.values())if(!isComplete)return;onExitComplete&&onExitComplete()}),[presenceChildren,onExitComplete]),context=(0,react.useMemo)((()=>({id,initial,isPresent,custom,onExitComplete:memoizedOnExitComplete,register:childId=>(presenceChildren.set(childId,!1),()=>presenceChildren.delete(childId))})),presenceAffectsLayout?[Math.random(),memoizedOnExitComplete]:[isPresent,memoizedOnExitComplete]);return(0,react.useMemo)((()=>{presenceChildren.forEach(((_,key)=>presenceChildren.set(key,!1)))}),[isPresent]),react.useEffect((()=>{!isPresent&&!presenceChildren.size&&onExitComplete&&onExitComplete()}),[isPresent]),"popLayout"===mode&&(children=(0,jsx_runtime.jsx)(PopChild,{isPresent,children})),(0,jsx_runtime.jsx)(PresenceContext.t.Provider,{value:context,children})};function newChildrenMap(){return new Map}var LayoutGroupContext=__webpack_require__("./node_modules/.pnpm/framer-motion@11.15.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/framer-motion/dist/es/context/LayoutGroupContext.mjs"),errors=__webpack_require__("./node_modules/.pnpm/motion-utils@11.14.3/node_modules/motion-utils/dist/es/errors.mjs");const getChildKey=child=>child.key||"";function onlyElements(children){const filtered=[];return react.Children.forEach(children,(child=>{(0,react.isValidElement)(child)&&filtered.push(child)})),filtered}var use_isomorphic_effect=__webpack_require__("./node_modules/.pnpm/framer-motion@11.15.0_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/framer-motion/dist/es/utils/use-isomorphic-effect.mjs");const AnimatePresence=({children,exitBeforeEnter,custom,initial=!0,onExitComplete,presenceAffectsLayout=!0,mode="sync"})=>{(0,errors.V)(!exitBeforeEnter,"Replace exitBeforeEnter with mode='wait'");const presentChildren=(0,react.useMemo)((()=>onlyElements(children)),[children]),presentKeys=presentChildren.map(getChildKey),isInitialRender=(0,react.useRef)(!0),pendingPresentChildren=(0,react.useRef)(presentChildren),exitComplete=(0,use_constant.M)((()=>new Map)),[diffedChildren,setDiffedChildren]=(0,react.useState)(presentChildren),[renderedChildren,setRenderedChildren]=(0,react.useState)(presentChildren);(0,use_isomorphic_effect.E)((()=>{isInitialRender.current=!1,pendingPresentChildren.current=presentChildren;for(let i=0;i<renderedChildren.length;i++){const key=getChildKey(renderedChildren[i]);presentKeys.includes(key)?exitComplete.delete(key):!0!==exitComplete.get(key)&&exitComplete.set(key,!1)}}),[renderedChildren,presentKeys.length,presentKeys.join("-")]);const exitingChildren=[];if(presentChildren!==diffedChildren){let nextChildren=[...presentChildren];for(let i=0;i<renderedChildren.length;i++){const child=renderedChildren[i],key=getChildKey(child);presentKeys.includes(key)||(nextChildren.splice(i,0,child),exitingChildren.push(child))}return"wait"===mode&&exitingChildren.length&&(nextChildren=exitingChildren),setRenderedChildren(onlyElements(nextChildren)),void setDiffedChildren(presentChildren)}const{forceRender}=(0,react.useContext)(LayoutGroupContext.L);return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:renderedChildren.map((child=>{const key=getChildKey(child),isPresent=presentChildren===renderedChildren||presentKeys.includes(key);return(0,jsx_runtime.jsx)(PresenceChild,{isPresent,initial:!(isInitialRender.current&&!initial)&&void 0,custom:isPresent?void 0:custom,presenceAffectsLayout,mode,onExitComplete:isPresent?void 0:()=>{if(!exitComplete.has(key))return;exitComplete.set(key,!0);let isEveryExitComplete=!0;exitComplete.forEach((isExitComplete=>{isExitComplete||(isEveryExitComplete=!1)})),isEveryExitComplete&&(null==forceRender||forceRender(),setRenderedChildren(pendingPresentChildren.current),onExitComplete&&onExitComplete())},children:child},key)}))})}}}]);