"use strict";(self.webpackChunkcortex_react_components=self.webpackChunkcortex_react_components||[]).push([[59028],{"./node_modules/.pnpm/@payloadcms+richtext-lexical@3.56.0_@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_re_406050f8c6945f148768e229b4e187f9/node_modules/@payloadcms/richtext-lexical/dist/exports/client/chunk-F26IQ5RE.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{a:()=>G});var react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/compiler-runtime.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@lexical+react@0.35.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_yjs@13.6.21/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_payloadcms_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.56.0_@types+react@19.0.2_monaco-editor@0.52.2_next@15.1.3_@babel+core@_ac3d5c9596df7e0f6761a3332558d977/node_modules/@payloadcms/ui/dist/exports/client/index.js"),lexical__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/lexical@0.35.0/node_modules/lexical/Lexical.prod.mjs"),react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),G=$=>{let i,e=(0,react_compiler_runtime__WEBPACK_IMPORTED_MODULE_0__.c)(21),[o]=(0,_lexical_react_LexicalComposerContext__WEBPACK_IMPORTED_MODULE_3__.DF)(),[l,k]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(null),[c,C]=(0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(!1),[S,w,O]=(0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_4__.Q55)($),{closeDrawer:d,drawerSlug:t}=O,{modalState:n}=(0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_4__.hSE)();e[0]!==o?(i=()=>{o.read((()=>{let r=(0,lexical__WEBPACK_IMPORTED_MODULE_5__.vJq)()??(0,lexical__WEBPACK_IMPORTED_MODULE_5__.S1w)();k(r)})),C(!0)},e[0]=o,e[1]=i):i=e[1];let a,g=i;e[2]!==o||e[3]!==l?(a=()=>{l&&o.update((()=>{(0,lexical__WEBPACK_IMPORTED_MODULE_5__.n1P)(l.clone())}),{discrete:!0,skipTransforms:!0})},e[2]=o,e[3]=l,e[4]=a):a=e[4];let m,u=a;e[5]!==d?(m=()=>{d()},e[5]=d,e[6]=m):m=e[6];let f,D,s,p,x=m;return e[7]!==t||e[8]!==n||e[9]!==u||e[10]!==c?(f=()=>{if(!c)return;let r=n[t];r&&!r?.isOpen&&(C(!1),setTimeout((()=>{u()}),1))},D=[n,t,u,c],e[7]=t,e[8]=n,e[9]=u,e[10]=c,e[11]=f,e[12]=D):(f=e[11],D=e[12]),(0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(f,D),e[13]!==w||e[14]!==g?(s=r=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(w,{...r,onClick:g}),e[13]=w,e[14]=g,e[15]=s):s=e[15],e[16]!==S||e[17]!==x||e[18]!==t||e[19]!==s?(p={closeDocumentDrawer:x,DocumentDrawer:S,documentDrawerSlug:t,DocumentDrawerToggler:s},e[16]=S,e[17]=x,e[18]=t,e[19]=s,e[20]=p):p=e[20],p}},"./node_modules/.pnpm/@payloadcms+richtext-lexical@3.56.0_@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_re_406050f8c6945f148768e229b4e187f9/node_modules/@payloadcms/richtext-lexical/dist/exports/client/component-M3U253XK.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{UploadComponent:()=>Se});var _chunk_FSKAVN4P_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./node_modules/.pnpm/@payloadcms+richtext-lexical@3.56.0_@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_re_406050f8c6945f148768e229b4e187f9/node_modules/@payloadcms/richtext-lexical/dist/exports/client/chunk-FSKAVN4P.js"),_chunk_INBEEENE_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/@payloadcms+richtext-lexical@3.56.0_@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_re_406050f8c6945f148768e229b4e187f9/node_modules/@payloadcms/richtext-lexical/dist/exports/client/chunk-INBEEENE.js"),_chunk_F26IQ5RE_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/.pnpm/@payloadcms+richtext-lexical@3.56.0_@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_re_406050f8c6945f148768e229b4e187f9/node_modules/@payloadcms/richtext-lexical/dist/exports/client/chunk-F26IQ5RE.js"),_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/@payloadcms+richtext-lexical@3.56.0_@faceless-ui+modal@3.0.0-beta.2_react-dom@19.0.0_re_406050f8c6945f148768e229b4e187f9/node_modules/@payloadcms/richtext-lexical/dist/exports/client/chunk-BZZVLW4U.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/@lexical+react@0.35.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_yjs@13.6.21/node_modules/@lexical/react/LexicalComposerContext.prod.mjs"),_payloadcms_translations__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/@payloadcms+translations@3.56.0/node_modules/@payloadcms/translations/dist/utilities/getTranslation.js"),_payloadcms_ui__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.56.0_@types+react@19.0.2_monaco-editor@0.52.2_next@15.1.3_@babel+core@_ac3d5c9596df7e0f6761a3332558d977/node_modules/@payloadcms/ui/dist/exports/client/chunk-HBCG32CP.js"),_payloadcms_ui__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.56.0_@types+react@19.0.2_monaco-editor@0.52.2_next@15.1.3_@babel+core@_ac3d5c9596df7e0f6761a3332558d977/node_modules/@payloadcms/ui/dist/exports/client/index.js"),_payloadcms_ui__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/@payloadcms+ui@3.56.0_@types+react@19.0.2_monaco-editor@0.52.2_next@15.1.3_@babel+core@_ac3d5c9596df7e0f6761a3332558d977/node_modules/@payloadcms/ui/dist/exports/client/chunk-7RGKTZG2.js"),lexical__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/lexical@0.35.0/node_modules/lexical/Lexical.prod.mjs"),payload_shared__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/payload@3.11.0_graphql@16.10.0_monaco-editor@0.52.2_react-dom@19.0.0_react@19.0.0__react@19.0.0_typescript@5.7.2/node_modules/payload/dist/uploads/isImage.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),t="lexical-upload",P={depth:0},ce=i=>{let{data:{fields:T,relationTo:g,value:n},nodeKey:l}=i;if("object"==typeof n)throw new Error("Upload value should be a string or number. The Lexical Upload component should not receive the populated value object.");let{config:{routes:{api:U},serverURL:L},getEntityConfig:F}=(0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_2__.b)(),j=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),{uuid:I}=(0,_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_3__.b)(),B=(0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_4__.lUE)(),[o]=(0,_lexical_react_LexicalComposerContext_js__WEBPACK_IMPORTED_MODULE_5__.DF)(),{editorConfig:k,fieldProps:{readOnly:u,schemaPath:A}}=(0,_chunk_BZZVLW4U_js__WEBPACK_IMPORTED_MODULE_3__.b)(),{i18n:b,t:c}=(0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_6__.d)(),[_,K]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useReducer)((r=>r+1),0),[a]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)((()=>F({collectionSlug:g}))),M=(0,react__WEBPACK_IMPORTED_MODULE_1__.useId)(),w=(0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_4__.QtH)({slug:"lexical-upload-drawer-"+I+M,depth:B}),{toggleDrawer:O}=(0,_chunk_INBEEENE_js__WEBPACK_IMPORTED_MODULE_7__.a)(w,!0),{closeDocumentDrawer:D,DocumentDrawer:W,DocumentDrawerToggler:z}=(0,_chunk_F26IQ5RE_js__WEBPACK_IMPORTED_MODULE_8__.a)({id:n,collectionSlug:a.slug}),[{data:d},{setParams:C}]=(0,_payloadcms_ui__WEBPACK_IMPORTED_MODULE_4__.Q0O)(`${L}${U}/${a.slug}/${n}`,{initialParams:P}),H=d?.thumbnailURL||d?.url,q=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((()=>{o.update((()=>{(0,lexical__WEBPACK_IMPORTED_MODULE_9__.nsf)(l)?.remove()}))}),[o,l]),G=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((r=>{C({...P,cacheBust:_}),K(),D()}),[C,_,D]),v=k?.resolvedFeatureMap?.get("upload")?.sanitizedClientFeatureProps.collections?.[a.slug]?.hasExtraFields,J=(0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(((r,Q)=>{o.update((()=>{let m=(0,lexical__WEBPACK_IMPORTED_MODULE_9__.nsf)(l);if(m){let V={...m.getData(),fields:Q};m.setData(V)}}))}),[o,l]);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:t,contentEditable:!1,ref:j,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:`${t}__card`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:`${t}__topRow`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:`${t}__thumbnail`,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_payloadcms_ui__WEBPACK_IMPORTED_MODULE_4__.Vzr,{collectionSlug:g,fileSrc:(0,payload_shared__WEBPACK_IMPORTED_MODULE_10__.w)(d?.mimeType)?H:null})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:`${t}__topRowRightPanel`,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:`${t}__collectionLabel`,children:(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_11__.s)(a.labels.singular,b)}),o.isEditable()&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:`${t}__actions`,children:[v?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_payloadcms_ui__WEBPACK_IMPORTED_MODULE_4__.$nd,{buttonStyle:"icon-label",className:`${t}__upload-drawer-toggler`,disabled:u,el:"button",icon:"edit",onClick:()=>{O()},round:!0,tooltip:c("fields:editRelationship")}):null,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_payloadcms_ui__WEBPACK_IMPORTED_MODULE_4__.$nd,{buttonStyle:"icon-label",className:`${t}__swap-drawer-toggler`,disabled:u,el:"button",icon:"swap",onClick:()=>{o.dispatchCommand(_chunk_FSKAVN4P_js__WEBPACK_IMPORTED_MODULE_12__.c,{replace:{nodeKey:l}})},round:!0,tooltip:c("fields:swapUpload")}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_payloadcms_ui__WEBPACK_IMPORTED_MODULE_4__.$nd,{buttonStyle:"icon-label",className:`${t}__removeButton`,disabled:u,icon:"x",onClick:r=>{r.preventDefault(),q()},round:!0,tooltip:c("fields:removeUpload")})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:`${t}__bottomRow`,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(z,{className:`${t}__doc-drawer-toggler`,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("strong",{children:d?.filename})})})]}),n?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(W,{onSave:G}):null,v?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chunk_FSKAVN4P_js__WEBPACK_IMPORTED_MODULE_12__.a,{data:T,drawerSlug:w,drawerTitle:c("general:editLabel",{label:(0,_payloadcms_translations__WEBPACK_IMPORTED_MODULE_11__.s)(a.labels.singular,b)}),featureKey:"upload",handleDrawerSubmit:J,schemaPath:A,schemaPathSuffix:a.slug}):null]})},Se=i=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_chunk_FSKAVN4P_js__WEBPACK_IMPORTED_MODULE_12__.b,{...i,uploads:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ce,{...i})})}}]);