"use strict";(self.webpackChunkcortex_react_components=self.webpackChunkcortex_react_components||[]).push([[4157],{"./src/components/Projects/EpicsView.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{i:()=>EpicsView});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_components_ui_card__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/card.tsx"),_components_ui_badge__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/components/ui/badge.tsx"),_components_ui_button__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ui/button.tsx"),_TaskCard__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__("./src/components/Projects/TaskCard.tsx"),_barrel_optimize_names_Check_Edit2_Move_Plus_Trash2_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/check.js"),_barrel_optimize_names_Check_Edit2_Move_Plus_Trash2_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/x.js"),_barrel_optimize_names_Check_Edit2_Move_Plus_Trash2_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/pen.js"),_barrel_optimize_names_Check_Edit2_Move_Plus_Trash2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/trash-2.js"),_barrel_optimize_names_Check_Edit2_Move_Plus_Trash2_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/plus.js"),_barrel_optimize_names_Check_Edit2_Move_Plus_Trash2_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/move.js"),_components_ui_input__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/ui/input.tsx"),_components_ui_textarea__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/ui/textarea.tsx"),_components_ui_select__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/ui/select.tsx"),_Heros_DashboardHero_DashboardHero__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Heros/DashboardHero/DashboardHero.tsx");const EpicsView=({tasks,epics,sprints,onUpdateTask,onTaskClick,onAddTaskToEpic,onAddEpic,onUpdateEpic,onDeleteEpic})=>{const[draggedTask,setDraggedTask]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[editingEpic,setEditingEpic]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[editForm,setEditForm]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}),handleDragStart=task=>{setDraggedTask(task)},handleDragOver=e=>{e.preventDefault()},handleSaveEdit=()=>{editingEpic&&editForm.name&&(onUpdateEpic(editingEpic,editForm),setEditingEpic(null),setEditForm({}))},handleCancelEdit=()=>{setEditingEpic(null),setEditForm({})},getConfidenceColor=confidence=>{switch(confidence){case"high":return"bg-success/10 text-success";case"medium":return"bg-warning/10 text-warning";case"low":return"bg-destructive/10 text-destructive";default:return"bg-muted text-muted-foreground"}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"px-2 md:px-4 py-4 space-y-8",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Heros_DashboardHero_DashboardHero__WEBPACK_IMPORTED_MODULE_2__.H,{title:"Epic Planning",description:"Organize and manage your project epics, track progress, and assign tasks.",gradient:"bg-gradient-to-r from-rose-600 via-pink-600 to-fuchsia-600",primaryAction:{label:"Add epic",onClick:onAddEpic}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-full",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:epics.map((epic=>{var _editForm_phase;const epicTasks=(epicId=epic.id,tasks.filter((task=>task.epicId===epicId)));var epicId;const totalPoints=epicTasks.reduce(((sum,task)=>sum+task.points),0);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.Zp,{className:`flex flex-col ${editingEpic===epic.id?"h-auto":"h-[600px]"} bg-card shadow-sm`,onDragOver:handleDragOver,onDrop:e=>((e,epicId)=>{e.preventDefault(),draggedTask&&draggedTask.epicId!==epicId&&(onUpdateTask(draggedTask.id,{epicId}),setDraggedTask(null))})(e,epic.id),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"p-4 border-b border-border",children:editingEpic===epic.id?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"space-y-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_4__.p,{value:editForm.name||"",onChange:e=>setEditForm({...editForm,name:e.target.value}),placeholder:"Epic name",className:"font-semibold"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex gap-2 ml-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.$,{size:"sm",variant:"ghost",onClick:handleSaveEdit,className:"p-1 h-8 w-8",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_Edit2_Move_Plus_Trash2_X_lucide_react__WEBPACK_IMPORTED_MODULE_6__.A,{className:"h-4 w-4"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.$,{size:"sm",variant:"ghost",onClick:handleCancelEdit,className:"p-1 h-8 w-8",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_Edit2_Move_Plus_Trash2_X_lucide_react__WEBPACK_IMPORTED_MODULE_7__.A,{className:"h-4 w-4"})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_8__.T,{value:editForm.description||"",onChange:e=>setEditForm({...editForm,description:e.target.value}),placeholder:"Epic description",className:"text-sm min-h-[60px]"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"text-xs text-muted-foreground",children:"Confidence"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_9__.l6,{value:editForm.confidence||epic.confidence,onValueChange:value=>setEditForm({...editForm,confidence:value}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_9__.bq,{className:"text-xs",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_9__.yv,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_9__.gC,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_9__.eb,{value:"low",children:"Low"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_9__.eb,{value:"medium",children:"Medium"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_9__.eb,{value:"high",children:"High"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"text-xs text-muted-foreground",children:"Phase"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_9__.l6,{value:(null===(_editForm_phase=editForm.phase)||void 0===_editForm_phase?void 0:_editForm_phase.toString())||epic.phase.toString(),onValueChange:value=>setEditForm({...editForm,phase:parseInt(value)}),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_9__.bq,{className:"text-xs",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_9__.yv,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_9__.gC,{children:[1,2,3,4,5,6,7,8,9].map((phase=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_9__.eb,{value:phase.toString(),children:["Phase ",phase]},phase)))})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{className:"text-xs text-muted-foreground",children:"Progress (%)"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_4__.p,{type:"number",min:"0",max:"100",value:editForm.progress||epic.progress,onChange:e=>setEditForm({...editForm,progress:parseInt(e.target.value)||0}),className:"text-xs"})]})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:`w-4 h-4 rounded-full ${epic.color}`}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"font-semibold text-foreground select-none flex-1",children:epic.name}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex gap-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.$,{size:"sm",variant:"ghost",onClick:()=>(epic=>{setEditingEpic(epic.id),setEditForm({name:epic.name,description:epic.description,confidence:epic.confidence,phase:epic.phase,progress:epic.progress})})(epic),className:"p-1 h-8 w-8",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_Edit2_Move_Plus_Trash2_X_lucide_react__WEBPACK_IMPORTED_MODULE_10__.A,{className:"h-3 w-3"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.$,{size:"sm",variant:"ghost",onClick:()=>(epicId=>{window.confirm("Are you sure you want to delete this epic? This will also delete all associated tasks.")&&onDeleteEpic(epicId)})(epic.id),className:"p-1 h-8 w-8 hover:bg-destructive/10 hover:text-destructive",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_Edit2_Move_Plus_Trash2_X_lucide_react__WEBPACK_IMPORTED_MODULE_11__.A,{className:"h-3 w-3"})})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex flex-wrap gap-2 mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_12__.E,{className:`text-xs ${getConfidenceColor(epic.confidence)}`,children:[epic.confidence," confidence"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_12__.E,{variant:"outline",className:"text-xs",children:["Phase ",epic.phase]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_12__.E,{variant:"secondary",className:"text-xs bg-muted text-muted-foreground",children:[epicTasks.length," tasks"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_12__.E,{variant:"secondary",className:"text-xs bg-muted text-muted-foreground",children:[totalPoints," pts"]})]}),epic.description&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-muted-foreground mb-3 select-none",children:epic.description}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex justify-between text-xs text-muted-foreground mb-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"select-none",children:"Progress"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{className:"select-none",children:[epic.progress,"%"]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-full bg-muted rounded-full h-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${epic.progress}%`}})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_5__.$,{onClick:()=>onAddTaskToEpic(epic.id),variant:"outline",size:"sm",className:"w-full gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_Edit2_Move_Plus_Trash2_X_lucide_react__WEBPACK_IMPORTED_MODULE_13__.A,{className:"h-4 w-4"}),"Add Task"]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex-1 p-4 overflow-y-auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"space-y-3 min-h-[200px] border-2 border-dashed rounded p-3 transition-colors "+(draggedTask?"border-primary bg-primary/10":"border-border"),children:0===epicTasks.length?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 text-muted-foreground border-2 border-dashed border-border rounded-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_Edit2_Move_Plus_Trash2_X_lucide_react__WEBPACK_IMPORTED_MODULE_14__.A,{className:"h-8 w-8 mb-2"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-sm select-none",children:"Drop tasks here"})]}):epicTasks.map((task=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_TaskCard__WEBPACK_IMPORTED_MODULE_15__.y,{task,epic,onDragStart:handleDragStart,onTaskClick,isCompact:!0},task.id)))})})]},epic.id)}))})})})]})};EpicsView.__docgenInfo={description:"",methods:[],displayName:"EpicsView",props:{tasks:{required:!0,tsType:{name:"Array",elements:[{name:"Task"}],raw:"Task[]"},description:""},epics:{required:!0,tsType:{name:"Array",elements:[{name:"Epic"}],raw:"Epic[]"},description:""},sprints:{required:!0,tsType:{name:"Array",elements:[{name:"Sprint"}],raw:"Sprint[]"},description:""},onUpdateTask:{required:!0,tsType:{name:"signature",type:"function",raw:"(taskId: string, updates: Partial<Task>) => void",signature:{arguments:[{type:{name:"string"},name:"taskId"},{type:{name:"Partial",elements:[{name:"Task"}],raw:"Partial<Task>"},name:"updates"}],return:{name:"void"}}},description:""},onTaskClick:{required:!0,tsType:{name:"signature",type:"function",raw:"(task: Task) => void",signature:{arguments:[{type:{name:"Task"},name:"task"}],return:{name:"void"}}},description:""},onAddTaskToEpic:{required:!0,tsType:{name:"signature",type:"function",raw:"(epicId: string) => void",signature:{arguments:[{type:{name:"string"},name:"epicId"}],return:{name:"void"}}},description:""},onAddEpic:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onUpdateEpic:{required:!0,tsType:{name:"signature",type:"function",raw:"(epicId: string, updates: Partial<Epic>) => void",signature:{arguments:[{type:{name:"string"},name:"epicId"},{type:{name:"Partial",elements:[{name:"Epic"}],raw:"Partial<Epic>"},name:"updates"}],return:{name:"void"}}},description:""},onDeleteEpic:{required:!0,tsType:{name:"signature",type:"function",raw:"(epicId: string) => void",signature:{arguments:[{type:{name:"string"},name:"epicId"}],return:{name:"void"}}},description:""}}}}}]);