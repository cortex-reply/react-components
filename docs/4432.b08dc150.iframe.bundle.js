"use strict";(self.webpackChunkcortex_react_components=self.webpackChunkcortex_react_components||[]).push([[4432],{"./src/components/CRM/DealDetails.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{l:()=>DealDetails});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/ui/dialog.tsx"),_components_ui_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/button.tsx"),_components_ui_input__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/ui/input.tsx"),_components_ui_label__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/ui/label.tsx"),_components_ui_textarea__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/ui/textarea.tsx"),_components_ui_select__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/ui/select.tsx"),_components_ui_checkbox__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("./src/components/ui/checkbox.tsx"),_components_ui_badge__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("./src/components/ui/badge.tsx"),_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/ui/scroll-area.tsx"),_barrel_optimize_names_CalendarIcon_PlusIcon_SaveIcon_UserIcon_lucide_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/save.js"),_barrel_optimize_names_CalendarIcon_PlusIcon_SaveIcon_UserIcon_lucide_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/user.js"),_barrel_optimize_names_CalendarIcon_PlusIcon_SaveIcon_UserIcon_lucide_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/calendar.js"),_barrel_optimize_names_CalendarIcon_PlusIcon_SaveIcon_UserIcon_lucide_react__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/plus.js"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");function DealDetails({deal,users,customer,categories,onClose,onSave,onAddComment}){var _editedDeal_value,_editedDeal_assignee_id,_editedDeal_assignee,_editedDeal_closureDate;const[editedDeal,setEditedDeal]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({...deal,value:deal.value||0,comments:deal.comments||[],customer:deal.customer||{}}),[newComment,setNewComment]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),[hasChanges,setHasChanges]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[editingField,setEditingField]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setHasChanges(JSON.stringify(deal)!==JSON.stringify(editedDeal))}),[deal,editedDeal]);const handleChange=(field,value)=>{setEditedDeal((prev=>({...prev,[field]:value})))},getCategoryColor=type=>{switch(type){case"proposition":return"border-blue-800 text-blue-800";case"source":return"border-green-800 text-green-800";case"sector":return"border-purple-800 text-purple-800";default:return"border-gray-800 text-gray-800"}};var _editedDeal_closureDate_split_,_editedDeal_gecoStatus;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.lG,{open:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.Cf,{className:"max-w-3xl max-h-[90vh] overflow-hidden flex flex-col [&>button:last-child]:hidden",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.c7,{className:"flex flex-row items-center justify-between",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.L3,{className:"text-2xl font-bold",children:null==customer?void 0:customer.name}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex space-x-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{variant:"outline",onClick:onClose,children:"Close"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{onClick:async()=>{try{const result=await onSave(editedDeal);result.success?(setHasChanges(!1),setEditingField(null)):console.error("Failed to save deal:",result.errors)}catch(error){console.error("Failed to save deal:",error)}},disabled:!hasChanges,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_CalendarIcon_PlusIcon_SaveIcon_UserIcon_lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_5__.F,{className:"flex-grow pr-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid gap-2 m-1",children:"value"===editingField?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_6__.p,{type:"number",value:editedDeal.value,onChange:e=>handleChange("value",Number(e.target.value)),onBlur:()=>setEditingField(null),className:"text-3xl font-bold text-green-600",autoFocus:!0}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-3xl font-bold text-green-600 cursor-pointer p-1 border border-background hover:border-accent rounded",onClick:()=>setEditingField("value"),children:["Â£",null===(_editedDeal_value=editedDeal.value)||void 0===_editedDeal_value?void 0:_editedDeal_value.toLocaleString()]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid gap-2 m-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_7__.J,{className:"text-sm font-medium text-accent",children:"Assignee"}),"assignee"===editingField?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.l6,{value:(null==editedDeal||null===(_editedDeal_assignee=editedDeal.assignee)||void 0===_editedDeal_assignee||null===(_editedDeal_assignee_id=_editedDeal_assignee.id)||void 0===_editedDeal_assignee_id?void 0:_editedDeal_assignee_id.toString())||"",onValueChange:value=>{return handleChange("assignee",(userId=value,null==users?void 0:users.find((user=>user.id===Number(userId)))));var userId},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.bq,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.yv,{placeholder:"Select assignee"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.gC,{children:users&&users.map((user=>{var _user_id;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.eb,{value:(null==user||null===(_user_id=user.id)||void 0===_user_id?void 0:_user_id.toString())||"",children:user.name},user.id)}))})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer p-1 border border-background hover:border-accent rounded",onClick:()=>setEditingField("assignee"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_CalendarIcon_PlusIcon_SaveIcon_UserIcon_lucide_react__WEBPACK_IMPORTED_MODULE_9__.A,{className:"w-4 h-4 text-gray-400"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:editedDeal.assignee.name})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid gap-2 m-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_7__.J,{className:"text-sm font-medium text-accent",children:"Closure Date"}),"closureDate"===editingField?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_6__.p,{type:"date",value:null!==(_editedDeal_closureDate_split_=null===(_editedDeal_closureDate=editedDeal.closureDate)||void 0===_editedDeal_closureDate?void 0:_editedDeal_closureDate.split("T")[0])&&void 0!==_editedDeal_closureDate_split_?_editedDeal_closureDate_split_:"",onChange:e=>handleChange("closureDate",e.target.value),onBlur:()=>setEditingField(null),className:"mr-2",autoFocus:!0}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center space-x-2 cursor-pointer p-1 border border-background hover:border-accent rounded",onClick:()=>setEditingField("closureDate"),children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_CalendarIcon_PlusIcon_SaveIcon_UserIcon_lucide_react__WEBPACK_IMPORTED_MODULE_10__.A,{className:"w-4 h-4 text-gray-400"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{children:editedDeal.closureDate?new Date(editedDeal.closureDate).toLocaleDateString("en-GB"):"N/A"})]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-1 gap-4",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid gap-2 m-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_7__.J,{className:"text-sm font-medium text-accent",children:"Description"}),"description"===editingField?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_textarea__WEBPACK_IMPORTED_MODULE_11__.T,{value:editedDeal.description||"",onChange:e=>handleChange("description",e.target.value),onBlur:()=>setEditingField(null),className:"min-h-[100px]",autoFocus:!0}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"cursor-pointer p-1 border border-background hover:border-accent pb-5 rounded",onClick:()=>setEditingField("description"),children:editedDeal.description})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-3 pt-2 gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid gap-2 m-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_7__.J,{className:"text-sm font-medium text-accent",children:"Status"}),"status"===editingField?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.l6,{value:editedDeal.status,onValueChange:value=>{handleChange("status",value),setEditingField(null)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.bq,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.yv,{placeholder:"Select status"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.gC,{children:["Cold","Qualified","Proposal Made","SoW Submitted","Won","Lost"].map((status=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.eb,{value:status,children:status},status)))})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"cursor-pointer p-1 border border-background hover:border-accent rounded",onClick:()=>setEditingField("status"),children:editedDeal.status})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid col-span-2 gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_7__.J,{className:"text-sm font-medium text-accent",children:"Categories"}),"categories"===editingField?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid grid-cols-2 gap-2 m-1",children:categories.map((category=>{var _category_id,_category_id1;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_checkbox__WEBPACK_IMPORTED_MODULE_12__.S,{id:(null===(_category_id=category.id)||void 0===_category_id?void 0:_category_id.toString())||"",checked:(editedDeal.categories||[]).some((cat=>cat.id===category.id)),onCheckedChange:()=>void 0!==category.id&&(category=>{const updatedCategories=(editedDeal.categories||[]).includes(category)?(editedDeal.categories||[]).filter((id=>id!==category)):[...editedDeal.categories||[],category];handleChange("categories",updatedCategories)})(category)}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label",{htmlFor:(null!==(_category_id1=category.id)&&void 0!==_category_id1?_category_id1:"").toString(),className:`text-sm font-medium ${getCategoryColor(category.type||"sector")} px-2 py-1 rounded`,children:category.name})]},category.id)}))}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex flex-wrap gap-2 cursor-pointer p-1 border border-background hover:border-accent rounded",onClick:()=>setEditingField("categories"),children:editedDeal.categories&&editedDeal.categories.map((cat=>{const category=cat;return category?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_13__.E,{variant:"outline",className:getCategoryColor(category.type||"sector"),children:category.name},category.id):null}))})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid gap-2 m-1",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_7__.J,{className:"text-sm font-medium text-accent",children:"COGE Status"}),"gecoStatus"===editingField?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.l6,{value:null!==(_editedDeal_gecoStatus=editedDeal.gecoStatus)&&void 0!==_editedDeal_gecoStatus?_editedDeal_gecoStatus:void 0,onValueChange:value=>{handleChange("gecoStatus",value),setEditingField(null)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.bq,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.yv,{placeholder:"Select status"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.gC,{children:["firm","forecast","other"].map((status=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_select__WEBPACK_IMPORTED_MODULE_8__.eb,{value:status,children:status.charAt(0).toUpperCase()+status.slice(1)},status)))})]}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"cursor-pointer p-1 border border-background hover:border-accent rounded",onClick:()=>setEditingField("gecoStatus"),children:editedDeal.gecoStatus?editedDeal.gecoStatus.charAt(0).toUpperCase()+editedDeal.gecoStatus.slice(1):"N/A"})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-1 pt-4 gap-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"grid gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_label__WEBPACK_IMPORTED_MODULE_7__.J,{className:"text-sm font-medium text-accent",children:"Comments"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_scroll_area__WEBPACK_IMPORTED_MODULE_5__.F,{className:"h-[200px] overflow-y-auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"space-y-2",children:editedDeal.comments&&editedDeal.comments.slice().sort(((a,b)=>new Date(b.timestamp||"").getTime()-new Date(a.timestamp||"").getTime())).map((comment=>{var _comment_author;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"p-3 rounded-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-foreground",children:comment.text}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("p",{className:"text-xs text-foreground mt-1",children:[null==comment||null===(_comment_author=comment.author)||void 0===_comment_author?void 0:_comment_author.name," - ",new Date(comment.timestamp||"").toLocaleString()]})]},comment.id)}))})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex mt-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_input__WEBPACK_IMPORTED_MODULE_6__.p,{value:newComment,onChange:e=>setNewComment(e.target.value),placeholder:"Add a comment...",className:"flex-grow ml-1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{onClick:async()=>{if(newComment.trim()){const newPartialComment={text:newComment,timestamp:(new Date).toISOString()};try{const result=await onAddComment(newPartialComment);if(!result.success)return void console.error("Failed to add comment:",result.errors)}catch(error){console.error("Failed to add comment:",error)}setEditedDeal((prev=>({...prev,comments:[...prev.comments||[],newPartialComment]}))),setNewComment("")}},className:"ml-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_CalendarIcon_PlusIcon_SaveIcon_UserIcon_lucide_react__WEBPACK_IMPORTED_MODULE_14__.A,{className:"w-4 h-4 mr-2"}),"Add"]})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"text-xs text-gray-500 mt-4",children:["Last modified: ",new Date(editedDeal.updatedAt||"").toLocaleString()]})]})]})]})})}DealDetails.__docgenInfo={description:"",methods:[],displayName:"DealDetails",props:{deal:{required:!0,tsType:{name:"Partial",elements:[{name:"Deal"}],raw:"Partial<Deal>"},description:""},users:{required:!1,tsType:{name:"Array",elements:[{name:"Partial",elements:[{name:"User"}],raw:"Partial<User>"}],raw:"Partial<User>[]"},description:""},customer:{required:!0,tsType:{name:"union",raw:"Partial<Customer> | undefined",elements:[{name:"Partial",elements:[{name:"Customer"}],raw:"Partial<Customer>"},{name:"undefined"}]},description:""},categories:{required:!0,tsType:{name:"Array",elements:[{name:"Partial",elements:[{name:"DealCategory"}],raw:"Partial<DealCategory>"}],raw:"Partial<DealCategory>[]"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSave:{required:!0,tsType:{name:"signature",type:"function",raw:"(deal: Partial<EditableDeal>) => Promise<{ success: boolean; errors?: Record<string, string> }>",signature:{arguments:[{type:{name:"Partial",elements:[{name:"intersection",raw:"Omit<Partial<Deal>, 'comments' | 'customer'> & {\n  comments?: PartialComment[] | null;\n  customer: Partial<Customer> ;\n}",elements:[{name:"Omit",elements:[{name:"Partial",elements:[{name:"Deal"}],raw:"Partial<Deal>"},{name:"union",raw:"'comments' | 'customer'",elements:[{name:"literal",value:"'comments'"},{name:"literal",value:"'customer'"}]}],raw:"Omit<Partial<Deal>, 'comments' | 'customer'>"},{name:"signature",type:"object",raw:"{\n  comments?: PartialComment[] | null;\n  customer: Partial<Customer> ;\n}",signature:{properties:[{key:"comments",value:{name:"union",raw:"PartialComment[] | null",elements:[{name:"Array",elements:[{name:"Partial",elements:[{name:"NonNullable[number]",raw:"NonNullable<Deal['comments']>[number]"}],raw:"Partial<NonNullable<Deal['comments']>[number]>"}],raw:"PartialComment[]"},{name:"null"}],required:!1}},{key:"customer",value:{name:"Partial",elements:[{name:"Customer"}],raw:"Partial<Customer>",required:!0}}]}}]}],raw:"Partial<EditableDeal>"},name:"deal"}],return:{name:"Promise",elements:[{name:"signature",type:"object",raw:"{ success: boolean; errors?: Record<string, string> }",signature:{properties:[{key:"success",value:{name:"boolean",required:!0}},{key:"errors",value:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>",required:!1}}]}}],raw:"Promise<{ success: boolean; errors?: Record<string, string> }>"}}},description:""},onAddComment:{required:!0,tsType:{name:"signature",type:"function",raw:"(comment: Partial<NonNullable<EditableDeal['comments']>[number]>) => Promise<{ success: boolean; errors?: Record<string, string> }>",signature:{arguments:[{type:{name:"Partial",elements:[{name:"NonNullable[number]",raw:"NonNullable<EditableDeal['comments']>[number]"}],raw:"Partial<NonNullable<EditableDeal['comments']>[number]>"},name:"comment"}],return:{name:"Promise",elements:[{name:"signature",type:"object",raw:"{ success: boolean; errors?: Record<string, string> }",signature:{properties:[{key:"success",value:{name:"boolean",required:!0}},{key:"errors",value:{name:"Record",elements:[{name:"string"},{name:"string"}],raw:"Record<string, string>",required:!1}}]}}],raw:"Promise<{ success: boolean; errors?: Record<string, string> }>"}}},description:""}}}},"./src/components/ui/badge.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{E:()=>Badge});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),class_variance_authority__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs")),_lib_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/cn.ts");const badgeVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.F)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Badge({className,variant,...props}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_3__.cn)(badgeVariants({variant}),className),...props})}Badge.__docgenInfo={description:"",methods:[],displayName:"Badge",composes:["VariantProps"]}}}]);