"use strict";(self.webpackChunkcortex_react_components=self.webpackChunkcortex_react_components||[]).push([[13158],{"./src/components/DigitalColleagues/ManagementSidebar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{M:()=>ManagementSidebar});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_barrel_optimize_names_Calendar_FileText_Kanban_Target_lucide_react__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/kanban.js")),_barrel_optimize_names_Calendar_FileText_Kanban_Target_lucide_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/calendar.js"),_barrel_optimize_names_Calendar_FileText_Kanban_Target_lucide_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/target.js"),_barrel_optimize_names_Calendar_FileText_Kanban_Target_lucide_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/file-text.js");const viewConfig=[{key:"kanban",icon:_barrel_optimize_names_Calendar_FileText_Kanban_Target_lucide_react__WEBPACK_IMPORTED_MODULE_2__.A,label:"Kanban",color:"bg-primary",title:"Kanban View"},{key:"planning",icon:_barrel_optimize_names_Calendar_FileText_Kanban_Target_lucide_react__WEBPACK_IMPORTED_MODULE_3__.A,label:"Planning",color:"bg-brand-plum",title:"Planning View",hiddenOnMobile:!0},{key:"epics",icon:_barrel_optimize_names_Calendar_FileText_Kanban_Target_lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,label:"Epics",color:"bg-brand-orange",title:"Epic Planning"},{key:"files",icon:_barrel_optimize_names_Calendar_FileText_Kanban_Target_lucide_react__WEBPACK_IMPORTED_MODULE_5__.A,label:"Files",color:"bg-brand-green",title:"Files"},{key:"tasks",icon:_barrel_optimize_names_Calendar_FileText_Kanban_Target_lucide_react__WEBPACK_IMPORTED_MODULE_3__.A,label:"Tasks",color:"bg-brand-cyan",title:"Tasks"}],ManagementSidebar=({currentView,onViewChange,children})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex w-full h-screen",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-12 h-full bg-sidebar-background flex flex-col flex-shrink-0",children:viewConfig.map((view=>{const Icon=view.icon,isActive=currentView===view.key;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{onClick:()=>onViewChange(view.key),className:`flex-1 w-12 flex items-center justify-center text-sidebar-foreground transition-all duration-200 relative overflow-hidden group/btn ${isActive?view.color:`${view.color}/75 hover:${view.color}`} ${view.hiddenOnMobile?"hidden md:flex":""} hover:w-28 hover:justify-start hover:pl-3`,title:view.title,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Icon,{className:"h-4 w-4 flex-shrink-0"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-xs font-medium whitespace-nowrap opacity-0 group-hover/btn:opacity-100 transition-opacity duration-200 absolute left-8",children:view.label})]},view.key)}))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex-1 min-w-0 px-4 md:px-6 h-full overflow-auto",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"w-full h-full",children})})]});ManagementSidebar.__docgenInfo={description:"",methods:[],displayName:"ManagementSidebar",props:{currentView:{required:!0,tsType:{name:"union",raw:"'kanban' | 'planning' | 'tasks' | 'files' | 'epics'",elements:[{name:"literal",value:"'kanban'"},{name:"literal",value:"'planning'"},{name:"literal",value:"'tasks'"},{name:"literal",value:"'files'"},{name:"literal",value:"'epics'"}]},description:""},onViewChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(view: 'kanban' | 'planning' | 'tasks' | 'files' | 'epics') => void",signature:{arguments:[{type:{name:"union",raw:"'kanban' | 'planning' | 'tasks' | 'files' | 'epics'",elements:[{name:"literal",value:"'kanban'"},{name:"literal",value:"'planning'"},{name:"literal",value:"'tasks'"},{name:"literal",value:"'files'"},{name:"literal",value:"'epics'"}]},name:"view"}],return:{name:"void"}}},description:""},children:{required:!1,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""}}}},"./src/components/Projects/FileView.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>FileView});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),search=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/search.js"),filter=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/filter.js"),file=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/file.js"),plus=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/plus.js"),ui_button=__webpack_require__("./src/components/ui/button.tsx"),card=__webpack_require__("./src/components/ui/card.tsx"),input=__webpack_require__("./src/components/ui/input.tsx"),navigation_tabs=__webpack_require__("./src/components/AdvancedComponents/navigation-tabs.tsx"),file_list=__webpack_require__("./src/components/Projects/file-list.tsx"),DashboardHero=__webpack_require__("./src/components/Heros/DashboardHero/DashboardHero.tsx"),AnimatePresence=__webpack_require__("./node_modules/.pnpm/framer-motion@12.23.12_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),proxy=__webpack_require__("./node_modules/.pnpm/framer-motion@12.23.12_react-dom@19.0.0_react@19.0.0__react@19.0.0/node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs"),dialog=__webpack_require__("./src/components/ui/dialog.tsx");const AddFileModal=({isOpen,onClose,onAddFile})=>{const[selectedFile,setSelectedFile]=(0,react.useState)(null),[fileName,setFileName]=(0,react.useState)(""),[description,setDescription]=(0,react.useState)(""),[tags,setTags]=(0,react.useState)(""),handleSubmit=async e=>{if(e.preventDefault(),!selectedFile)return;const formData=new FormData;formData.append("file",selectedFile),formData.append("name",fileName),description&&formData.append("description",description),tags&&formData.append("tags",tags),null==onAddFile||onAddFile(formData),onClose(),setSelectedFile(null),setFileName(""),setDescription(""),setTags("")};return(0,jsx_runtime.jsx)(dialog.lG,{open:isOpen,onOpenChange:onClose,children:(0,jsx_runtime.jsxs)(dialog.Cf,{className:"sm:max-w-md",children:[(0,jsx_runtime.jsx)(dialog.c7,{children:(0,jsx_runtime.jsx)(dialog.L3,{children:"Add New File"})}),(0,jsx_runtime.jsxs)("form",{onSubmit:handleSubmit,className:"grid gap-4",children:[(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center w-full",children:(0,jsx_runtime.jsxs)("label",{htmlFor:"dropzone-file",className:"flex flex-col items-center justify-center w-full h-64 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:hover:bg-bray-800 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[(0,jsx_runtime.jsx)(UploadIcon,{className:"w-10 h-10 text-gray-400"}),(0,jsx_runtime.jsxs)("p",{className:"mb-2 text-sm text-gray-500 dark:text-gray-400",children:[(0,jsx_runtime.jsx)("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),(0,jsx_runtime.jsx)("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),(0,jsx_runtime.jsx)("input",{id:"dropzone-file",type:"file",className:"hidden",onChange:e=>{var _e_target_files;const file=null===(_e_target_files=e.target.files)||void 0===_e_target_files?void 0:_e_target_files[0];file&&(setSelectedFile(file),fileName||setFileName(file.name))}})]})}),selectedFile&&(0,jsx_runtime.jsxs)("div",{className:"flex items-center justify-between",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("p",{className:"font-medium",children:selectedFile.name}),(0,jsx_runtime.jsxs)("p",{className:"text-sm text-muted-foreground",children:[((selectedFile.size||0)/1024).toFixed(2)," KB"]})]}),(0,jsx_runtime.jsx)(ui_button.$,{type:"submit",onClick:handleSubmit,children:"Upload"})]})]})]})})};function UploadIcon(props){return(0,jsx_runtime.jsxs)("svg",{...props,xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,jsx_runtime.jsx)("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),(0,jsx_runtime.jsx)("polyline",{points:"17 8 12 3 7 8"}),(0,jsx_runtime.jsx)("line",{x1:"12",x2:"12",y1:"3",y2:"15"})]})}AddFileModal.__docgenInfo={description:"",methods:[],displayName:"AddFileModal",props:{isOpen:{required:!0,tsType:{name:"boolean"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onAddFile:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: FormData) => void",signature:{arguments:[{type:{name:"FormData"},name:"file"}],return:{name:"void"}}},description:""}}};var console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");function FileView({initialFiles=[],onFileAdd,onFileEdit,onFileDelete,onFileClick,onFileUpdate,compactView=!1,className}){const[files,setFiles]=(0,react.useState)(initialFiles),[searchTerm,setSearchTerm]=(0,react.useState)(""),[appFilter,setAppFilter]=(0,react.useState)("all"),[activeTab,setActiveTab]=(0,react.useState)("all"),[isAddFileModalOpen,setIsAddFileModalOpen]=(0,react.useState)(!1),prevFilesHash=(0,react.useRef)("");(0,react.useEffect)((()=>{const next=initialFiles.map((el=>({...el,updatedAt:(new Date).toISOString()}))).map((item=>`${item.id}-${new Date(item.createdAt).getTime()}-${new Date(item.updatedAt).getTime()}`)).join("-");next!==prevFilesHash.current&&(setFiles(initialFiles),prevFilesHash.current=next)}),[initialFiles]);const filteredFiles=files.filter((file=>file.name.toLowerCase().includes(searchTerm.toLowerCase()))),recentFiles=filteredFiles.slice(0,10),sharedFiles=filteredFiles.filter(Boolean),handleAddFile=()=>{setIsAddFileModalOpen(!0)},handleDeleteFile=file=>{console.log("deleting file",file),setFiles((prev=>prev.filter((f=>f.name!==file.name)))),null==onFileDelete||onFileDelete(file.id.toString())},handleFileClick=file=>{null==onFileClick||onFileClick(file)};return(0,jsx_runtime.jsxs)("div",{className:"px-2 md:px-4 py-4 space-y-8",children:[(0,jsx_runtime.jsx)(AnimatePresence.N,{mode:"wait",children:(0,jsx_runtime.jsx)(proxy.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},transition:{duration:.2},children:(0,jsx_runtime.jsxs)("div",{className:`space-y-6 ${className||""}`,children:[(0,jsx_runtime.jsx)(DashboardHero.H,{title:"Files",description:"Manage and organize your files and documents.",gradient:"bg-gradient-to-r from-blue-600 via-indigo-600 to-purple-600",primaryAction:{label:"Upload file",onClick:handleAddFile},secondaryAction:{label:"Download all",onClick:()=>console.log("Download all clicked")}}),(0,jsx_runtime.jsx)(card.Zp,{children:(0,jsx_runtime.jsx)(card.Wu,{className:"pt-6",children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,jsx_runtime.jsx)("div",{className:"flex-1",children:(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)(search.A,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,jsx_runtime.jsx)(input.p,{placeholder:"Search files...",value:searchTerm,onChange:e=>setSearchTerm(e.target.value),className:"pl-9"})]})}),(searchTerm||"all"!==appFilter)&&(0,jsx_runtime.jsxs)(ui_button.$,{variant:"outline",onClick:()=>{setSearchTerm(""),setAppFilter("all")},className:"gap-2",children:[(0,jsx_runtime.jsx)(filter.A,{className:"h-4 w-4"}),"Clear"]})]})})}),(0,jsx_runtime.jsxs)("div",{className:"space-y-4",children:[(0,jsx_runtime.jsx)(navigation_tabs.F,{activeTab,onTabChange:setActiveTab,tabOptions:[{value:"all",label:`All Files (${filteredFiles.length})`},{value:"recent",label:`Recent (${recentFiles.length})`}],maxWidth:"500px",gridCols:3}),"all"===activeTab&&(0,jsx_runtime.jsx)(file_list.$,{files:filteredFiles,onFileClick:handleFileClick,onFileUpdate,onFileDelete:handleDeleteFile,showHeader:!compactView}),"recent"===activeTab&&(0,jsx_runtime.jsx)(file_list.$,{files:recentFiles,onFileClick:handleFileClick,onFileUpdate,onFileDelete:handleDeleteFile,showHeader:!compactView}),"shared"===activeTab&&(0,jsx_runtime.jsx)(file_list.$,{files:sharedFiles,onFileClick:handleFileClick,onFileUpdate,onFileDelete:handleDeleteFile,showHeader:!compactView})]}),0===filteredFiles.length&&(0,jsx_runtime.jsx)(card.Zp,{children:(0,jsx_runtime.jsx)(card.Wu,{className:"pt-6",children:(0,jsx_runtime.jsxs)("div",{className:"text-center py-8",children:[(0,jsx_runtime.jsx)(file.A,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),(0,jsx_runtime.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"No files found"}),(0,jsx_runtime.jsx)("p",{className:"text-muted-foreground mb-4",children:searchTerm||"all"!==appFilter?"Try adjusting your filters to see more results.":"Get started by uploading your first file."}),(0,jsx_runtime.jsxs)(ui_button.$,{onClick:handleAddFile,className:"gap-2",children:[(0,jsx_runtime.jsx)(plus.A,{className:"h-4 w-4"}),"Upload File"]})]})})})]})},"files-view")}),(0,jsx_runtime.jsx)(AddFileModal,{isOpen:isAddFileModalOpen,onClose:()=>setIsAddFileModalOpen(!1),onAddFile:onFileAdd})]})}FileView.__docgenInfo={description:"",methods:[],displayName:"FileView",props:{initialFiles:{required:!1,tsType:{name:"Array",elements:[{name:"FileType"}],raw:"FileType[]"},description:"",defaultValue:{value:"[]",computed:!1}},onFileAdd:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: FormData) => void",signature:{arguments:[{type:{name:"FormData"},name:"file"}],return:{name:"void"}}},description:""},onFileEdit:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: FileType) => void",signature:{arguments:[{type:{name:"FileType"},name:"file"}],return:{name:"void"}}},description:""},onFileDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"(fileId: string) => void",signature:{arguments:[{type:{name:"string"},name:"fileId"}],return:{name:"void"}}},description:""},onFileClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: FileType) => void",signature:{arguments:[{type:{name:"FileType"},name:"file"}],return:{name:"void"}}},description:""},onFileUpdate:{required:!1,tsType:{name:"signature",type:"function",raw:"(fileId: string, content: string) => void",signature:{arguments:[{type:{name:"string"},name:"fileId"},{type:{name:"string"},name:"content"}],return:{name:"void"}}},description:""},compactView:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}}},"./src/components/Projects/KanbanBoardView.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{d:()=>KanbanBoardView});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/ui/badge.tsx"),_KanbanColumn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/Projects/KanbanColumn.tsx"),_TaskCard__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Projects/TaskCard.tsx"),_AddTaskModal__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Projects/AddTaskModal.tsx"),_TaskDetailsModal__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/Projects/TaskDetailsModal.tsx"),_AddEpicModal__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/Projects/AddEpicModal.tsx"),_Heros_DashboardHero__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/Heros/DashboardHero/DashboardHero.tsx"),_lib_utils_extract_id__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/extract-id.ts");const KanbanBoardView=({initialTasks=[],initialEpics=[],initialSprints=[],initialUsers=[],initialColleagues=[],initialProjects=[],onAddTask,onUpdateTask,onDeleteTask,onTaskClick,onAddEpic,onAddComment})=>{const[tasks,setTasks]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[epics,setEpics]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[sprints,setSprints]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[isAddTaskModalOpen,setIsAddTaskModalOpen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[isAddEpicModalOpen,setIsAddEpicModalOpen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[selectedTask,setSelectedTask]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[draggedTask,setDraggedTask]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[users,setUsers]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[colleagues,setColleagues]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[heroHeight,setHeroHeight]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(0),heroRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),containerRef=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null),selectedEpicIds=react__WEBPACK_IMPORTED_MODULE_1__.useMemo((()=>[...epics.map((e=>e.id)),0]),[epics]),prevTaskHash=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(""),prevEpicHash=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(""),prevSprintHash=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(""),prevColleagueHash=(0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(""),getHash=list=>list.map((item=>`${item.id}-${new Date(item.createdAt).getTime()}-${new Date(item.updatedAt).getTime()}`)).join("-");(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const next=getHash(initialTasks);next!==prevTaskHash.current&&(setTasks(initialTasks),selectedTask&&setSelectedTask(initialTasks.find((task=>task.id===selectedTask.id))||null),prevTaskHash.current=next)}),[initialTasks]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const next=getHash(initialEpics);next!==prevEpicHash.current&&(setEpics(initialEpics),prevEpicHash.current=next)}),[initialEpics]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const next=getHash(initialSprints);next!==prevSprintHash.current&&(setSprints(initialSprints),prevSprintHash.current=next)}),[initialSprints]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const next=getHash(initialColleagues.map((el=>({id:el.id,updatedAt:el.updatedAt,createdAt:el.createdAt}))));next!==prevColleagueHash.current&&(setColleagues(initialColleagues),prevColleagueHash.current=next)}),[initialColleagues]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const measureHeroHeight=()=>{if(heroRef.current){const height=heroRef.current.offsetHeight;setHeroHeight(height)}};measureHeroHeight();const resizeObserver=new ResizeObserver(measureHeroHeight);heroRef.current&&resizeObserver.observe(heroRef.current);const handleStorageChange=()=>{setTimeout(measureHeroHeight,100)};return window.addEventListener("storage",handleStorageChange),()=>{resizeObserver.disconnect(),window.removeEventListener("storage",handleStorageChange)}}),[]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{const timer=setTimeout((()=>{heroRef.current&&setHeroHeight(heroRef.current.offsetHeight)}),300);return()=>clearTimeout(timer)}),[isAddTaskModalOpen,isAddEpicModalOpen]);const filteredTasks=tasks.filter((task=>!0)),handleDragStart=task=>{setDraggedTask(task)},handleDrop=status=>{draggedTask&&(setTasks((prev=>prev.map((task=>task.id===draggedTask.id?{...task,status}:task)))),null==onUpdateTask||onUpdateTask(draggedTask.id.toString(),{status}),setDraggedTask(null))},handleTaskClick=task=>{setSelectedTask(task),null==onTaskClick||onTaskClick(task)},calculatedHeight=heroHeight>0?`calc(100vh - ${heroHeight+120}px)`:"calc(100vh - 12rem)";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{ref:containerRef,className:"h-full flex flex-col px-2 md:px-4 py-4",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref:heroRef,className:"flex-shrink-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Heros_DashboardHero__WEBPACK_IMPORTED_MODULE_3__.H,{title:"Project Board",description:"Manage tasks and track progress across your project sprints.",gradient:"bg-gradient-to-r from-purple-600 via-violet-600 to-indigo-600",primaryAction:{label:"Add task",onClick:()=>setIsAddTaskModalOpen(!0)},secondaryAction:{label:"Add epic",onClick:()=>setIsAddEpicModalOpen(!0)}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex-1 min-h-0 mt-8",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"h-full",style:{height:heroHeight>0?`calc(100vh - ${heroHeight+120}px)`:"calc(100vh - 12rem)"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 h-full",children:[{id:"todo",title:"To Do",status:"todo"},{id:"in-progress",title:"In Progress",status:"in-progress"},{id:"review",title:"Review",status:"review"},{id:"done",title:"Done",status:"done"}].map((column=>{const columnTasks=(status=column.status,filteredTasks.filter((task=>task.status===status)));var status;const tasksByEpic=(tasks=>{const tasksByEpic={};return epics.forEach((epic=>{tasksByEpic[epic.id]=tasks.filter((task=>(0,_lib_utils_extract_id__WEBPACK_IMPORTED_MODULE_2__.d)(task.epic)===epic.id))})),tasksByEpic["no-epic"]=tasks.filter((task=>!(0,_lib_utils_extract_id__WEBPACK_IMPORTED_MODULE_2__.d)(task.epic))),tasksByEpic})(columnTasks);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_KanbanColumn__WEBPACK_IMPORTED_MODULE_4__.m,{title:column.title,status:column.status,taskCount:columnTasks.length,onDrop:handleDrop,isCompact:"done"===column.status,height:calculatedHeight,children:[tasksByEpic["no-epic"].map((task=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_TaskCard__WEBPACK_IMPORTED_MODULE_5__.y,{epic:null,task,onDragStart:handleDragStart,onTaskClick:handleTaskClick,isCompact:"done"===column.status},task.id))),selectedEpicIds.map((epicId=>{const epic=epics.find((e=>e.id===epicId)),epicTasks=tasksByEpic[epicId]||[];return 0===epicTasks.length?null:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"mb-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:`w-3 h-3 rounded-full ${null==epic?void 0:epic.color}`}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-sm font-medium text-muted-foreground select-none-important",children:(null==epic?void 0:epic.name)||"No Epic"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_6__.E,{variant:"secondary",className:"text-xs",children:epicTasks.length})]})," ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"space-y-3",children:epicTasks.map((task=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_TaskCard__WEBPACK_IMPORTED_MODULE_5__.y,{task,epic,onDragStart:handleDragStart,onTaskClick:handleTaskClick,isCompact:"done"===column.status},task.id)))})]},epicId)}))]},column.id)}))})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_AddTaskModal__WEBPACK_IMPORTED_MODULE_7__.o,{isOpen:isAddTaskModalOpen,onClose:()=>setIsAddTaskModalOpen(!1),onAddTask:newTask=>{const task={...newTask,id:Date.now(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};setTasks((prev=>[...prev,task])),null==onAddTask||onAddTask(newTask)},assignees:[...colleagues,...users],epics,sprints}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_AddEpicModal__WEBPACK_IMPORTED_MODULE_8__.k,{isOpen:isAddEpicModalOpen,onClose:()=>setIsAddEpicModalOpen(!1),onAddEpic:newEpic=>{const epic={...newEpic,id:Date.now(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};setEpics((prev=>[...prev,epic])),null==onAddEpic||onAddEpic(newEpic)}}),selectedTask&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_TaskDetailsModal__WEBPACK_IMPORTED_MODULE_9__.H,{isOpen:!!selectedTask,onClose:()=>setSelectedTask(null),initialTask:selectedTask,epics,sprints,onUpdateTask:async(taskId,updates)=>{setTasks((prev=>prev.map((task=>task.id===Number(taskId)?{...task,...updates}:task)))),onUpdateTask&&await onUpdateTask(taskId,updates),(null==selectedTask?void 0:selectedTask.id)===Number(taskId)&&setSelectedTask((prev=>({...prev,...updates})))},onDeleteTask:async taskId=>{setTasks((prev=>prev.filter((task=>task.id!==Number(taskId))))),(null==selectedTask?void 0:selectedTask.id)===Number(taskId)&&setSelectedTask(null),onDeleteTask&&await onDeleteTask(taskId)},colleagues,onAddComment})]})};KanbanBoardView.__docgenInfo={description:"",methods:[],displayName:"KanbanBoardView",props:{initialTasks:{required:!1,tsType:{name:"Array",elements:[{name:"Task"}],raw:"Task[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialEpics:{required:!1,tsType:{name:"Array",elements:[{name:"Epic"}],raw:"Epic[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialSprints:{required:!1,tsType:{name:"Array",elements:[{name:"unknown"}],raw:"(Sprint & { isSelected: boolean })[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialProjects:{required:!1,tsType:{name:"Array",elements:[{name:"Project"}],raw:"Project[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialUsers:{required:!1,tsType:{name:"Array",elements:[{name:"User"}],raw:"User[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialColleagues:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"HumanColleague | TypedDigitalColleague",elements:[{name:"intersection",raw:"User & { type: 'human' }",elements:[{name:"User"},{name:"signature",type:"object",raw:"{ type: 'human' }",signature:{properties:[{key:"type",value:{name:"literal",value:"'human'",required:!0}}]}}]},{name:"intersection",raw:"DigitalColleague & { type: 'digital' }",elements:[{name:"DigitalColleague"},{name:"signature",type:"object",raw:"{ type: 'digital' }",signature:{properties:[{key:"type",value:{name:"literal",value:"'digital'",required:!0}}]}}]}]}],raw:"Colleague[]"},description:"",defaultValue:{value:"[]",computed:!1}},onAddTask:{required:!1,tsType:{name:"signature",type:"function",raw:"(newTask: Omit<Task, 'id' | 'createdAt' | 'updatedAt'>) => void",signature:{arguments:[{type:{name:"Omit",elements:[{name:"Task"},{name:"union",raw:"'id' | 'createdAt' | 'updatedAt'",elements:[{name:"literal",value:"'id'"},{name:"literal",value:"'createdAt'"},{name:"literal",value:"'updatedAt'"}]}],raw:"Omit<Task, 'id' | 'createdAt' | 'updatedAt'>"},name:"newTask"}],return:{name:"void"}}},description:""},onUpdateTask:{required:!1,tsType:{name:"signature",type:"function",raw:"(taskId: string, updates: Partial<Task>) => void",signature:{arguments:[{type:{name:"string"},name:"taskId"},{type:{name:"Partial",elements:[{name:"Task"}],raw:"Partial<Task>"},name:"updates"}],return:{name:"void"}}},description:""},onDeleteTask:{required:!1,tsType:{name:"signature",type:"function",raw:"(taskId: string) => void",signature:{arguments:[{type:{name:"string"},name:"taskId"}],return:{name:"void"}}},description:""},onTaskClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(task: Task) => void",signature:{arguments:[{type:{name:"Task"},name:"task"}],return:{name:"void"}}},description:""},onAddEpic:{required:!1,tsType:{name:"signature",type:"function",raw:"(newEpic: Omit<Epic, 'id' | 'updatedAt' | 'createdAt'>) => void",signature:{arguments:[{type:{name:"Omit",elements:[{name:"Epic"},{name:"union",raw:"'id' | 'updatedAt' | 'createdAt'",elements:[{name:"literal",value:"'id'"},{name:"literal",value:"'updatedAt'"},{name:"literal",value:"'createdAt'"}]}],raw:"Omit<Epic, 'id' | 'updatedAt' | 'createdAt'>"},name:"newEpic"}],return:{name:"void"}}},description:""},onAddComment:{required:!1,tsType:{name:"signature",type:"function",raw:"({ content, taskId }: { taskId: string; content: string }) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ taskId: string; content: string }",signature:{properties:[{key:"taskId",value:{name:"string",required:!0}},{key:"content",value:{name:"string",required:!0}}]}},name:""}],return:{name:"void"}}},description:""}}}},"./src/components/Projects/KanbanColumn.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{m:()=>KanbanColumn});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_components_ui_card__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./src/components/ui/card.tsx")),_components_ui_badge__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/badge.tsx");const KanbanColumn=({title,status,taskCount,children,onDrop,isCompact=!1,height})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_card__WEBPACK_IMPORTED_MODULE_2__.Zp,{className:`p-4 bg-card border-l-4 ${(()=>{switch(status){case"todo":default:return"border-l-gray-400";case"in-progress":return"border-l-blue-500";case"review":return"border-l-orange-500";case"done":return"border-l-green-500"}})()} shadow-sm hover:shadow-md transition-shadow duration-200 flex flex-col ${isCompact?"lg:max-w-xs":""}`,style:{height:height||"calc(100vh - 350px)"},onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault(),onDrop(status)},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center justify-between mb-4 flex-shrink-0",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"font-semibold text-foreground select-none-important "+(isCompact?"text-base":"text-lg"),children:title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_badge__WEBPACK_IMPORTED_MODULE_3__.E,{variant:"secondary",className:"bg-muted text-muted-foreground",children:taskCount})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex-1 overflow-y-auto space-y-4 min-h-0",children})]});KanbanColumn.__docgenInfo={description:"",methods:[],displayName:"KanbanColumn",props:{title:{required:!0,tsType:{name:"string"},description:""},status:{required:!0,tsType:{name:"Task['status']",raw:"Task['status']"},description:""},taskCount:{required:!0,tsType:{name:"number"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},onDrop:{required:!0,tsType:{name:"signature",type:"function",raw:"(status: Task['status']) => void",signature:{arguments:[{type:{name:"Task['status']",raw:"Task['status']"},name:"status"}],return:{name:"void"}}},description:""},isCompact:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},height:{required:!1,tsType:{name:"string"},description:""}}}},"./src/components/Projects/ProjectView.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ProjectView});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_components_DigitalColleagues_ManagementSidebar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/DigitalColleagues/ManagementSidebar.tsx"),_components_Projects_KanbanBoardView__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/Projects/KanbanBoardView.tsx"),_components_Projects_EpicsView__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./src/components/Projects/EpicsView.tsx"),_components_Projects_PlanningView__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/Projects/PlanningView.tsx"),_components_Projects_TasksView__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/Projects/TasksView.tsx"),_FileView__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/components/Projects/FileView.tsx"),_AddTaskModal__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("./src/components/Projects/AddTaskModal.tsx"),_AddEpicModal__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("./src/components/Projects/AddEpicModal.tsx"),next_navigation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/@storybook+nextjs@8.6.12_esbuild@0.24.2_next@15.1.3_@babel+core@7.26.0_@opentelemetry+a_9e100856f2a8ba4ffb44f7006bfa8951/node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs"),_lib_utils_extract_id__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/utils/extract-id.ts");__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");function ProjectView({title="",initialTasks=[],initialEpics=[],initialSprints=[],initialProjects=[],initialReminders=[],initialColleagues=[],initialUsers=[],initialFiles=[],initialView="kanban",onAddTask,onUpdateTask,onDeleteTask,onTaskClick,onAddEpic,onUpdateEpic,onDeleteEpic,onAddTaskToEpic,onAddSprint,onUpdateSprint,onDeleteSprint,onAddProject,onUpdateProject,onDeleteProject,onFileAdd,onFileEdit,onFileDelete,onFileClick,onAddReminder,onUpdateReminder,onDeleteReminder,onViewChange,onToggleMobileMenu,onTeamClick,onTeamChange,onCopilotClick,handleAddComment}){const[tasks,setTasks]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialTasks),[epics,setEpics]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialEpics),[sprints,setSprints]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialSprints),[projects,setProjects]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialProjects),[reminders,setReminders]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialReminders),[colleagues,setColleagues]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialColleagues),[users,setUsers]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialUsers),[files,setFiles]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialFiles),[isAddTaskModalOpen,setIsAddTaskModalOpen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[isAddEpicModalOpen,setIsAddEpicModalOpen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[selectedTask,setSelectedTask]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[selectedEpicForTask,setSelectedEpicForTask]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[draggedTask,setDraggedTask]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null),[currentView,setCurrentView]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(initialView||"kanban"),[mobileMenuOpen,setMobileMenuOpen]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);(0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setTasks(initialTasks)}),[initialTasks]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setSprints(initialSprints)}),[initialSprints]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setEpics(initialEpics)}),[initialEpics]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setProjects(initialProjects)}),[initialProjects]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setFiles(initialFiles)}),[initialFiles]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setUsers(initialUsers)}),[initialUsers]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setColleagues(initialColleagues)}),[initialColleagues]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setReminders(initialReminders)}),[initialReminders]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)((()=>{setCurrentView(initialView)}),[initialView]);tasks.filter((task=>{}));const handleAddTask=newTask=>{const task={...newTask,id:Date.now(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};setTasks((prev=>[...prev,task])),null==onAddTask||onAddTask(task)},handleUpdateTask=async(taskId,updates)=>(setTasks((prev=>prev.map((task=>task.id===Number(taskId)?{...task,...updates}:task)))),await(null==onUpdateTask?void 0:onUpdateTask(taskId,updates))),handleDeleteTask=taskId=>{setTasks((prev=>prev.filter((task=>task.id!==Number(taskId))))),(null==selectedTask?void 0:selectedTask.id)===Number(taskId)&&setSelectedTask(null),null==onDeleteTask||onDeleteTask(taskId)},handleAddEpic=newEpic=>{const epic={...newEpic,id:Date.now(),createdAt:(new Date).toISOString(),updatedAt:(new Date).toISOString()};setEpics((prev=>[...prev,epic])),null==onAddEpic||onAddEpic({...epic})},handleTaskClick=task=>{setSelectedTask(task)},mockTeams=[{id:"1",name:"Product Development",avatar:"PD",lastUsed:new Date("2024-01-20")},{id:"2",name:"Engineering",avatar:"ENG",lastUsed:new Date("2024-01-19")},{id:"3",name:"Marketing Team",avatar:"MT",lastUsed:new Date("2024-01-18")},{id:"4",name:"Design System",avatar:"DS",lastUsed:new Date("2024-01-17")},{id:"5",name:"Sales Operations",avatar:"SO",lastUsed:new Date("2024-01-16")},{id:"6",name:"Customer Success",avatar:"CS",lastUsed:new Date("2024-01-15")}];mockTeams.sort(((a,b)=>b.lastUsed.getTime()-a.lastUsed.getTime())).slice(0,3),mockTeams.length,mockTeams.slice(3);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_DigitalColleagues_ManagementSidebar__WEBPACK_IMPORTED_MODULE_4__.M,{currentView,onViewChange:view=>{"planning"===view&&window.innerWidth<768||(setCurrentView(view),null==onViewChange||onViewChange(view))},children:["kanban"===currentView&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"h-full overflow-hidden",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Projects_KanbanBoardView__WEBPACK_IMPORTED_MODULE_5__.d,{initialProjects:projects,initialEpics:epics,initialSprints:sprints.map((sprint=>({...sprint,isSelected:!1}))),initialTasks:tasks,initialColleagues:colleagues,initialUsers:users,onAddTask:handleAddTask,onUpdateTask:handleUpdateTask,onDeleteTask:handleDeleteTask,onTaskClick:handleTaskClick,onAddEpic:handleAddEpic,onAddComment:handleAddComment})}),"planning"===currentView&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"hidden md:block h-full",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Projects_PlanningView__WEBPACK_IMPORTED_MODULE_6__.v,{tasks,epics,sprints,onUpdateTask:handleUpdateTask,onTaskClick:handleTaskClick,onAddSprint:newSprint=>{const sprint={...newSprint,id:Date.now()};setSprints((prev=>[...prev,sprint])),null==onAddSprint||onAddSprint(newSprint)},onUpdateSprint:(sprintId,updates)=>{setSprints((prev=>prev.map((sprint=>sprint.id===Number(sprintId)?{...sprint,...updates}:sprint)))),null==onUpdateSprint||onUpdateSprint(sprintId,updates)},onDeleteSprint:sprintId=>{"backlog"!==sprintId&&"all-tasks"!==sprintId&&(setSprints((prev=>prev.filter((sprint=>sprint.id!==Number(sprintId))))),setTasks((prev=>prev.map((task=>(0,_lib_utils_extract_id__WEBPACK_IMPORTED_MODULE_3__.d)(task.sprint)===Number(sprintId)?{...task,sprint:void 0}:task)))),null==onDeleteSprint||onDeleteSprint(sprintId))}})}),"tasks"===currentView&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"h-full",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Projects_TasksView__WEBPACK_IMPORTED_MODULE_7__.Q,{initialReminders:reminders,initialColleagues:colleagues,onAddReminder:newReminder=>{const reminder={...newReminder,id:Date.now(),createdAt:(new Date).toISOString()};setReminders((prev=>[...prev,reminder])),null==onAddReminder||onAddReminder(newReminder)},onUpdateReminder:(reminderId,updates)=>{setReminders((prev=>prev.map((reminder=>reminder.id===Number(reminderId)?{...reminder,...updates}:reminder)))),null==onUpdateReminder||onUpdateReminder(reminderId,updates)},onDeleteReminder:reminderId=>{setReminders((prev=>prev.filter((reminder=>reminder.id!==Number(reminderId))))),null==onDeleteReminder||onDeleteReminder(reminderId)}})}),"files"===currentView&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"h-full",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_FileView__WEBPACK_IMPORTED_MODULE_8__.A,{initialFiles:files,onFileAdd:()=>{null==onFileAdd||onFileAdd()},onFileEdit:file=>{null==onFileEdit||onFileEdit(file)},onFileDelete:fileId=>{setFiles((prev=>prev.filter((file=>file.name!==fileId)))),null==onFileDelete||onFileDelete(fileId)},onFileClick:file=>{null==onFileClick||onFileClick(file)},compactView:!1})}),"epics"===currentView&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"h-full",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_Projects_EpicsView__WEBPACK_IMPORTED_MODULE_9__.i,{tasks,epics,sprints,onUpdateTask:handleUpdateTask,onTaskClick:handleTaskClick,onAddTaskToEpic:task=>{setIsAddTaskModalOpen(!0)},onAddEpic:()=>{setIsAddEpicModalOpen(!0)},onUpdateEpic:(epicId,updates)=>{setEpics((prev=>prev.map((epic=>epic.id===Number(epicId)?{...epic,...updates}:epic)))),null==onUpdateEpic||onUpdateEpic(epicId,updates)},onDeleteEpic:epicId=>{setEpics((prev=>prev.filter((epic=>epic.id!==Number(epicId))))),setTasks((prev=>prev.filter((task=>(0,_lib_utils_extract_id__WEBPACK_IMPORTED_MODULE_3__.d)(task.epic)!==Number(epicId))))),null==onDeleteEpic||onDeleteEpic(epicId)}})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_AddTaskModal__WEBPACK_IMPORTED_MODULE_10__.o,{isOpen:isAddTaskModalOpen,onClose:()=>{setIsAddTaskModalOpen(!1),setSelectedEpicForTask(null)},onAddTask:handleAddTask,epics,sprints,assignees:[...colleagues,...users],defaultEpicId:selectedEpicForTask||void 0}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_AddEpicModal__WEBPACK_IMPORTED_MODULE_11__.k,{isOpen:isAddEpicModalOpen,onClose:()=>setIsAddEpicModalOpen(!1),onAddEpic:handleAddEpic})]})}ProjectView.__docgenInfo={description:"",methods:[],displayName:"ProjectView",props:{title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},initialTasks:{required:!1,tsType:{name:"Array",elements:[{name:"Task"}],raw:"Task[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialEpics:{required:!1,tsType:{name:"Array",elements:[{name:"Epic"}],raw:"Epic[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialSprints:{required:!1,tsType:{name:"Array",elements:[{name:"Sprint"}],raw:"Sprint[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialProjects:{required:!1,tsType:{name:"Array",elements:[{name:"Project"}],raw:"Project[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialReminders:{required:!1,tsType:{name:"Array",elements:[{name:"Reminder"}],raw:"Reminder[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialColleagues:{required:!1,tsType:{name:"Array",elements:[{name:"union",raw:"HumanColleague | TypedDigitalColleague",elements:[{name:"intersection",raw:"User & { type: 'human' }",elements:[{name:"User"},{name:"signature",type:"object",raw:"{ type: 'human' }",signature:{properties:[{key:"type",value:{name:"literal",value:"'human'",required:!0}}]}}]},{name:"intersection",raw:"DigitalColleague & { type: 'digital' }",elements:[{name:"DigitalColleague"},{name:"signature",type:"object",raw:"{ type: 'digital' }",signature:{properties:[{key:"type",value:{name:"literal",value:"'digital'",required:!0}}]}}]}]}],raw:"Colleague[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialUsers:{required:!1,tsType:{name:"Array",elements:[{name:"User"}],raw:"User[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialFiles:{required:!1,tsType:{name:"Array",elements:[{name:"FileType"}],raw:"FileType[]"},description:"",defaultValue:{value:"[]",computed:!1}},initialView:{required:!1,tsType:{name:"union",raw:"'kanban' | 'planning' | 'tasks' | 'files' | 'epics'",elements:[{name:"literal",value:"'kanban'"},{name:"literal",value:"'planning'"},{name:"literal",value:"'tasks'"},{name:"literal",value:"'files'"},{name:"literal",value:"'epics'"}]},description:"",defaultValue:{value:"'kanban'",computed:!1}},onAddTask:{required:!1,tsType:{name:"signature",type:"function",raw:"(newTask: Omit<Task, 'id' | 'createdAt'>) => void",signature:{arguments:[{type:{name:"Omit",elements:[{name:"Task"},{name:"union",raw:"'id' | 'createdAt'",elements:[{name:"literal",value:"'id'"},{name:"literal",value:"'createdAt'"}]}],raw:"Omit<Task, 'id' | 'createdAt'>"},name:"newTask"}],return:{name:"void"}}},description:""},onUpdateTask:{required:!1,tsType:{name:"signature",type:"function",raw:"(taskId: string, updates: Partial<Task>) => Promise<Task>",signature:{arguments:[{type:{name:"string"},name:"taskId"},{type:{name:"Partial",elements:[{name:"Task"}],raw:"Partial<Task>"},name:"updates"}],return:{name:"Promise",elements:[{name:"Task"}],raw:"Promise<Task>"}}},description:""},onDeleteTask:{required:!1,tsType:{name:"signature",type:"function",raw:"(taskId: string) => void",signature:{arguments:[{type:{name:"string"},name:"taskId"}],return:{name:"void"}}},description:""},onTaskClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(task: Task) => void",signature:{arguments:[{type:{name:"Task"},name:"task"}],return:{name:"void"}}},description:""},onAddEpic:{required:!1,tsType:{name:"signature",type:"function",raw:"(epic: Omit<Epic, 'id' | 'updatedAt' | 'createdAt'>) => void",signature:{arguments:[{type:{name:"Omit",elements:[{name:"Epic"},{name:"union",raw:"'id' | 'updatedAt' | 'createdAt'",elements:[{name:"literal",value:"'id'"},{name:"literal",value:"'updatedAt'"},{name:"literal",value:"'createdAt'"}]}],raw:"Omit<Epic, 'id' | 'updatedAt' | 'createdAt'>"},name:"epic"}],return:{name:"void"}}},description:""},onUpdateEpic:{required:!1,tsType:{name:"signature",type:"function",raw:"(epicId: string, updates: Partial<Epic>) => void",signature:{arguments:[{type:{name:"string"},name:"epicId"},{type:{name:"Partial",elements:[{name:"Epic"}],raw:"Partial<Epic>"},name:"updates"}],return:{name:"void"}}},description:""},onDeleteEpic:{required:!1,tsType:{name:"signature",type:"function",raw:"(epicId: string) => void",signature:{arguments:[{type:{name:"string"},name:"epicId"}],return:{name:"void"}}},description:""},onAddTaskToEpic:{required:!1,tsType:{name:"signature",type:"function",raw:"(epicId: string) => void",signature:{arguments:[{type:{name:"string"},name:"epicId"}],return:{name:"void"}}},description:""},onAddSprint:{required:!1,tsType:{name:"signature",type:"function",raw:"(sprint: Omit<Sprint, 'id'>) => void",signature:{arguments:[{type:{name:"Omit",elements:[{name:"Sprint"},{name:"literal",value:"'id'"}],raw:"Omit<Sprint, 'id'>"},name:"sprint"}],return:{name:"void"}}},description:""},onUpdateSprint:{required:!1,tsType:{name:"signature",type:"function",raw:"(sprintId: string, updates: Partial<Sprint>) => void",signature:{arguments:[{type:{name:"string"},name:"sprintId"},{type:{name:"Partial",elements:[{name:"Sprint"}],raw:"Partial<Sprint>"},name:"updates"}],return:{name:"void"}}},description:""},onDeleteSprint:{required:!1,tsType:{name:"signature",type:"function",raw:"(sprintId: string) => void",signature:{arguments:[{type:{name:"string"},name:"sprintId"}],return:{name:"void"}}},description:""},onAddProject:{required:!1,tsType:{name:"signature",type:"function",raw:"(project: Omit<Project, 'id'>) => void",signature:{arguments:[{type:{name:"Omit",elements:[{name:"Project"},{name:"literal",value:"'id'"}],raw:"Omit<Project, 'id'>"},name:"project"}],return:{name:"void"}}},description:""},onUpdateProject:{required:!1,tsType:{name:"signature",type:"function",raw:"(projectId: string, updates: Partial<Project>) => void",signature:{arguments:[{type:{name:"string"},name:"projectId"},{type:{name:"Partial",elements:[{name:"Project"}],raw:"Partial<Project>"},name:"updates"}],return:{name:"void"}}},description:""},onDeleteProject:{required:!1,tsType:{name:"signature",type:"function",raw:"(projectId: string) => void",signature:{arguments:[{type:{name:"string"},name:"projectId"}],return:{name:"void"}}},description:""},onFileAdd:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onFileEdit:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: FileType) => void",signature:{arguments:[{type:{name:"FileType"},name:"file"}],return:{name:"void"}}},description:""},onFileDelete:{required:!1,tsType:{name:"signature",type:"function",raw:"(fileId: string) => void",signature:{arguments:[{type:{name:"string"},name:"fileId"}],return:{name:"void"}}},description:""},onFileClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(file: FileType) => void",signature:{arguments:[{type:{name:"FileType"},name:"file"}],return:{name:"void"}}},description:""},onAddReminder:{required:!1,tsType:{name:"signature",type:"function",raw:"(reminder: Omit<Reminder, 'id' | 'createdAt'>) => void",signature:{arguments:[{type:{name:"Omit",elements:[{name:"Reminder"},{name:"union",raw:"'id' | 'createdAt'",elements:[{name:"literal",value:"'id'"},{name:"literal",value:"'createdAt'"}]}],raw:"Omit<Reminder, 'id' | 'createdAt'>"},name:"reminder"}],return:{name:"void"}}},description:""},onUpdateReminder:{required:!1,tsType:{name:"signature",type:"function",raw:"(reminderId: string, updates: Partial<Reminder>) => void",signature:{arguments:[{type:{name:"string"},name:"reminderId"},{type:{name:"Partial",elements:[{name:"Reminder"}],raw:"Partial<Reminder>"},name:"updates"}],return:{name:"void"}}},description:""},onDeleteReminder:{required:!1,tsType:{name:"signature",type:"function",raw:"(reminderId: string) => void",signature:{arguments:[{type:{name:"string"},name:"reminderId"}],return:{name:"void"}}},description:""},onViewChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(view: View) => void",signature:{arguments:[{type:{name:"union",raw:"'kanban' | 'planning' | 'tasks' | 'files' | 'epics'",elements:[{name:"literal",value:"'kanban'"},{name:"literal",value:"'planning'"},{name:"literal",value:"'tasks'"},{name:"literal",value:"'files'"},{name:"literal",value:"'epics'"}]},name:"view"}],return:{name:"void"}}},description:""},onToggleMobileMenu:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onTeamClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(teamId: string) => void",signature:{arguments:[{type:{name:"string"},name:"teamId"}],return:{name:"void"}}},description:""},onTeamChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(team: any) => void",signature:{arguments:[{type:{name:"any"},name:"team"}],return:{name:"void"}}},description:""},onCopilotClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},handleAddComment:{required:!1,tsType:{name:"signature",type:"function",raw:"({ content, taskId }: { taskId: string; content: string }) => Promise<Task>",signature:{arguments:[{type:{name:"signature",type:"object",raw:"{ taskId: string; content: string }",signature:{properties:[{key:"taskId",value:{name:"string",required:!0}},{key:"content",value:{name:"string",required:!0}}]}},name:""}],return:{name:"Promise",elements:[{name:"Task"}],raw:"Promise<Task>"}}},description:""}}}}}]);