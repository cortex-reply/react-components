"use strict";(self.webpackChunkcortex_react_components=self.webpackChunkcortex_react_components||[]).push([[7093],{"./src/components/Chat/Components/ApprovalRequest.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{I:()=>ApprovalRequestModal});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js");const ApprovalRequestModal=({isOpen=!0,reason,onClose,onApprove,onDeny,title="Approval Required"})=>{const[isProcessing,setIsProcessing]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1);return isOpen?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-full shadow-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-bold mb-3 text-primary",children:title}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-gray-600 mb-6",children:reason}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>{setIsProcessing(!0),onApprove(),onClose()},disabled:isProcessing,className:`\n              px-4 py-2 text-white border-none rounded text-sm font-bold flex-1\n              ${isProcessing?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 cursor-pointer"}\n            `,children:isProcessing?"Processing...":"Approve"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>{setIsProcessing(!0),onDeny(),onClose()},disabled:isProcessing,className:`\n              px-4 py-2 text-white border-none rounded text-sm font-bold flex-1\n              ${isProcessing?"bg-gray-400 cursor-not-allowed":"bg-red-600 hover:bg-red-700 cursor-pointer"}\n            `,children:isProcessing?"Processing...":"Deny"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>{setIsProcessing(!0),onDeny(),onClose()},disabled:isProcessing,className:`\n              px-4 py-2 text-white border-none rounded text-sm\n              ${isProcessing?"bg-gray-400 cursor-not-allowed":"bg-gray-500 hover:bg-gray-600 cursor-pointer"}\n            `,children:"Cancel"})]})]}):null};ApprovalRequestModal.__docgenInfo={description:"",methods:[],displayName:"ApprovalRequestModal",props:{isOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},reason:{required:!0,tsType:{name:"string"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onApprove:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onDeny:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},title:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Approval Required'",computed:!1}}}}},"./src/components/Chat/Components/ChatCardArtefact.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>ChatCardArtefact});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_components_ui_card__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./src/components/ui/card.tsx")),_barrel_optimize_names_Clock_lucide_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/clock.js"),_barrel_optimize_names_formatDistanceToNow_date_fns__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/formatDistanceToNow.js");function ChatCardArtefact({artefact,taskId,taskData:externalTaskData,loading=!1,error=null}){const taskData=externalTaskData||{id:taskId,name:"Loading...",description:"",status:"done",dateLogged:(new Date).toISOString(),project:{id:-1,name:""}};let formattedDate=taskData.dateLogged;try{const date=new Date(taskData.dateLogged);isNaN(date.getTime())||(formattedDate=(0,_barrel_optimize_names_formatDistanceToNow_date_fns__WEBPACK_IMPORTED_MODULE_2__.m)(date,{addSuffix:!0}))}catch(e){}return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.Zp,{className:"w-full max-w-md shadow-md",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.aR,{className:"pb-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex justify-between items-start",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.ZB,{className:"text-lg font-semibold",children:loading?"Loading...":taskData.name})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.Wu,{className:"pb-2",children:loading?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"animate-pulse h-4 bg-gray-200 rounded w-3/4 mb-2"}):error?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-red-500",children:"Error loading task details"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-foreground",children:artefact})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_card__WEBPACK_IMPORTED_MODULE_3__.wL,{className:"pt-2 flex items-center justify-between",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Clock_lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,{className:"h-3 w-3 mr-1"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{children:["Created ",formattedDate]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"mx-2",children:"•"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span",{children:["Task #",taskData.id]})]})})]})}ChatCardArtefact.__docgenInfo={description:"",methods:[],displayName:"ChatCardArtefact",props:{artefact:{required:!0,tsType:{name:"string"},description:""},taskId:{required:!0,tsType:{name:"number"},description:""},taskData:{required:!1,tsType:{name:"TaskData"},description:""},loading:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},error:{required:!1,tsType:{name:"any"},description:"",defaultValue:{value:"null",computed:!1}}}}},"./src/components/Chat/Components/ChatCardTask.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>ChatCardTask});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),card=__webpack_require__("./src/components/ui/card.tsx"),badge=__webpack_require__("./src/components/ui/badge.tsx"),clock=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/clock.js"),formatDistanceToNow=__webpack_require__("./node_modules/.pnpm/date-fns@4.1.0/node_modules/date-fns/formatDistanceToNow.js"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");var cn=__webpack_require__("./src/utils/cn.ts"),ChatCardTask_console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const getStatusColor=status=>{switch(status){case"backlog":default:return"bg-gray-200 text-gray-800";case"todo":return"bg-blue-200 text-blue-800";case"inProgress":return"bg-yellow-200 text-yellow-800";case"done":return"bg-green-200 text-green-800";case"cancelled":return"bg-red-200 text-red-800"}},formatStatus=status=>"inProgress"===status?"In Progress":status.charAt(0).toUpperCase()+status.slice(1);function ChatCardTask({data}){const{id,system,fetchLatest:initialFetchLatest,taskData:initialTaskData,error:initialError}=data||{};if(!id)return null;let taskData=null,loading=!0,error=initialError,fetchLatest=void 0===initialFetchLatest||initialFetchLatest;if(taskData=initialTaskData||{id,name:"Loading...",description:"",status:"todo",dateLogged:(new Date).toISOString(),project:void 0},ChatCardTask_console.log("ChatCardTask",{data,id,initialFetchLatest,system,fetchLatest,taskData,error}),fetchLatest){const{task,loading:taskLoading,error:taskError}=function useTask({taskId,polling=!0,system="payload"}){const[task,setTask]=(0,react.useState)(null),[loading,setLoading]=(0,react.useState)(!1),[error,setError]=(0,react.useState)(null),fetchTask=async(showLoading=!0)=>{if(taskId){showLoading&&setLoading(!0);try{const response=await fetch(`/api/tasks/${taskId}`);if(!response.ok)throw new Error(`Failed to fetch task: ${response.statusText}`);const data=await response.json();setTask(data)}catch(err){console.error("Error fetching task:",err),setError(err instanceof Error?err:new Error("Unknown error occurred"))}finally{showLoading&&setLoading(!1)}}},pollTask=()=>fetchTask(!1);return(0,react.useEffect)((()=>{taskId&&fetchTask(!0);let intervalId=null;return taskId&&polling&&(intervalId=setInterval(pollTask,5e3)),()=>{intervalId&&clearInterval(intervalId)}}),[taskId,polling]),{task,loading,error}}({taskId:id,system});taskData=task,loading=taskLoading,error=taskError}else loading=!1;const statusColor=getStatusColor((null==taskData?void 0:taskData.status)||"todo"),formattedStatus=formatStatus((null==taskData?void 0:taskData.status)||"todo");let formattedDate=(null==taskData?void 0:taskData.dateLogged)||(new Date).toISOString();try{const date=new Date((null==taskData?void 0:taskData.dateLogged)||"");isNaN(date.getTime())||(formattedDate=(0,formatDistanceToNow.m)(date,{addSuffix:!0}))}catch(e){}return(0,jsx_runtime.jsxs)(card.Zp,{className:(0,cn.cn)("w-full max-w-md shadow-md",error&&"border border-destructive"),children:[(0,jsx_runtime.jsxs)(card.aR,{className:"pb-2",children:[(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-start",children:[(0,jsx_runtime.jsx)(card.ZB,{className:"text-lg font-semibold",children:loading?"Loading...":(null==taskData?void 0:taskData.name)||"Task"}),(0,jsx_runtime.jsx)(badge.E,{className:`${statusColor}`,children:formattedStatus})]}),(null==taskData?void 0:taskData.project)&&(0,jsx_runtime.jsxs)(card.BT,{className:"text-sm text-gray-500",children:["Project: ",taskData.project.name]})]}),(0,jsx_runtime.jsx)(card.Wu,{className:"pb-2",children:loading?(0,jsx_runtime.jsx)("div",{className:"animate-pulse h-4 bg-gray-200 rounded w-3/4 mb-2"}):error?(0,jsx_runtime.jsx)("p",{className:"text-sm text-red-500",children:"Error loading task details"}):(0,jsx_runtime.jsx)("p",{className:"text-sm text-foreground",children:(null==taskData?void 0:taskData.description)||"......."})}),(0,jsx_runtime.jsx)(card.wL,{className:"pt-2 flex items-center justify-between",children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center text-xs text-gray-500",children:[(0,jsx_runtime.jsx)(clock.A,{className:"h-3 w-3 mr-1"}),(0,jsx_runtime.jsxs)("span",{children:["Created ",formattedDate]}),(0,jsx_runtime.jsx)("span",{className:"mx-2",children:"•"}),(0,jsx_runtime.jsxs)("span",{children:["Task #",id]})]})})]})}ChatCardTask.__docgenInfo={description:"",methods:[],displayName:"ChatCardTask",props:{data:{required:!1,tsType:{name:"signature",type:"object",raw:"{\n  id?: number\n  system?: string\n  // If true, will continously fetch the latest task data from the API\n  fetchLatest?: boolean\n  taskData?: TaskData\n  error?: Error | null\n}",signature:{properties:[{key:"id",value:{name:"number",required:!1}},{key:"system",value:{name:"string",required:!1}},{key:"fetchLatest",value:{name:"boolean",required:!1}},{key:"taskData",value:{name:"TaskData",required:!1}},{key:"error",value:{name:"union",raw:"Error | null",elements:[{name:"Error"},{name:"null"}],required:!1}}]}},description:""}}}},"./src/components/Chat/Components/Message.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{PV:()=>MessageContent,QB:()=>Message,Tx:()=>MessageAvatar});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),_components_ui_avatar__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/ui/avatar.tsx"),_lib_utils__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/utils/cn.ts"),class_variance_authority__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/.pnpm/class-variance-authority@0.7.1/node_modules/class-variance-authority/dist/index.mjs");const Message=({className,from,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("group flex w-full items-end justify-end gap-2 py-4","user"===from?"is-user":"is-assistant flex-row-reverse justify-end",className),...props}),messageContentVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_2__.F)("is-user:dark flex flex-col gap-2 overflow-hidden rounded-lg text-sm",{variants:{variant:{contained:["max-w-[80%] px-4 py-3","group-[.is-user]:bg-primary group-[.is-user]:text-primary-foreground","group-[.is-assistant]:bg-card group-[.is-assistant]:text-card-foreground"],flat:["group-[.is-user]:max-w-[80%] group-[.is-user]:bg-secondary group-[.is-user]:px-4 group-[.is-user]:py-3 group-[.is-user]:text-foreground","group-[.is-assistant]:text-foreground"]}},defaultVariants:{variant:"contained"}}),MessageContent=({children,className,variant,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)(messageContentVariants({variant,className})),...props,children}),MessageAvatar=({src,name,className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_3__.eu,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_1__.cn)("size-8 ring-1 ring-border",className),...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_3__.BK,{alt:"",className:"mt-0 mb-0",src}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_avatar__WEBPACK_IMPORTED_MODULE_3__.q5,{children:(null==name?void 0:name.slice(0,2))||"ME"})]});Message.__docgenInfo={description:"",methods:[],displayName:"Message",props:{from:{required:!0,tsType:{name:"UIMessage['role']",raw:"UIMessage['role']"},description:""}}},MessageContent.__docgenInfo={description:"",methods:[],displayName:"MessageContent"},MessageAvatar.__docgenInfo={description:"",methods:[],displayName:"MessageAvatar",props:{src:{required:!0,tsType:{name:"string"},description:""},name:{required:!1,tsType:{name:"string"},description:""}}}},"./src/components/Chat/Components/Oauth.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>OAuthModal});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js");const OAuthModal=({isOpen=!0,authUrl,onClose,onSuccess,description="This endpoint requires authentication to sync functions."})=>{const[isLoading,setIsLoading]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!1),[error,setError]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)("");return isOpen?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[1000]",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-md w-[90%] shadow-lg",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-lg font-bold mb-3 text-primary",children:"Authentication Required"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:description}),error&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"mb-4 p-2 bg-red-50 border border-red-200 rounded text-red-600 text-xs",children:error}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"flex gap-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:()=>{if(authUrl){setIsLoading(!0),setError("");try{const popup=window.open(authUrl,"oauth-popup","width=600,height=700,scrollbars=yes,resizable=yes,toolbar=no,menubar=no,location=no,directories=no,status=no");if(!popup)return setError("Popup blocked. Please allow popups for this site and try again."),void setIsLoading(!1);const pollTimer=setInterval((()=>{try{popup.closed&&(clearInterval(pollTimer),setIsLoading(!1),onSuccess(),onClose())}catch(e){}}),1e3);setTimeout((()=>{popup.closed||(popup.close(),clearInterval(pollTimer),setIsLoading(!1),setError("Authentication timed out. Please try again."))}),6e5)}catch(err){setError("Failed to open authentication window"),setIsLoading(!1)}}else setError("No authentication URL provided")},disabled:isLoading||!authUrl,className:`\n              px-4 py-2 text-white border-none rounded text-sm font-bold flex-1\n              ${isLoading||!authUrl?"bg-gray-400 cursor-not-allowed":"bg-green-600 hover:bg-green-700 cursor-pointer"}\n            `,children:isLoading?"Authenticating...":"Authenticate"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:async()=>{try{await navigator.clipboard.writeText(authUrl),setError("")}catch(err){setError("Failed to copy URL to clipboard")}},disabled:!authUrl,className:`\n              px-4 py-2 text-white border-none rounded text-sm\n              ${authUrl?"bg-blue-600 hover:bg-blue-700 cursor-pointer":"bg-gray-400 cursor-not-allowed"}\n            `,children:"Copy URL"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:onClose,className:"px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white border-none rounded text-sm cursor-pointer",children:"Cancel"})]})]})}):null};OAuthModal.__docgenInfo={description:"",methods:[],displayName:"OAuthModal",props:{isOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},authUrl:{required:!0,tsType:{name:"string"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSuccess:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},description:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'This endpoint requires authentication to sync functions.'",computed:!1}}}}},"./src/components/Chat/PartTypes/MessageHandler.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{_:()=>messageHandler});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),cn=__webpack_require__("./src/utils/cn.ts"),react=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),dist=__webpack_require__("./node_modules/.pnpm/streamdown@1.2.0_@types+react@19.0.2_react@19.0.0/node_modules/streamdown/dist/index.js");const Response=(0,react.memo)((({className,...props})=>(0,jsx_runtime.jsx)(dist.j,{className:(0,cn.cn)("size-full [&>*:first-child]:mt-0 [&>*:last-child]:mb-0",className),...props})),((prevProps,nextProps)=>prevProps.children===nextProps.children));Response.displayName="Response",Response.__docgenInfo={description:"",methods:[],displayName:"Response"};var react_use_controllable_state_dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-use-controllable-state@1.2.2_@types+react@19.0.2_react@19.0.0/node_modules/@radix-ui/react-use-controllable-state/dist/index.mjs"),collapsible=__webpack_require__("./src/components/ui/collapsible.tsx"),users=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/users.js"),chevron_down=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/chevron-down.js");const ColleagueHandoffContext=(0,react.createContext)(null),ColleagueHandoff=(0,react.memo)((({className,isStreaming=!1,name="Digital Colleague",open,defaultOpen=!0,onOpenChange,duration:durationProp,children,...props})=>{const[isOpen,setIsOpen]=(0,react_use_controllable_state_dist.i)({prop:open,defaultProp:defaultOpen,onChange:onOpenChange}),[duration,setDuration]=(0,react_use_controllable_state_dist.i)({prop:durationProp,defaultProp:0}),[hasAutoClosed,setHasAutoClosed]=(0,react.useState)(!1),[startTime,setStartTime]=(0,react.useState)(null);(0,react.useEffect)((()=>{isStreaming?null===startTime&&setStartTime(Date.now()):null!==startTime&&(setDuration(Math.ceil((Date.now()-startTime)/1e3)),setStartTime(null))}),[isStreaming,startTime,setDuration]),(0,react.useEffect)((()=>{if(defaultOpen&&!isStreaming&&isOpen&&!hasAutoClosed){const timer=setTimeout((()=>{setIsOpen(!1),setHasAutoClosed(!0)}),1e3);return()=>clearTimeout(timer)}}),[isStreaming,isOpen,defaultOpen,setIsOpen,hasAutoClosed]);return(0,jsx_runtime.jsx)(ColleagueHandoffContext.Provider,{value:{isStreaming,name,isOpen,setIsOpen,duration},children:(0,jsx_runtime.jsx)(collapsible.Nt,{className:(0,cn.cn)("not-prose mb-4",className),onOpenChange:newOpen=>{setIsOpen(newOpen)},open:isOpen,...props,children})})})),getThinkingMessage=(isStreaming,name,duration)=>isStreaming||0===duration?(0,jsx_runtime.jsxs)("p",{children:["Asking our ",name,"..."]}):void 0===duration?(0,jsx_runtime.jsxs)("p",{children:["Got an answer from our ",name]}):(0,jsx_runtime.jsxs)("p",{children:["Got an answer from our ",name," in ",duration," seconds"]}),ColleagueHandoffTrigger=(0,react.memo)((({className,children,...props})=>{const{isStreaming,isOpen,name,duration}=(()=>{const context=(0,react.useContext)(ColleagueHandoffContext);if(!context)throw new Error("ColleagueHandoff components must be used within ColleagueHandoff");return context})();return(0,jsx_runtime.jsx)(collapsible.R6,{className:(0,cn.cn)("flex w-full items-center gap-2 text-muted-foreground text-sm transition-colors hover:text-foreground",className),...props,children:null!=children?children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(users.A,{className:"size-4"}),getThinkingMessage(isStreaming,name,duration),(0,jsx_runtime.jsx)(chevron_down.A,{className:(0,cn.cn)("size-4 transition-transform",isOpen?"rotate-180":"rotate-0")})]})})})),ColleagueHandoffContent=(0,react.memo)((({className,children,...props})=>(0,jsx_runtime.jsx)(collapsible.Ke,{className:(0,cn.cn)("mt-4 text-sm","data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 text-muted-foreground outline-none data-[state=closed]:animate-out data-[state=open]:animate-in",className),...props,children:(0,jsx_runtime.jsx)(Response,{className:"grid gap-2",children})}))),ColleagueHandoffQuery=(0,react.memo)((({className,children,...props})=>(0,jsx_runtime.jsx)(collapsible.Ke,{className:(0,cn.cn)("mt-4 text-sm","data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 text-foreground outline-none data-[state=closed]:animate-out data-[state=open]:animate-in",className),...props,children:(0,jsx_runtime.jsx)(Response,{className:"grid gap-2",children})})));ColleagueHandoff.displayName="ColleagueHandoff",ColleagueHandoffTrigger.displayName="ColleagueHandoffTrigger",ColleagueHandoffContent.displayName="ColleagueHandoffContent",ColleagueHandoffQuery.displayName="ColleagueHandoffQuery",ColleagueHandoff.__docgenInfo={description:"",methods:[],displayName:"ColleagueHandoff",props:{isStreaming:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},name:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Digital Colleague'",computed:!1}},open:{required:!1,tsType:{name:"boolean"},description:""},defaultOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},duration:{required:!1,tsType:{name:"number"},description:""}}},ColleagueHandoffTrigger.__docgenInfo={description:"",methods:[],displayName:"ColleagueHandoffTrigger"},ColleagueHandoffContent.__docgenInfo={description:"",methods:[],displayName:"ColleagueHandoffContent",props:{children:{required:!0,tsType:{name:"string"},description:""}}},ColleagueHandoffQuery.__docgenInfo={description:"",methods:[],displayName:"ColleagueHandoffQuery",props:{children:{required:!0,tsType:{name:"string"},description:""}}};var Oauth=__webpack_require__("./src/components/Chat/Components/Oauth.tsx");const PartAuthenticateTool=({toolPart,index,addToolResult})=>{const[open,setOpen]=react.useState(!0),handleOAuthSuccess=()=>{addToolResult(toolPart.toolCallId,toolPart.type,"Authentication completed"),setOpen(!1)};switch(toolPart.state){case"input-available":var _toolPart_input,_toolPart_input1,_toolPart_output,_toolPart_input2;return(0,jsx_runtime.jsxs)("div",{className:"mb-2",children:[(0,jsx_runtime.jsx)(Oauth.L,{isOpen:open,authUrl:(null===(_toolPart_input=toolPart.input)||void 0===_toolPart_input?void 0:_toolPart_input.url)||(null===(_toolPart_input1=toolPart.input)||void 0===_toolPart_input1?void 0:_toolPart_input1.authUrl),onClose:()=>setOpen(!1),onSuccess:handleOAuthSuccess,description:(null===(_toolPart_output=toolPart.output)||void 0===_toolPart_output?void 0:_toolPart_output.reason)||(null===(_toolPart_input2=toolPart.input)||void 0===_toolPart_input2?void 0:_toolPart_input2.reason)}),!open&&(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center mt-3",children:(0,jsx_runtime.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-green-100 text-green-800 text-sm font-medium border border-green-200",children:[(0,jsx_runtime.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Authentication completed"]})})]},index);case"output-error":return(0,jsx_runtime.jsxs)("div",{className:"text-sm text-red-500",children:["Error: ",toolPart.errorText]},index);case"output-available":return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:"Authentication completed"===toolPart.output?(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center mt-3",children:(0,jsx_runtime.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-green-100 text-green-800 text-sm font-medium border border-green-200",children:[(0,jsx_runtime.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Authentication completed"]})}):(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center mt-3",children:(0,jsx_runtime.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-red-100 text-red-800 text-sm font-medium border border-red-200",children:[(0,jsx_runtime.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Authentication failed"]})})});default:return null}};PartAuthenticateTool.__docgenInfo={description:"",methods:[],displayName:"PartAuthenticateTool",props:{toolPart:{required:!0,tsType:{name:"TaskToolPart"},description:""},index:{required:!0,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},addToolResult:{required:!0,tsType:{name:"signature",type:"function",raw:"(toolCallId: string, tool: string, output: any) => void",signature:{arguments:[{type:{name:"string"},name:"toolCallId"},{type:{name:"string"},name:"tool"},{type:{name:"any"},name:"output"}],return:{name:"void"}}},description:""}}};var ApprovalRequest=__webpack_require__("./src/components/Chat/Components/ApprovalRequest.tsx");const PartApprovalTool=({toolPart,index,addToolResult})=>{const[open,setOpen]=react.useState(!0),[action,setAction]=react.useState(null),handleApprove=()=>{addToolResult(toolPart.toolCallId,toolPart.type,"Approved"),setOpen(!1),setAction("approve")},handleDeny=()=>{addToolResult(toolPart.toolCallId,toolPart.type,"Denied"),setOpen(!1),setAction("deny")};switch(toolPart.state){case"input-available":var _toolPart_input,_toolPart_output,_toolPart_input1;return(0,jsx_runtime.jsxs)("div",{className:"mb-2",children:[(0,jsx_runtime.jsx)(ApprovalRequest.I,{isOpen:open,onApprove:handleApprove,onDeny:handleDeny,onClose:()=>setOpen(!1),title:(null===(_toolPart_input=toolPart.input)||void 0===_toolPart_input?void 0:_toolPart_input.title)||"Approval Required",reason:(null===(_toolPart_output=toolPart.output)||void 0===_toolPart_output?void 0:_toolPart_output.reason)||(null===(_toolPart_input1=toolPart.input)||void 0===_toolPart_input1?void 0:_toolPart_input1.reason)}),!open&&(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["approve"===action&&(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center mt-3",children:(0,jsx_runtime.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-green-100 text-green-800 text-sm font-medium border border-green-200",children:[(0,jsx_runtime.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Approved"]})}),"deny"===action&&(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center mt-3",children:(0,jsx_runtime.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-red-100 text-red-800 text-sm font-medium border border-red-200",children:[(0,jsx_runtime.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Denied"]})})]})]},index);case"output-error":return(0,jsx_runtime.jsxs)("div",{className:"text-sm text-red-500",children:["Error: ",toolPart.errorText]},index);case"output-available":return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["approve"===toolPart.output&&(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center mt-3",children:(0,jsx_runtime.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-green-100 text-green-800 text-sm font-medium border border-green-200",children:[(0,jsx_runtime.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Approved"]})}),"deny"===toolPart.output&&(0,jsx_runtime.jsx)("div",{className:"flex items-center justify-center mt-3",children:(0,jsx_runtime.jsxs)("div",{className:"inline-flex items-center px-4 py-2 rounded-full bg-red-100 text-red-800 text-sm font-medium border border-red-200",children:[(0,jsx_runtime.jsx)("svg",{className:"h-4 w-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,jsx_runtime.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Denied"]})})]});default:return null}};PartApprovalTool.__docgenInfo={description:"",methods:[],displayName:"PartApprovalTool",props:{toolPart:{required:!0,tsType:{name:"TaskToolPart"},description:""},index:{required:!0,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},addToolResult:{required:!0,tsType:{name:"signature",type:"function",raw:"(toolCallId: string, tool: string, output: any) => void",signature:{arguments:[{type:{name:"string"},name:"toolCallId"},{type:{name:"string"},name:"tool"},{type:{name:"any"},name:"output"}],return:{name:"void"}}},description:""}}};var brain=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/brain.js");const ReasoningContext=(0,react.createContext)(null),Reasoning=(0,react.memo)((({className,isStreaming=!1,open,defaultOpen=!0,onOpenChange,duration:durationProp,children,...props})=>{const[isOpen,setIsOpen]=(0,react_use_controllable_state_dist.i)({prop:open,defaultProp:defaultOpen,onChange:onOpenChange}),[duration,setDuration]=(0,react_use_controllable_state_dist.i)({prop:durationProp,defaultProp:0}),[hasAutoClosed,setHasAutoClosed]=(0,react.useState)(!1),[startTime,setStartTime]=(0,react.useState)(null);(0,react.useEffect)((()=>{isStreaming?null===startTime&&setStartTime(Date.now()):null!==startTime&&(setDuration(Math.ceil((Date.now()-startTime)/1e3)),setStartTime(null))}),[isStreaming,startTime,setDuration]),(0,react.useEffect)((()=>{if(defaultOpen&&!isStreaming&&isOpen&&!hasAutoClosed){const timer=setTimeout((()=>{setIsOpen(!1),setHasAutoClosed(!0)}),1e3);return()=>clearTimeout(timer)}}),[isStreaming,isOpen,defaultOpen,setIsOpen,hasAutoClosed]);return(0,jsx_runtime.jsx)(ReasoningContext.Provider,{value:{isStreaming,isOpen,setIsOpen,duration},children:(0,jsx_runtime.jsx)(collapsible.Nt,{className:(0,cn.cn)("not-prose mb-4",className),onOpenChange:newOpen=>{setIsOpen(newOpen)},open:isOpen,...props,children})})})),Reasoning_getThinkingMessage=(isStreaming,duration)=>isStreaming||0===duration?(0,jsx_runtime.jsx)("p",{children:"Thinking..."}):void 0===duration?(0,jsx_runtime.jsx)("p",{children:"Thought for a few seconds"}):(0,jsx_runtime.jsxs)("p",{children:["Thought for ",duration," seconds"]}),ReasoningTrigger=(0,react.memo)((({className,children,...props})=>{const{isStreaming,isOpen,duration}=(()=>{const context=(0,react.useContext)(ReasoningContext);if(!context)throw new Error("Reasoning components must be used within Reasoning");return context})();return(0,jsx_runtime.jsx)(collapsible.R6,{className:(0,cn.cn)("flex w-full items-center gap-2 text-muted-foreground text-sm transition-colors hover:text-foreground",className),...props,children:null!=children?children:(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(brain.A,{className:"size-4"}),Reasoning_getThinkingMessage(isStreaming,duration),(0,jsx_runtime.jsx)(chevron_down.A,{className:(0,cn.cn)("size-4 transition-transform",isOpen?"rotate-180":"rotate-0")})]})})})),ReasoningContent=(0,react.memo)((({className,children,...props})=>(0,jsx_runtime.jsx)(collapsible.Ke,{className:(0,cn.cn)("mt-4 text-sm","data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 text-muted-foreground outline-none data-[state=closed]:animate-out data-[state=open]:animate-in",className),...props,children:(0,jsx_runtime.jsx)(Response,{className:"grid gap-2",children})})));Reasoning.displayName="Reasoning",ReasoningTrigger.displayName="ReasoningTrigger",ReasoningContent.displayName="ReasoningContent",Reasoning.__docgenInfo={description:"",methods:[],displayName:"Reasoning",props:{isStreaming:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},open:{required:!1,tsType:{name:"boolean"},description:""},defaultOpen:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"true",computed:!1}},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},duration:{required:!1,tsType:{name:"number"},description:""}}},ReasoningTrigger.__docgenInfo={description:"",methods:[],displayName:"ReasoningTrigger"},ReasoningContent.__docgenInfo={description:"",methods:[],displayName:"ReasoningContent",props:{children:{required:!0,tsType:{name:"string"},description:""}}};var badge=__webpack_require__("./src/components/ui/badge.tsx"),circle=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/circle.js"),clock=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/clock.js"),circle_check_big=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/circle-check-big.js"),circle_x=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/circle-x.js"),wrench=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/wrench.js"),ui_button=__webpack_require__("./src/components/ui/button.tsx"),bundle_full=(__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/check.js"),__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/copy.js"),__webpack_require__("./node_modules/.pnpm/shiki@3.19.0/node_modules/shiki/dist/bundle-full.mjs"));const CodeBlockContext=(0,react.createContext)({code:""}),lineNumberTransformer={name:"line-numbers",line(node,line){node.children.unshift({type:"element",tagName:"span",properties:{className:["inline-block","min-w-10","mr-4","text-right","select-none","text-muted-foreground"]},children:[{type:"text",value:String(line)}]})}};const CodeBlock=({code,language,showLineNumbers=!1,className,children,...props})=>{const[html,setHtml]=(0,react.useState)(""),[darkHtml,setDarkHtml]=(0,react.useState)(""),mounted=(0,react.useRef)(!1);return(0,react.useEffect)((()=>(async function highlightCode(code,language,showLineNumbers=!1){const transformers=showLineNumbers?[lineNumberTransformer]:[];return await Promise.all([(0,bundle_full.Yz)(code,{lang:language,theme:"one-light",transformers}),(0,bundle_full.Yz)(code,{lang:language,theme:"one-dark-pro",transformers})])}(code,language,showLineNumbers).then((([light,dark])=>{mounted.current||(setHtml(light),setDarkHtml(dark),mounted.current=!0)})),()=>{mounted.current=!1})),[code,language,showLineNumbers]),(0,jsx_runtime.jsx)(CodeBlockContext.Provider,{value:{code},children:(0,jsx_runtime.jsx)("div",{className:(0,cn.cn)("group relative w-full overflow-hidden rounded-md border bg-background text-foreground",className),...props,children:(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)("div",{className:"overflow-hidden dark:hidden [&>pre]:m-0 [&>pre]:bg-background! [&>pre]:p-4 [&>pre]:text-foreground! [&>pre]:text-sm [&_code]:font-mono [&_code]:text-sm",dangerouslySetInnerHTML:{__html:html}}),(0,jsx_runtime.jsx)("div",{className:"hidden overflow-hidden dark:block [&>pre]:m-0 [&>pre]:bg-background! [&>pre]:p-4 [&>pre]:text-foreground! [&>pre]:text-sm [&_code]:font-mono [&_code]:text-sm",dangerouslySetInnerHTML:{__html:darkHtml}}),children&&(0,jsx_runtime.jsx)("div",{className:"absolute top-2 right-2 flex items-center gap-2",children})]})})})};CodeBlock.__docgenInfo={description:"",methods:[],displayName:"CodeBlock",props:{code:{required:!0,tsType:{name:"string"},description:""},language:{required:!0,tsType:{name:"BundledLanguage"},description:""},showLineNumbers:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};const Tool=({className,...props})=>(0,jsx_runtime.jsx)(collapsible.Nt,{className:(0,cn.cn)("not-prose mb-4 w-full rounded-md border",className),...props}),getStatusBadge=status=>{const icons={"input-streaming":(0,jsx_runtime.jsx)(circle.A,{className:"size-4"}),"input-available":(0,jsx_runtime.jsx)(clock.A,{className:"size-4 animate-pulse"}),"approval-requested":(0,jsx_runtime.jsx)(clock.A,{className:"size-4 text-yellow-600"}),"approval-responded":(0,jsx_runtime.jsx)(circle_check_big.A,{className:"size-4 text-blue-600"}),"output-available":(0,jsx_runtime.jsx)(circle_check_big.A,{className:"size-4 text-green-600"}),"output-error":(0,jsx_runtime.jsx)(circle_x.A,{className:"size-4 text-red-600"}),"output-denied":(0,jsx_runtime.jsx)(circle_x.A,{className:"size-4 text-orange-600"})};return(0,jsx_runtime.jsxs)(badge.E,{className:"gap-1.5 rounded-full text-xs",variant:"secondary",children:[icons[status],{"input-streaming":"Pending","input-available":"Running","approval-requested":"Awaiting Approval","approval-responded":"Responded","output-available":"Completed","output-error":"Error","output-denied":"Denied"}[status]]})},ToolHeader=({className,title,type,state,...props})=>(0,jsx_runtime.jsxs)(collapsible.R6,{className:(0,cn.cn)("flex w-full items-center justify-between gap-4 p-3",className),...props,children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(wrench.A,{className:"size-4 text-muted-foreground"}),(0,jsx_runtime.jsx)("span",{className:"font-medium text-sm",children:null!=title?title:type.split("-").slice(1).join("-")}),getStatusBadge(state)]}),(0,jsx_runtime.jsx)(chevron_down.A,{className:"size-4 text-muted-foreground transition-transform group-data-[state=open]:rotate-180"})]}),ToolContent=({className,...props})=>(0,jsx_runtime.jsx)(collapsible.Ke,{className:(0,cn.cn)("data-[state=closed]:fade-out-0 data-[state=closed]:slide-out-to-top-2 data-[state=open]:slide-in-from-top-2 text-popover-foreground outline-none data-[state=closed]:animate-out data-[state=open]:animate-in",className),...props}),ToolInput=({className,input,...props})=>(0,jsx_runtime.jsxs)("div",{className:(0,cn.cn)("space-y-2 overflow-hidden p-4",className),...props,children:[(0,jsx_runtime.jsx)("h4",{className:"font-medium text-muted-foreground text-xs uppercase tracking-wide",children:"Parameters"}),(0,jsx_runtime.jsx)("div",{className:"rounded-md bg-muted/50",children:(0,jsx_runtime.jsx)(CodeBlock,{code:JSON.stringify(input,null,2),language:"json"})})]}),ToolOutput=({className,output,errorText,...props})=>{if(!output&&!errorText)return null;let Output=(0,jsx_runtime.jsx)("div",{children:output});return"object"!=typeof output||(0,react.isValidElement)(output)?"string"==typeof output&&(Output=(0,jsx_runtime.jsx)(CodeBlock,{code:output,language:"json"})):Output=(0,jsx_runtime.jsx)(CodeBlock,{code:JSON.stringify(output,null,2),language:"json"}),(0,jsx_runtime.jsxs)("div",{className:(0,cn.cn)("space-y-2 p-4",className),...props,children:[(0,jsx_runtime.jsx)("h4",{className:"font-medium text-muted-foreground text-xs uppercase tracking-wide",children:errorText?"Error":"Result"}),(0,jsx_runtime.jsxs)("div",{className:(0,cn.cn)("overflow-x-auto rounded-md text-xs [&_table]:w-full",errorText?"bg-destructive/10 text-destructive":"bg-muted/50 text-foreground"),children:[errorText&&(0,jsx_runtime.jsx)("div",{children:errorText}),Output]})]})};Tool.__docgenInfo={description:"",methods:[],displayName:"Tool"},ToolHeader.__docgenInfo={description:"",methods:[],displayName:"ToolHeader",props:{title:{required:!1,tsType:{name:"string"},description:""},type:{required:!0,tsType:{name:'ToolUIPart["type"]',raw:'ToolUIPart["type"]'},description:""},state:{required:!0,tsType:{name:'ToolUIPart["state"]',raw:'ToolUIPart["state"]'},description:""},className:{required:!1,tsType:{name:"string"},description:""}}},ToolContent.__docgenInfo={description:"",methods:[],displayName:"ToolContent"},ToolInput.__docgenInfo={description:"",methods:[],displayName:"ToolInput",props:{input:{required:!0,tsType:{name:'ToolUIPart["input"]',raw:'ToolUIPart["input"]'},description:""}}},ToolOutput.__docgenInfo={description:"",methods:[],displayName:"ToolOutput",props:{output:{required:!0,tsType:{name:'ToolUIPart["output"]',raw:'ToolUIPart["output"]'},description:""},errorText:{required:!0,tsType:{name:'ToolUIPart["errorText"]',raw:'ToolUIPart["errorText"]'},description:""}}};var icons_image=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/image.js"),file_text=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/file-text.js"),file=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/file.js"),download=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/download.js"),external_link=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@19.0.0/node_modules/lucide-react/dist/esm/icons/external-link.js"),card=__webpack_require__("./src/components/ui/card.tsx"),ChatCardTask=__webpack_require__("./src/components/Chat/Components/ChatCardTask.tsx"),ChatCardArtefact=__webpack_require__("./src/components/Chat/Components/ChatCardArtefact.tsx"),console=__webpack_require__("./node_modules/.pnpm/console-browserify@1.2.0/node_modules/console-browserify/index.js");const messageHandler=({message,addToolResult,status,messages})=>message.parts.map(((part,key)=>{if("text"===part.type)return(0,jsx_runtime.jsx)(Response,{children:part.text},`${key}`);if("file"===part.type){var _filePart_url;const filePart=part;return(0,jsx_runtime.jsx)("div",{className:"mb-2 p-2 bg-background/50 rounded-lg",children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(type=filePart.mediaType||"application/octet-stream",type.startsWith("image/")?(0,jsx_runtime.jsx)(icons_image.A,{className:"h-4 w-4"}):type.startsWith("text/")?(0,jsx_runtime.jsx)(file_text.A,{className:"h-4 w-4"}):(0,jsx_runtime.jsx)(file.A,{className:"h-4 w-4"})),(0,jsx_runtime.jsx)("div",{className:"flex-1 min-w-0",children:(0,jsx_runtime.jsx)("p",{className:"text-sm font-medium truncate",children:filePart.filename||(null===(_filePart_url=filePart.url)||void 0===_filePart_url?void 0:_filePart_url.split("/").pop())||"File"})}),filePart.url&&(0,jsx_runtime.jsx)(ui_button.$,{variant:"ghost",size:"sm",onClick:()=>window.open(filePart.url,"_blank"),className:"h-8 w-8 p-0",children:(0,jsx_runtime.jsx)(download.A,{className:"h-4 w-4"})})]})},key)}var type,_messages_at1;if(part.type.startsWith("tool-")){const toolPart=part,toolName=part.type.replace("tool-","");var _toolPart_input,_messages_at,_toolPart_input1;if(part.type.startsWith("tool-dc_a2a"))return(0,jsx_runtime.jsxs)(ColleagueHandoff,{name:(null==toolPart||null===(_toolPart_input=toolPart.input)||void 0===_toolPart_input?void 0:_toolPart_input.dcName)||"Digital Colleague",className:"w-full",isStreaming:"streaming"===status&&key===message.parts.length-1&&message.id===(null===(_messages_at=messages.at(-1))||void 0===_messages_at?void 0:_messages_at.id),children:[(0,jsx_runtime.jsx)(ColleagueHandoffTrigger,{}),(0,jsx_runtime.jsx)(ColleagueHandoffQuery,{children:null==toolPart||null===(_toolPart_input1=toolPart.input)||void 0===_toolPart_input1?void 0:_toolPart_input1.query}),(0,jsx_runtime.jsx)(ColleagueHandoffContent,{children:null==toolPart?void 0:toolPart.output})]},`${key}`);if("task"===toolName)switch(toolPart.state){case"input-available":return(0,jsx_runtime.jsx)("div",{className:"text-sm opacity-70",children:"Loading task..."},key);case"output-available":var _toolPart_output,_toolPart_input2;return(0,jsx_runtime.jsx)("div",{className:"mb-2",children:(0,jsx_runtime.jsx)(ChatCardTask.A,{data:{id:(null===(_toolPart_output=toolPart.output)||void 0===_toolPart_output?void 0:_toolPart_output.id)||(null===(_toolPart_input2=toolPart.input)||void 0===_toolPart_input2?void 0:_toolPart_input2.id),fetchLatest:!1,taskData:toolPart.output||toolPart.input}})},key);case"output-error":return(0,jsx_runtime.jsxs)("div",{className:"text-sm text-red-500",children:["Error: ",toolPart.errorText]},key);default:return null}if("tool-requestEndpointLogin"===part.type)return(0,jsx_runtime.jsx)("div",{className:"mb-2",children:(0,jsx_runtime.jsx)(PartAuthenticateTool,{toolPart,index:key,addToolResult:null!=addToolResult?addToolResult:()=>{}})},key);if("tool-authenticate"===part.type)return(0,jsx_runtime.jsx)("div",{className:"mb-2",children:(0,jsx_runtime.jsx)(PartAuthenticateTool,{toolPart,index:key,addToolResult:null!=addToolResult?addToolResult:()=>{}})},key);if("tool-requestApproval"===part.type)return console.log("Rendering PartApprovalTool with toolPart:",toolPart),(0,jsx_runtime.jsx)("div",{className:"mb-2",children:(0,jsx_runtime.jsx)(PartApprovalTool,{toolPart,index:key,addToolResult:null!=addToolResult?addToolResult:()=>{}})},key);if("artefact"===toolName)switch(toolPart.state){case"input-available":return(0,jsx_runtime.jsx)("div",{className:"text-sm opacity-70",children:"Loading artefact..."},key);case"output-available":var _toolPart_output1,_toolPart_output2,_toolPart_input3;return(0,jsx_runtime.jsx)("div",{className:"mb-2",children:(0,jsx_runtime.jsx)(ChatCardArtefact.L,{artefact:(null===(_toolPart_output1=toolPart.output)||void 0===_toolPart_output1?void 0:_toolPart_output1.description)||"",taskId:(null===(_toolPart_output2=toolPart.output)||void 0===_toolPart_output2?void 0:_toolPart_output2.id)||(null===(_toolPart_input3=toolPart.input)||void 0===_toolPart_input3?void 0:_toolPart_input3.id),taskData:toolPart.output||toolPart.input})},key);case"output-error":return(0,jsx_runtime.jsxs)("div",{className:"text-sm text-red-500",children:["Error: ",toolPart.errorText]},key);default:return null}return(0,jsx_runtime.jsx)("div",{className:"mb-2",children:(0,jsx_runtime.jsxs)(card.Zp,{className:"w-full max-w-md",children:[(0,jsx_runtime.jsx)(card.aR,{children:(0,jsx_runtime.jsx)(card.ZB,{className:"text-lg",children:toolName})}),(0,jsx_runtime.jsxs)(card.Wu,{children:["input-available"===toolPart.state&&(0,jsx_runtime.jsxs)("p",{className:"text-sm",children:["Processing ",toolName,"..."]}),"output-available"===toolPart.state&&(0,jsx_runtime.jsx)("pre",{className:"text-sm",children:JSON.stringify(toolPart.output,null,2)}),"output-error"===toolPart.state&&(0,jsx_runtime.jsxs)("p",{className:"text-sm text-red-500",children:["Error: ",toolPart.errorText]})]})]})},key)}if(part.type.startsWith("data-")){const dataPart=part,dataType=part.type.replace("data-","");var _dataPart_data_references,_dataPart_data,_dataPart_data1,_dataPart_data_items,_dataPart_data2;return"reference"===dataType?(0,jsx_runtime.jsx)("div",{className:"mb-2",children:(0,jsx_runtime.jsx)(card.Zp,{className:"w-full",children:(0,jsx_runtime.jsx)(card.Wu,{className:"p-4",children:(0,jsx_runtime.jsx)("div",{className:"space-y-2",children:null===(_dataPart_data=dataPart.data)||void 0===_dataPart_data||null===(_dataPart_data_references=_dataPart_data.references)||void 0===_dataPart_data_references?void 0:_dataPart_data_references.map(((ref,refIndex)=>(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2 p-2 rounded-md bg-muted/50",children:[(0,jsx_runtime.jsx)(badge.E,{variant:"outline",children:ref.type||"link"}),(0,jsx_runtime.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,jsx_runtime.jsx)("p",{className:"text-sm font-medium truncate",children:ref.title}),ref.description&&(0,jsx_runtime.jsx)("p",{className:"text-xs text-muted-foreground truncate",children:ref.description})]}),ref.url&&(0,jsx_runtime.jsx)(ui_button.$,{variant:"ghost",size:"sm",onClick:()=>window.open(ref.url,"_blank"),className:"h-8 w-8 p-0",children:(0,jsx_runtime.jsx)(external_link.A,{className:"h-4 w-4"})})]},refIndex)))})})})},key):"menu"===dataType?(0,jsx_runtime.jsx)("div",{className:"mb-2",children:(0,jsx_runtime.jsxs)(card.Zp,{className:"w-full",children:[(0,jsx_runtime.jsx)(card.aR,{children:(0,jsx_runtime.jsx)(card.ZB,{className:"text-lg",children:null===(_dataPart_data1=dataPart.data)||void 0===_dataPart_data1?void 0:_dataPart_data1.title})}),(0,jsx_runtime.jsx)(card.Wu,{children:(0,jsx_runtime.jsx)("div",{className:"space-y-2",children:null===(_dataPart_data2=dataPart.data)||void 0===_dataPart_data2||null===(_dataPart_data_items=_dataPart_data2.items)||void 0===_dataPart_data_items?void 0:_dataPart_data_items.map(((item,itemIndex)=>(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",className:"w-full justify-start",onClick:item.action,children:(0,jsx_runtime.jsxs)("div",{className:"text-left",children:[(0,jsx_runtime.jsx)("p",{className:"font-medium",children:item.label}),item.description&&(0,jsx_runtime.jsx)("p",{className:"text-xs text-muted-foreground",children:item.description})]})},itemIndex)))})})]})},key):(0,jsx_runtime.jsx)("div",{className:"mb-2",children:(0,jsx_runtime.jsxs)(card.Zp,{className:"w-full max-w-md",children:[(0,jsx_runtime.jsx)(card.aR,{children:(0,jsx_runtime.jsx)(card.ZB,{className:"text-lg",children:dataType})}),(0,jsx_runtime.jsx)(card.Wu,{children:(0,jsx_runtime.jsx)("pre",{className:"text-sm",children:JSON.stringify(dataPart.data,null,2)})})]})},key)}return"reasoning"===part.type?(0,jsx_runtime.jsxs)(Reasoning,{className:"w-full",isStreaming:"streaming"===status&&key===message.parts.length-1&&message.id===(null===(_messages_at1=messages.at(-1))||void 0===_messages_at1?void 0:_messages_at1.id),children:[(0,jsx_runtime.jsx)(ReasoningTrigger,{}),(0,jsx_runtime.jsx)(ReasoningContent,{children:part.text})]},`${key}`):"dynamic-tool"===part.type?(0,jsx_runtime.jsxs)(Tool,{defaultOpen:"output-available"!==part.state,children:[(0,jsx_runtime.jsx)(ToolHeader,{type:`tool-${part.toolName}`,state:part.state}),(0,jsx_runtime.jsxs)(ToolContent,{children:[(0,jsx_runtime.jsx)(ToolInput,{input:part.input}),(0,jsx_runtime.jsx)(ToolOutput,{output:part.output,errorText:part.errorText})]})]},`${message.id}-${key}`):void 0}))},"./src/components/ui/card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BT:()=>CardDescription,Wu:()=>CardContent,ZB:()=>CardTitle,Zp:()=>Card,aR:()=>CardHeader,wL:()=>CardFooter});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/.pnpm/next@15.1.3_@babel+core@7.26.0_@opentelemetry+api@1.9.0_react-dom@19.0.0_react@19.0.0__react@19.0.0_sass@1.83.0/node_modules/next/dist/compiled/react/index.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/utils/cn.ts");const Card=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("rounded-xl border bg-card text-card-foreground shadow",className),...props})));Card.displayName="Card";const CardHeader=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-col space-y-1.5 p-6",className),...props})));CardHeader.displayName="CardHeader";const CardTitle=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("font-semibold leading-none tracking-tight",className),...props})));CardTitle.displayName="CardTitle";const CardDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-sm text-muted-foreground",className),...props})));CardDescription.displayName="CardDescription";const CardContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("p-6 pt-0",className),...props})));CardContent.displayName="CardContent";const CardFooter=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex items-center p-6 pt-0",className),...props})));CardFooter.displayName="CardFooter",Card.__docgenInfo={description:"",methods:[],displayName:"Card"},CardHeader.__docgenInfo={description:"",methods:[],displayName:"CardHeader"},CardFooter.__docgenInfo={description:"",methods:[],displayName:"CardFooter"},CardTitle.__docgenInfo={description:"",methods:[],displayName:"CardTitle"},CardDescription.__docgenInfo={description:"",methods:[],displayName:"CardDescription"},CardContent.__docgenInfo={description:"",methods:[],displayName:"CardContent"}},"./src/components/ui/collapsible.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ke:()=>CollapsibleContent,Nt:()=>Collapsible,R6:()=>CollapsibleTrigger});var _radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-collapsible@1.1.2_@types+react-dom@19.0.2_@types+react@19.0.2__@types+r_7814785b51cdb2a1bc501fac3a0e1e24/node_modules/@radix-ui/react-collapsible/dist/index.mjs");const Collapsible=_radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_0__.bL,CollapsibleTrigger=_radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_0__.R6,CollapsibleContent=_radix_ui_react_collapsible__WEBPACK_IMPORTED_MODULE_0__.Ke}}]);